"use strict";(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[7508],{"./src/components/PageManipulationOverlay/PageAdditionalControls/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageAdditionalControls});var react=__webpack_require__("./node_modules/react/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageAdditionalControls(props){var t=(0,useTranslation.B)().t,moveToTop=props.moveToTop,moveToBottom=props.moveToBottom;return react.createElement(react.Fragment,null,react.createElement(DataElementWrapper.A,{dataElement:"pageAdditionalControlsHeader",className:"type","aria-label":"presentation"},t("option.thumbnailsControlOverlay.move")),react.createElement(DataElementWrapper.A,{className:"row",dataElement:"moveToTop",onClick:moveToTop},react.createElement(Button.A,{title:"action.movePageToTop",img:"icon-page-move-up",role:"option",onClick:moveToTop}),react.createElement("div",{className:"title"},t("action.moveToTop"))),react.createElement(DataElementWrapper.A,{className:"row",dataElement:"moveToBottom",onClick:moveToBottom},react.createElement(Button.A,{title:"action.movePageToBottom",img:"icon-page-move-down",role:"option",onClick:moveToBottom}),react.createElement("div",{className:"title"},t("action.moveToBottom"))))}const PageAdditionalControls_PageAdditionalControls=PageAdditionalControls;PageAdditionalControls.__docgenInfo={description:"",methods:[],displayName:"PageAdditionalControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),actions=__webpack_require__("./src/redux/actions/index.js"),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),propTypes={pageIndexes:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageAdditionalControlsContainer(props){var dispatch=(0,es.wA)(),pageNumbers=props.pageNumbers,warn=props.warn;return react.createElement(PageAdditionalControls_PageAdditionalControls,{moveToTop:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gP)(pageNumbers):(0,pageManipulationFunctions.gP)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},moveToBottom:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Iw)(pageNumbers):(0,pageManipulationFunctions.Iw)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageAdditionalControlsContainer.propTypes=propTypes;const PageAdditionalControls_PageAdditionalControlsContainer=PageAdditionalControlsContainer;PageAdditionalControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageAdditionalControlsContainer",props:{pageIndexes:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageAdditionalControls=PageAdditionalControls_PageAdditionalControlsContainer;PageAdditionalControls_PageAdditionalControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageAdditionalControlsContainer",props:{pageIndexes:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/PageManipulationOverlay/PageManipulationControls/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageManipulationControls});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageManipulationControls(props){var t=(0,useTranslation.B)().t,deletePages=props.deletePages,extractPages=props.extractPages,insertPages=props.insertPages,replacePages=props.replacePages;return react.createElement(react.Fragment,null,react.createElement(DataElementWrapper.A,{dataElement:"pageManipulationHeader",className:"type"},t("action.pageManipulation")),react.createElement(DataElementWrapper.A,{className:"row",dataElement:"insertPage",onClick:insertPages},react.createElement(Button.A,{title:"action.insertPage",img:"icon-page-insertion-insert",role:"option",onClickAnnouncement:"".concat(t("action.insertPage")," ").concat(t("action.modal")," ").concat(t("action.isOpen"))}),react.createElement("div",{className:"title"},t("action.insert"))),react.createElement(DataElementWrapper.A,{className:"row",dataElement:"replacePage",onClick:replacePages},react.createElement(Button.A,{title:"action.replacePage",img:"icon-page-replacement",role:"option",onClickAnnouncement:"".concat(t("action.replacePage")," ").concat(t("action.modal")," ").concat(t("action.isOpen"))}),react.createElement("div",{className:"title"},t("action.replace"))),react.createElement(DataElementWrapper.A,{className:"row",dataElement:"extractPage",onClick:extractPages},react.createElement(Button.A,{title:"action.extractPage",img:"icon-page-manipulation-extract",role:"option",onClickAnnouncement:"".concat(t("action.extractPage")," ").concat(t("action.modal")," ").concat(t("action.isOpen"))}),react.createElement("div",{className:"title"},t("action.extract"))),react.createElement(DataElementWrapper.A,{dataElement:"deletePage",className:"row",onClick:deletePages},react.createElement(Button.A,{title:"option.thumbnailPanel.delete",img:"icon-delete-line",role:"option",onClickAnnouncement:"".concat(t("action.delete")," ").concat(t("action.modal")," ").concat(t("action.isOpen"))}),react.createElement("div",{className:"title"},t("action.delete"))))}const PageManipulationControls_PageManipulationControls=PageManipulationControls;PageManipulationControls.__docgenInfo={description:"",methods:[],displayName:"PageManipulationControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),actions=__webpack_require__("./src/redux/actions/index.js"),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={pageNumbers:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageManipulationControlsContainer(props){var dispatch=(0,es.wA)(),pageNumbers=props.pageNumbers,warn=props.warn,isPageDeletionConfirmationModalEnabled=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.pageDeletionConfirmationModalEnabled(state)]})),1)[0],openInsertPageModal=function(){dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY)),dispatch(actions.A.openElement("insertPageModal"))};return react.createElement(PageManipulationControls_PageManipulationControls,{insertPages:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&openInsertPageModal():openInsertPageModal(),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},deletePages:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,isPageDeletionConfirmationModalEnabled):(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,isPageDeletionConfirmationModalEnabled),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},extractPages:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.ut)(pageNumbers,dispatch):(0,pageManipulationFunctions.ut)(pageNumbers,dispatch),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},replacePages:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.HC)(dispatch):(0,pageManipulationFunctions.HC)(dispatch),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageManipulationControlsContainer.propTypes=propTypes;const PageManipulationControls_PageManipulationControlsContainer=PageManipulationControlsContainer;PageManipulationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageManipulationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageManipulationControls=PageManipulationControls_PageManipulationControlsContainer;PageManipulationControls_PageManipulationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageManipulationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/PageManipulationOverlay/PageManipulationOverlay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageManipulationOverlay});var actions=__webpack_require__("./src/redux/actions/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageRotationControls(props){var t=(0,useTranslation.B)().t,rotateClockwise=props.rotateClockwise,rotateCounterClockwise=props.rotateCounterClockwise;return react.createElement(react.Fragment,null,react.createElement(DataElementWrapper.A,{dataElement:"pageRotationHeader",className:"type"},t("action.rotate")),react.createElement(DataElementWrapper.A,{dataElement:"rotatePageClockwise",className:"row",onClick:rotateClockwise},react.createElement(Button.A,{title:"option.thumbnailPanel.rotatePageClockwise",img:"icon-header-page-manipulation-page-rotation-clockwise-line",role:"option"}),react.createElement("div",{className:"title"},t("option.thumbnailPanel.rotateClockwise"))),react.createElement(DataElementWrapper.A,{dataElement:"rotatePageCounterClockwise",className:"row",onClick:rotateCounterClockwise},react.createElement(Button.A,{title:"option.thumbnailPanel.rotatePageCounterClockwise",img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",role:"option"}),react.createElement("div",{className:"title"},t("option.thumbnailPanel.rotateCounterClockwise"))))}const PageRotationControls_PageRotationControls=PageRotationControls;PageRotationControls.__docgenInfo={description:"",methods:[],displayName:"PageRotationControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),propTypes={pageNumbers:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageRotationControlsContainer(props){var dispatch=(0,es.wA)(),pageNumbers=props.pageNumbers,warn=props.warn;return react.createElement(PageRotationControls_PageRotationControls,{rotateCounterClockwise:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.cV)(pageNumbers):(0,pageManipulationFunctions.cV)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},rotateClockwise:function(){warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gH)(pageNumbers):(0,pageManipulationFunctions.gH)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageRotationControlsContainer.propTypes=propTypes;const PageRotationControls_PageRotationControlsContainer=PageRotationControlsContainer;PageRotationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageRotationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageRotationControls=PageRotationControls_PageRotationControlsContainer;PageRotationControls_PageRotationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageRotationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};var PageManipulationControls=__webpack_require__("./src/components/PageManipulationOverlay/PageManipulationControls/index.js"),PageAdditionalControls=__webpack_require__("./src/components/PageManipulationOverlay/PageAdditionalControls/index.js");function CustomPageManipulationOperations(props){var dataElement=props.dataElement,pageNumbers=props.pageNumbers,header=props.header,operations=props.operations;return react.createElement(react.Fragment,null,react.createElement(DataElementWrapper.A,{dataElement,className:"type"},header),operations.map((function(operation){return react.createElement(DataElementWrapper.A,{key:operation.dataElement,className:"row",dataElement:operation.dataElement,onClick:function(){return operation.onClick(pageNumbers)}},function renderIcon(operation){if(operation.img)return react.createElement(Button.A,{title:operation.title,img:operation.img,role:"option"})}(operation),react.createElement("div",{className:"title"},operation.title))})))}const CustomPageManipulationOperations_CustomPageManipulationOperations=CustomPageManipulationOperations;CustomPageManipulationOperations.__docgenInfo={description:"",methods:[],displayName:"CustomPageManipulationOperations"};const PageManipulationOverlay_CustomPageManipulationOperations=CustomPageManipulationOperations_CustomPageManipulationOperations;CustomPageManipulationOperations_CustomPageManipulationOperations.__docgenInfo={description:"",methods:[],displayName:"CustomPageManipulationOperations"};var types=__webpack_require__("./src/constants/types.js"),core=__webpack_require__("./src/core/index.js");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function InitialPageManipulationOverlay(param){var children=param.children,pageNumbers=param.pageNumbers,pageManipulationOverlayItems=param.pageManipulationOverlayItems,childrenArray=react.Children.toArray(children);return pageManipulationOverlayItems.map((function(item,index){var dataElement=item.dataElement,type=item.type,component=childrenArray.find((function(child){return child.props.dataElement===dataElement})),key=dataElement||"".concat(type,"-").concat(index);return component||("divider"===type&&(component=react.createElement("div",{className:"divider"})),"customPageOperation"===type&&(component=react.createElement(PageManipulationOverlay_CustomPageManipulationOperations,function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({key:dataElement,pageNumbers},item)))),component?react.cloneElement(component,{key}):null}))}function PageManipulationOverlay(props){var pageNumbers=props.pageNumbers,pageManipulationOverlayItems=props.pageManipulationOverlayItems,dispatch=(0,es.wA)(),closeOverlay=(0,react.useCallback)((function(){dispatch(actions.A.setPageManipulationOverlayAlternativePosition(null)),dispatch(actions.A.closeElements([dataElement.A.PAGE_MANIPULATION_OVERLAY]))}),[dispatch]),document=core.A.getDocument(),documentType=null==document?void 0:document.type,isXod=documentType===types._.XOD,isOffice=documentType===types._.OFFICE||documentType===types._.LEGACY_OFFICE,filteredPageManipulationOverlayItems=pageManipulationOverlayItems;if(isXod||isOffice){var removedIndices=filteredPageManipulationOverlayItems.reduce((function(acc,param,index){var _filteredPageManipulationOverlayItems_,_filteredPageManipulationOverlayItems_1,dataElement=param.dataElement;"pageAdditionalControls"===dataElement&&(acc.push(index),"divider"===(null===(_filteredPageManipulationOverlayItems_=filteredPageManipulationOverlayItems[index+1])||void 0===_filteredPageManipulationOverlayItems_?void 0:_filteredPageManipulationOverlayItems_.type)&&acc.push(index+1));"pageManipulationControls"===dataElement&&(acc.push(index),"divider"===(null===(_filteredPageManipulationOverlayItems_1=filteredPageManipulationOverlayItems[index-1])||void 0===_filteredPageManipulationOverlayItems_1?void 0:_filteredPageManipulationOverlayItems_1.type)&&acc.push(index-1));return acc}),[]);filteredPageManipulationOverlayItems=filteredPageManipulationOverlayItems.filter((function(_,index){return!removedIndices.includes(index)}))}return(0,react.useEffect)((function(){return core.A.addEventListener("documentLoaded",closeOverlay),function(){core.A.removeEventListener("documentLoaded",closeOverlay)}}),[]),react.createElement(InitialPageManipulationOverlay,{pageNumbers,pageManipulationOverlayItems:filteredPageManipulationOverlayItems},!isXod&&!isOffice&&react.createElement(PageAdditionalControls.A,{pageNumbers,dataElement:"pageAdditionalControls"}),react.createElement(PageManipulationOverlay_PageRotationControls,{pageNumbers,dataElement:"pageRotationControls"}),!isXod&&!isOffice&&react.createElement(PageManipulationControls.A,{pageNumbers,dataElement:"pageManipulationControls"}))}const PageManipulationOverlay_PageManipulationOverlay=PageManipulationOverlay;PageManipulationOverlay.__docgenInfo={description:"",methods:[],displayName:"PageManipulationOverlay"}}}]);