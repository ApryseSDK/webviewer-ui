(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[8192],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/DocumentControls/DocumentControls.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 0 8px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding-bottom:16px;padding-top:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsInput{padding-bottom:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsInput{padding-bottom:0}}.documentControls .documentControlsInput.customizableUI{padding:8px 0}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsInput .pagesInput{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsInput .pagesInput{font-size:13px}}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControls .documentControlsLabel{margin-top:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControls .documentControlsLabel{margin-top:8px;font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControls .documentControlsLabel{margin-top:8px;font-size:13px}}.documentControls .documentControlsLabel .multiSelectExampleLabel{color:var(--faded-text);margin-left:2px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Thumbnail/Thumbnail.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailControls/ThumbnailControls.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,':host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:"rotate delete . more";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay.modular-ui .Button:hover{border:1px solid var(--focus-border);background:var(--tools-button-hover)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}',""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailControlsMulti/ThumbnailControlsMulti.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .documentControlsContainer{margin-left:16px;margin-right:16px;margin-bottom:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .documentControlsContainer{margin-left:16px;margin-right:16px;margin-bottom:16px}}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px;display:block!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailsPanel/ThumbnailsPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto;height:40px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container{width:inherit;margin:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container{width:inherit;margin:16px}}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;accent-color:green;height:3px;background:#2980b9}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{height:5px;border-radius:6px}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:14px;width:14px;background-color:var(--slider-filled);border-radius:50%;border:2px solid var(--slider-filled);margin-top:-4px}.thumbnail-slider-container input[type=range]::-moz-range-track{height:5px;border-radius:4px}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnail-slider-container .slider{width:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container .slider{margin-top:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container .slider{margin-top:0}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .thumbnail-slider-container .slider .slider-element-container{width:auto;margin-left:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .thumbnail-slider-container .slider .slider-element-container{width:auto;margin-left:auto}}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ThumbnailsPanel{width:inherit;margin:0 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ThumbnailsPanel{width:inherit;margin:0 16px}}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.cellThumbContainer{border-radius:4px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/DocumentControls/DocumentControls.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/DocumentControls/DocumentControls.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Thumbnail/Thumbnail.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Thumbnail/Thumbnail.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ThumbnailControls/ThumbnailControls.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailControls/ThumbnailControls.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ThumbnailControlsMulti/ThumbnailControlsMulti.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailControlsMulti/ThumbnailControlsMulti.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ThumbnailsPanel/ThumbnailsPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ThumbnailsPanel/ThumbnailsPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ThumbnailsPanel/ThumbnailsPanel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_ThumbnailsPanel_ThumbnailsPanel});var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),dist_es=__webpack_require__("./node_modules/react-virtualized/dist/es/index.js"),index_esm=__webpack_require__("./node_modules/react-measure/dist/index.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),device=__webpack_require__("./src/helpers/device.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),actions=__webpack_require__("./src/redux/actions/index.js"),useDidUpdate=__webpack_require__("./src/hooks/useDidUpdate.js"),core=__webpack_require__("./src/core/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),Button=__webpack_require__("./src/components/Button/index.js"),dataElement=(__webpack_require__("./src/components/ThumbnailControls/ThumbnailControls.scss"),__webpack_require__("./src/constants/dataElement.js")),ToggleElementButton=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js");function PageManipulationOverlayButtonContainer(props){var className=props.className,pageIndex=props.pageIndex,dispatch=(0,es.wA)(),selectedPageIndexes=(0,es.d4)((function(state){return selectors.A.getSelectedThumbnailPageIndexes(state)}));return react.createElement("div",{className,onClick:function(){-1===selectedPageIndexes.indexOf(pageIndex)&&dispatch(actions.A.setSelectedPageThumbnails([pageIndex]))}},react.createElement(ToggleElementButton.A,{dataElement:dataElement.A.PAGE_MANIPULATION_OVERLAY_BUTTON,toggleElement:dataElement.A.PAGE_MANIPULATION,img:"icon-tool-more",title:"option.thumbnailPanel.moreOptions"}))}const PageManipulationOverlayButton_PageManipulationOverlayButtonContainer=PageManipulationOverlayButtonContainer;PageManipulationOverlayButtonContainer.__docgenInfo={description:"",methods:[],displayName:"PageManipulationOverlayButtonContainer"};const PageManipulationOverlayButton=PageManipulationOverlayButton_PageManipulationOverlayButtonContainer;PageManipulationOverlayButton_PageManipulationOverlayButtonContainer.__docgenInfo={description:"",methods:[],displayName:"PageManipulationOverlayButtonContainer"};var types=__webpack_require__("./src/constants/types.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),findFocusableElements=__webpack_require__("./src/helpers/findFocusableElements.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={index:prop_types_default().number.isRequired},ThumbnailControls_ThumbnailControls=function(param){var index=param.index,t=(0,useTranslation.B)().t,isElementDisabled=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementDisabled(state,"thumbnailControl")]})),1)[0],isMoreOptionDisabled=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementDisabled(state,dataElement.A.PAGE_MANIPULATION_OVERLAY_BUTTON)]})),1)[0],_useSelector2=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.pageDeletionConfirmationModalEnabled(state),selectors.A.getSelectedThumbnailPageIndexes(state)]})),2),isPageDeletionConfirmationModalEnabled=_useSelector2[0],selectedIndexes=_useSelector2[1],dispatch=(0,es.wA)(),buttonsRef=(0,react.useRef)([]),buttonContainerRef=(0,react.useRef)(null),_useSelector3=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.getCurrentPage(state),selectors.A.getThumbnailControlMenuItems(state),selectors.A.getFeatureFlags(state)]}),es.bN),3),currentPage=_useSelector3[0],pageThumbnailControlMenuItems=_useSelector3[1],featureFlags=_useSelector3[2],pageNumbers=selectedIndexes.length>0?selectedIndexes.map((function(i){return i+1})):[index+1],isCurrentPageInTheSelection=pageNumbers.includes(currentPage),customizableUI=featureFlags.customizableUI;isCurrentPageInTheSelection||(pageNumbers=[currentPage]);var document=core.A.getDocument(),documentType=null==document?void 0:document.type,isXod=documentType===types._.XOD,isOffice=documentType===types._.OFFICE||documentType===types._.LEGACY_OFFICE,BUTTONS_MAP={thumbRotateClockwise:react.createElement(Button.A,{className:"rotate-button",img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:function(){return(0,pageManipulationFunctions.gH)(pageNumbers)},title:"option.thumbnailPanel.rotatePageClockwise",dataElement:"thumbRotateClockwise"}),thumbRotateCounterClockwise:react.createElement(Button.A,{img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:function(){return(0,pageManipulationFunctions.cV)(pageNumbers)},title:"option.thumbnailPanel.rotatePageCounterClockwise",dataElement:"thumbRotateCounterClockwise"}),thumbDelete:react.createElement(Button.A,{className:"delete-button",img:"icon-delete-line",onClick:function(){return(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,isPageDeletionConfirmationModalEnabled)},title:"option.thumbnailPanel.delete",dataElement:"thumbDelete",onClickAnnouncement:"".concat(t("action.delete")," ").concat(t("action.modal")," ").concat(t("action.isOpen"))})},isCustomized=!1,occurredButtons=[],buttons=pageThumbnailControlMenuItems.map((function(item){var dataElement=item.dataElement,key=dataElement,component=BUTTONS_MAP[dataElement];if(occurredButtons.indexOf(dataElement)>-1)return null;if(occurredButtons.push(dataElement),!component){isCustomized=!0;var img=item.img,onClick=item.onClick,title=item.title;component=react.createElement(Button.A,{className:"".concat(dataElement,"-button"),img,onClick:function(){return onClick(currentPage)},title,dataElement})}return component?react.cloneElement(component,{key}):null}));return(0,react.useEffect)((function(){buttonsRef.current=(0,findFocusableElements.A)(buttonContainerRef.current),buttonsRef.current.length>0&&buttonsRef.current.forEach((function(element){element.tabIndex=-1}))}),[buttonsRef.current,buttons]),isElementDisabled?null:isXod||isOffice||(null==document?void 0:document.isWebViewerServerDocument())?react.createElement("div",{className:"thumbnailControls-overlay","data-element":"thumbnailControl",style:{display:"flex"}},react.createElement(Button.A,{img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:function(){return(0,pageManipulationFunctions.cV)(pageNumbers)},title:"option.thumbnailPanel.rotatePageCounterClockwise",dataElement:"thumbRotateCounterClockwise"}),react.createElement(Button.A,{img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:function(){return(0,pageManipulationFunctions.gH)(pageNumbers)},title:"option.thumbnailPanel.rotatePageClockwise",dataElement:"thumbRotateClockwise"})):react.createElement("div",{className:classnames_default()({"thumbnailControls-overlay":!0,"custom-buttons":isCustomized,"modular-ui":customizableUI}),"data-element":"thumbnailControl",ref:buttonContainerRef},buttons,isMoreOptionDisabled?null:react.createElement(PageManipulationOverlayButton,{className:"more-options",pageIndex:index}))};ThumbnailControls_ThumbnailControls.propTypes=propTypes;const components_ThumbnailControls_ThumbnailControls=ThumbnailControls_ThumbnailControls;ThumbnailControls_ThumbnailControls.__docgenInfo={description:"",methods:[],displayName:"ThumbnailControls",props:{index:{description:"",type:{name:"number"},required:!0}}};const components_ThumbnailControls=components_ThumbnailControls_ThumbnailControls;components_ThumbnailControls_ThumbnailControls.__docgenInfo={description:"",methods:[],displayName:"ThumbnailControls",props:{index:{description:"",type:{name:"number"},required:!0}}};const thumbnailSelectionModes_THUMBNAIL="thumbnail";__webpack_require__("./src/components/Thumbnail/Thumbnail.scss");var Choice=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Choice/Choice.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js");function Thumbnail_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Thumbnail_sliced_to_array(arr,i){return function Thumbnail_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function Thumbnail_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||Thumbnail_unsupported_iterable_to_array(arr,i)||function Thumbnail_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return Thumbnail_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||Thumbnail_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Thumbnail_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return Thumbnail_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Thumbnail_array_like_to_array(o,minLen):void 0}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var Thumbnail_Thumbnail=react.forwardRef((function(props,ref){var index=props.index,isSelected=props.isSelected,updateAnnotations=props.updateAnnotations,shiftKeyThumbnailPivotIndex=props.shiftKeyThumbnailPivotIndex,onFinishLoading=props.onFinishLoading,onLoad=props.onLoad,_props_onRemove=props.onRemove,onRemove=void 0===_props_onRemove?function(){}:_props_onRemove,onDragStart=props.onDragStart,onDragOver=props.onDragOver,isDraggable=props.isDraggable,shouldShowControls=props.shouldShowControls,thumbnailSize=props.thumbnailSize,currentPage=props.currentPage,_props_pageLabels=props.pageLabels,pageLabels=void 0===_props_pageLabels?[]:_props_pageLabels,selectedPageIndexes=props.selectedPageIndexes,isThumbnailMultiselectEnabled=props.isThumbnailMultiselectEnabled,isReaderModeOrReadOnly=props.isReaderModeOrReadOnly,dispatch=props.dispatch,actions=props.actions,isMobile=props.isMobile,canLoad=props.canLoad,onCancel=props.onCancel,isThumbnailSelectingPages=props.isThumbnailSelectingPages,thumbnailSelectionMode=props.thumbnailSelectionMode,activeDocumentViewerKey=props.activeDocumentViewerKey,panelSelector=props.panelSelector,parentKeyListener=props.parentKeyListener,thumbSize=thumbnailSize?Number(thumbnailSize):150,_useState=Thumbnail_sliced_to_array((0,react.useState)(-1),2),currentFocusIndex=_useState[0],setCurrentFocusIndex=_useState[1],thumbContainerRef=(0,react.useRef)(null),buttonRefs=(0,react.useRef)([]),buttonMultiSelectRefs=(0,react.useRef)([]),_useState1=Thumbnail_sliced_to_array((0,react.useState)({width:thumbSize,height:thumbSize}),2),dimensions=_useState1[0],setDimensions=_useState1[1],t=(0,useTranslation.B)().t,_useState2=Thumbnail_sliced_to_array((0,react.useState)(!1),2),loaded=_useState2[0],setLoaded=_useState2[1],loadTimeout=null;(0,react.useEffect)((function(){var handleClickOutside=function(event){thumbContainerRef.current&&!thumbContainerRef.current.contains(event.target)&&preventDefaultTab()};return document.addEventListener("mousedown",handleClickOutside),function(){document.removeEventListener("mousedown",handleClickOutside)}}),[]);var loadThumbnailAsync=function(){loadTimeout=setTimeout((function(){var _ref,thumbnailContainer=(0,getRootNode.Ay)().querySelector(".ThumbnailsPanel.".concat(panelSelector," #pageThumb").concat(index)),pageNum=index+1,viewerRotation=core.A.getRotation(pageNum),doc=core.A.getDocument(activeDocumentViewerKey);if(doc&&doc.getPageInfo(pageNum)){var id=doc.loadCanvas({pageNumber:pageNum,width:thumbSize,height:thumbSize,drawComplete:(_ref=function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}((function(thumb){var thumbnailContainer,childElement,ratio,cssTransform;return _ts_generator(this,(function(_state){return(thumbnailContainer=(0,getRootNode.Ay)().querySelector(".ThumbnailsPanel.".concat(panelSelector," #pageThumb").concat(index)))&&((childElement=thumbnailContainer.querySelector(".page-image"))&&thumbnailContainer.removeChild(childElement),thumb.className="page-image",ratio=Math.min(thumbSize/thumb.width,thumbSize/thumb.height),thumb.style.width="".concat(thumb.width*ratio,"px"),thumb.style.height="".concat(thumb.height*ratio,"px"),setDimensions({width:Number(thumb.width),height:Number(thumb.height)}),Math.abs(viewerRotation)&&(cssTransform="rotate(".concat(90*viewerRotation,"deg) translate(-50%,-50%)"),thumb.style.transform=cssTransform,thumb.style["transform-origin"]="top left",thumb.style["ms-transform"]=cssTransform,thumb.style["ms-transform-origin"]="top left",thumb.style["-moz-transform"]=cssTransform,thumb.style["-moz-transform-origin"]="top left",thumb.style["-webkit-transform-origin"]="top left",thumb.style["-webkit-transform"]=cssTransform,thumb.style["-o-transform"]=cssTransform,thumb.style["-o-transform-origin"]="top left"),thumbnailContainer.appendChild(thumb)),updateAnnotations&&updateAnnotations(index),onFinishLoading(index),setLoaded(!0),[2]}))})),function(thumb){return _ref.apply(this,arguments)}),allowUseOfOptimizedThumbnail:!0});onLoad(index,thumbnailContainer,id)}}),50)};(0,react.useEffect)((function(){var onPagesUpdated=function(changes){var contentChanged=changes.contentChanged,moved=changes.moved,added=changes.added,removed=changes.removed,currentPage=index+1,isPageAdded=added.includes(currentPage),didPageChange=contentChanged.some((function(changedPage){return currentPage===changedPage})),didPageMove=Object.keys(moved).some((function(movedPage){return currentPage===parseInt(movedPage)})),isPageRemoved=removed.includes(currentPage),newPageCount=core.A.getTotalPages();removed.length>0&&index+1>newPageCount||(isPageAdded||didPageChange||didPageMove||isPageRemoved)&&loadThumbnailAsync()},onRotationUpdated=function(){setLoaded(!1),loadThumbnailAsync()};return core.A.addEventListener("pagesUpdated",onPagesUpdated),core.A.addEventListener("rotationUpdated",onRotationUpdated),canLoad&&loadThumbnailAsync(),function(){core.A.removeEventListener("pagesUpdated",onPagesUpdated),core.A.removeEventListener("rotationUpdated",onRotationUpdated),clearTimeout(loadTimeout),onRemove(index)}}),[]),(0,useDidUpdate.A)((function(){canLoad?(loadThumbnailAsync(),updateAnnotations(index)):onCancel(index)}),[canLoad,activeDocumentViewerKey]);var isActive=currentPage===index+1,pageLabel=pageLabels[index],checkboxRotateClass="default",rotation=core.A.getRotation(index+1);((!rotation||2===rotation)&&dimensions.width>dimensions.height||(1===rotation||3===rotation)&&dimensions.width<dimensions.height)&&(checkboxRotateClass="rotated"),(0,react.useImperativeHandle)(ref,(function(){return{focusInput:function(){isThumbnailSelectingPages&&loaded?(selectElement(buttonMultiSelectRefs.current[0]),setCurrentFocusIndex(0)):buttonRefs.current&&setTimeout((function(){selectElement(buttonRefs.current[0]),setCurrentFocusIndex(0)}),0)}}}));var selectElement=function(element){element&&(element.ariaCurrent="page",element.focus())},deselectElement=function(element){element&&(element.ariaCurrent=void 0)},handleEnterGrid=function(e){e.preventDefault(),preventDefaultTab()},preventDefaultTab=function(){buttonRefs.current.forEach((function(elem){deselectElement(elem)}))},handleKeyDown=(0,react.useCallback)((function(e){e.stopPropagation(),parentKeyListener(e);var _leaveFocusActions_e_key,leaveFocusActions={Tab:function(){return handleEnterGrid(e)},Escape:function(){return handleEnterGrid(e)}};leaveFocusActions[e.key]&&(null===(_leaveFocusActions_e_key=leaveFocusActions[e.key])||void 0===_leaveFocusActions_e_key||_leaveFocusActions_e_key.call(leaveFocusActions));var keyboardActions={ArrowUp:function(){return handleArrowKey(e,-1)},ArrowDown:function(){return handleArrowKey(e,1)},ArrowLeft:function(){return handleArrowKey(e,-1)},ArrowRight:function(){return handleArrowKey(e,1)}};keyboardActions[e.key]&&!isMultiselectEnabled&&keyboardActions[e.key]()}),[buttonRefs.current,currentFocusIndex]),handleArrowKey=function(e,direction){e.preventDefault(),0!==buttonRefs.current.length&&setCurrentFocusIndex((function(prevIndex){var newFocusIndex=prevIndex+direction;return newFocusIndex<0?newFocusIndex=buttonRefs.current.length-1:newFocusIndex>=buttonRefs.current.length&&(newFocusIndex=0),updateTabIndexes(buttonRefs.current[newFocusIndex]),newFocusIndex}))},updateTabIndexes=function(focusedElement){buttonRefs.current.forEach((function(elem){elem===focusedElement?selectElement(elem):deselectElement(elem)}))};(0,react.useEffect)((function(){thumbContainerRef.current&&(buttonRefs.current=(0,findFocusableElements.A)(thumbContainerRef.current))}),[shouldShowControls,isActive,loaded]),(0,react.useEffect)((function(){thumbContainerRef.current&&(buttonMultiSelectRefs.current=(0,findFocusableElements.A)(thumbContainerRef.current))}),[isThumbnailSelectingPages,loaded]);var isMultiselectEnabled=isThumbnailSelectingPages&&loaded;return react.createElement("button",{className:classnames_default()({Thumbnail:!0,active:isActive,selected:isSelected&&isThumbnailSelectingPages}),onDragOver:function(e){return onDragOver(e,index)},id:"Thumbnail-container",ref:thumbContainerRef,onKeyDown:function(e){return handleKeyDown(e)},onClick:function(e){var checkboxToggled=e.target.type&&"checkbox"===e.target.type;if(isThumbnailMultiselectEnabled&&!isReaderModeOrReadOnly){var multiSelectionKeyPressed=e.ctrlKey||e.metaKey,shiftKeyPressed=e.shiftKey,updatedSelectedPages=_to_consumable_array(selectedPageIndexes);if(shiftKeyPressed){dispatch(actions.setThumbnailSelectingPages(!0));var shiftKeyPivot=shiftKeyThumbnailPivotIndex;null===shiftKeyPivot&&(shiftKeyPivot=currentPage-1,dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot)));var currSelectMinIndex=Math.min(shiftKeyPivot,index),currSelectMaxIndex=Math.max(shiftKeyPivot,index);updatedSelectedPages=_to_consumable_array(new Set(_to_consumable_array(Array.from({length:currSelectMaxIndex-currSelectMinIndex+1},(function(_,i){return i+currSelectMinIndex})))))}else multiSelectionKeyPressed||isThumbnailSelectingPages?(dispatch(actions.setThumbnailSelectingPages(!0)),(multiSelectionKeyPressed||checkboxToggled||thumbnailSelectionMode===thumbnailSelectionModes_THUMBNAIL)&&(0!==selectedPageIndexes.length||isThumbnailSelectingPages?selectedPageIndexes.includes(index)?updatedSelectedPages=selectedPageIndexes.filter((function(pageIndex){return index!==pageIndex})):updatedSelectedPages.push(index):updatedSelectedPages.push(currentPage-1)),dispatch(actions.setShiftKeyThumbnailsPivotIndex(index))):updatedSelectedPages=[index];var lastSelectedPageIndex=updatedSelectedPages[updatedSelectedPages.length-1];!isThumbnailSelectingPages&&!shiftKeyPressed&&dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex)),dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages))}else isMobile()&&dispatch(actions.closeElement("leftPanel"));setTimeout((function(){checkboxToggled&&thumbnailSelectionMode!==thumbnailSelectionModes_THUMBNAIL||core.A.setCurrentPage(index+1)}),0)},style:{width:thumbSize,cursor:"pointer",background:"none",border:"none"},tabIndex:-1},react.createElement("div",{className:"container",style:{height:thumbSize,width:thumbSize},onDragStart:function(e){return onDragStart(e,index)},draggable:isDraggable,tabIndex:-1},react.createElement("div",{id:"pageThumb".concat(index),className:"thumbnail"}),isThumbnailSelectingPages&&loaded&&react.createElement(Choice.G,{className:"checkbox ".concat(checkboxRotateClass),checked:selectedPageIndexes.includes(index),"aria-label":"".concat(t("action.page")," ").concat(pageLabel," ").concat(t("formField.types.checkbox")),tabIndex:-1})),react.createElement("div",{className:"page-label"},pageLabel),!isThumbnailSelectingPages&&isActive&&shouldShowControls&&react.createElement(components_ThumbnailControls,{index}))}));Thumbnail_Thumbnail.displayName="Thumbnail",Thumbnail_Thumbnail.propTypes={index:prop_types_default().number,isSelected:prop_types_default().bool,updateAnnotations:prop_types_default().func,shiftKeyThumbnailPivotIndex:prop_types_default().number,onFinishLoading:prop_types_default().func,onLoad:prop_types_default().func,onRemove:prop_types_default().func,onDragStart:prop_types_default().func,onDragOver:prop_types_default().func,isDraggable:prop_types_default().bool,shouldShowControls:prop_types_default().bool,thumbnailSize:prop_types_default().number,currentPage:prop_types_default().number,pageLabels:prop_types_default().array,selectedPageIndexes:prop_types_default().array,isThumbnailMultiselectEnabled:prop_types_default().bool,isReaderModeOrReadOnly:prop_types_default().bool,dispatch:prop_types_default().func,actions:prop_types_default().object,isMobile:prop_types_default().func,canLoad:prop_types_default().bool,onCancel:prop_types_default().func,isThumbnailSelectingPages:prop_types_default().bool,thumbnailSelectionMode:prop_types_default().string,activeDocumentViewerKey:prop_types_default().number,panelSelector:prop_types_default().string,parentKeyListener:prop_types_default().func};const components_Thumbnail_Thumbnail=Thumbnail_Thumbnail;function ThumbnailRedux_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ThumbnailRedux_sliced_to_array(arr,i){return function ThumbnailRedux_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function ThumbnailRedux_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function ThumbnailRedux_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ThumbnailRedux_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ThumbnailRedux_array_like_to_array(o,minLen)}(arr,i)||function ThumbnailRedux_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Thumbnail_Thumbnail.__docgenInfo={description:"",methods:[{name:"focusInput",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Thumbnail",props:{index:{description:"",type:{name:"number"},required:!1},isSelected:{description:"",type:{name:"bool"},required:!1},updateAnnotations:{description:"",type:{name:"func"},required:!1},shiftKeyThumbnailPivotIndex:{description:"",type:{name:"number"},required:!1},onFinishLoading:{description:"",type:{name:"func"},required:!1},onLoad:{description:"",type:{name:"func"},required:!1},onRemove:{description:"",type:{name:"func"},required:!1},onDragStart:{description:"",type:{name:"func"},required:!1},onDragOver:{description:"",type:{name:"func"},required:!1},isDraggable:{description:"",type:{name:"bool"},required:!1},shouldShowControls:{description:"",type:{name:"bool"},required:!1},thumbnailSize:{description:"",type:{name:"number"},required:!1},currentPage:{description:"",type:{name:"number"},required:!1},pageLabels:{description:"",type:{name:"array"},required:!1},selectedPageIndexes:{description:"",type:{name:"array"},required:!1},isThumbnailMultiselectEnabled:{description:"",type:{name:"bool"},required:!1},isReaderModeOrReadOnly:{description:"",type:{name:"bool"},required:!1},dispatch:{description:"",type:{name:"func"},required:!1},actions:{description:"",type:{name:"object"},required:!1},isMobile:{description:"",type:{name:"func"},required:!1},canLoad:{description:"",type:{name:"bool"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},isThumbnailSelectingPages:{description:"",type:{name:"bool"},required:!1},thumbnailSelectionMode:{description:"",type:{name:"string"},required:!1},activeDocumentViewerKey:{description:"",type:{name:"number"},required:!1},panelSelector:{description:"",type:{name:"string"},required:!1},parentKeyListener:{description:"",type:{name:"func"},required:!1}}};var ThumbnailRedux=react.forwardRef((function(props,ref){var _useSelector=ThumbnailRedux_sliced_to_array((0,es.d4)((function(state){return[selectors.A.getCurrentPage(state),selectors.A.getPageLabels(state),selectors.A.getSelectedThumbnailPageIndexes(state),selectors.A.isThumbnailMultiselectEnabled(state),selectors.A.isReaderMode(state),selectors.A.isDocumentReadOnly(state),selectors.A.getShiftKeyThumbnailPivotIndex(state),selectors.A.isThumbnailSelectingPages(state),selectors.A.getThumbnailSelectionMode(state),selectors.A.getActiveDocumentViewerKey(state)]}),es.bN),11),currentPage=_useSelector[0],pageLabels=_useSelector[1],selectedPageIndexes=_useSelector[2],isThumbnailMultiselectEnabled=_useSelector[3],isReaderMode=_useSelector[4],isDocumentReadOnly=_useSelector[5],shiftKeyThumbnailPivotIndex=_useSelector[6],isThumbnailSelectingPages=_useSelector[7],thumbnailSelectionMode=_useSelector[8],activeDocumentViewerKey=_useSelector[9],selectionModes=_useSelector[10],dispatch=(0,es.wA)();return react.createElement(components_Thumbnail_Thumbnail,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({},props),{ref,currentPage,pageLabels,selectedPageIndexes,isThumbnailMultiselectEnabled,isReaderModeOrReadOnly:isReaderMode||isDocumentReadOnly,dispatch,actions:actions.A,isMobile:device.Fr,shiftKeyThumbnailPivotIndex,isThumbnailSelectingPages,thumbnailSelectionMode,selectionModes,activeDocumentViewerKey}))}));ThumbnailRedux.displayName="ThumbnailRedux";const Thumbnail_ThumbnailRedux=ThumbnailRedux;ThumbnailRedux.__docgenInfo={description:"",methods:[],displayName:"ThumbnailRedux"};const components_Thumbnail=Thumbnail_ThumbnailRedux;Thumbnail_ThumbnailRedux.__docgenInfo={description:"",methods:[],displayName:"ThumbnailRedux"};var getPageArrayFromString=__webpack_require__("./src/helpers/getPageArrayFromString.js");var panel=__webpack_require__("./src/constants/panel.js");__webpack_require__("./src/components/ThumbnailControlsMulti/ThumbnailControlsMulti.scss");function MoveOperations(param){var moveToTop=param.moveToTop,moveToBottom=param.moveToBottom;return react.createElement(react.Fragment,null,react.createElement(Button.A,{className:"button-hover",dataElement:"moveToTop",img:"icon-page-move-up",onClick:moveToTop,title:"action.moveToTop"}),react.createElement(Button.A,{className:"button-hover",dataElement:"moveToBottom",img:"icon-page-move-down",onClick:moveToBottom,title:"action.moveToBottom"}))}MoveOperations.propTypes={moveToTop:prop_types_default().func,moveToBottom:prop_types_default().func};const MoveOperations_MoveOperations=MoveOperations;function ManipulateOperations(param){var onInsert=param.onInsert,onReplace=param.onReplace,onExtractPages=param.onExtractPages,onDeletePages=param.onDeletePages;return react.createElement(react.Fragment,null,react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlInsert",img:"icon-page-insertion-insert",onClick:onInsert,title:"action.insert"}),react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlReplace",img:"icon-page-replacement",onClick:onReplace,title:"action.replace"}),react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlExtract",img:"icon-page-manipulation-extract",onClick:onExtractPages,title:"action.extract"}),react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlDelete",img:"icon-delete-line",onClick:onDeletePages,title:"action.delete"}))}MoveOperations.__docgenInfo={description:"",methods:[],displayName:"MoveOperations",props:{moveToTop:{description:"",type:{name:"func"},required:!1},moveToBottom:{description:"",type:{name:"func"},required:!1}}},ManipulateOperations.propTypes={onInsert:prop_types_default().func,onReplace:prop_types_default().func,onExtractPages:prop_types_default().func,onDeletePages:prop_types_default().func};const ManipulateOperations_ManipulateOperations=ManipulateOperations;function RotateOperations(param){var onRotateClockwise=param.onRotateClockwise,onRotateCounterClockwise=param.onRotateCounterClockwise;return react.createElement(react.Fragment,null,react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlRotateCounterClockwise",img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:onRotateCounterClockwise,title:"action.rotateCounterClockwise"}),react.createElement(Button.A,{className:"button-hover",dataElement:"thumbnailsControlRotateClockwise",img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:onRotateClockwise,title:"action.rotateClockwise"}))}ManipulateOperations.__docgenInfo={description:"",methods:[],displayName:"ManipulateOperations",props:{onInsert:{description:"",type:{name:"func"},required:!1},onReplace:{description:"",type:{name:"func"},required:!1},onExtractPages:{description:"",type:{name:"func"},required:!1},onDeletePages:{description:"",type:{name:"func"},required:!1}}},RotateOperations.propTypes={onRotateClockwise:prop_types_default().func,onRotateCounterClockwise:prop_types_default().func};const RotateOperations_RotateOperations=RotateOperations;RotateOperations.__docgenInfo={description:"",methods:[],displayName:"RotateOperations",props:{onRotateClockwise:{description:"",type:{name:"func"},required:!1},onRotateCounterClockwise:{description:"",type:{name:"func"},required:!1}}};var pageManipulationFlyoutHelper=__webpack_require__("./src/helpers/pageManipulationFlyoutHelper.js");function ThumbnailControlsMultiContainer_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ThumbnailControlsMultiContainer_sliced_to_array(arr,i){return function ThumbnailControlsMultiContainer_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function ThumbnailControlsMultiContainer_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||ThumbnailControlsMultiContainer_unsupported_iterable_to_array(arr,i)||function ThumbnailControlsMultiContainer_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ThumbnailControlsMultiContainer_to_consumable_array(arr){return function ThumbnailControlsMultiContainer_array_without_holes(arr){if(Array.isArray(arr))return ThumbnailControlsMultiContainer_array_like_to_array(arr)}(arr)||function ThumbnailControlsMultiContainer_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ThumbnailControlsMultiContainer_unsupported_iterable_to_array(arr)||function ThumbnailControlsMultiContainer_non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ThumbnailControlsMultiContainer_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return ThumbnailControlsMultiContainer_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ThumbnailControlsMultiContainer_array_like_to_array(o,minLen):void 0}}function ThumbnailControlsMultiContainer(param){var widthMinusMargins,parentElement=param.parentElement,store=(0,es.Pj)(),dispatch=(0,es.wA)(),isMobile=(0,device.Fr)(),_useSelector=ThumbnailControlsMultiContainer_sliced_to_array((0,es.d4)((function(state){return[selectors.A.getSelectedThumbnailPageIndexes(state),parentElement&&"leftPanel"!==parentElement?selectors.A.getPanelWidth(state,parentElement):selectors.A.getLeftPanelWidth(state),selectors.A.pageDeletionConfirmationModalEnabled(state),selectors.A.isInDesktopOnlyMode(state)]})),4),selectedPageIndexes=_useSelector[0],panelWidth=_useSelector[1],deleteModalEnabled=_useSelector[2],isDesktopOnlyMode=_useSelector[3],pageNumbers=selectedPageIndexes.map((function(index){return index+1})),onRotateClockwise=function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gH)(pageNumbers)},onRotateCounterClockwise=function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.cV)(pageNumbers)},document=core.A.getDocument(),documentType=null==document?void 0:document.type,isXod=documentType===types._.XOD,isOffice=documentType===types._.OFFICE||documentType===types._.LEGACY_OFFICE;if(!isDesktopOnlyMode&&isMobile)try{widthMinusMargins=(0,getRootNode.Ay)().querySelector(".App").getBoundingClientRect().width-88}catch(e){widthMinusMargins=(panelWidth||panel.fz)-88}else widthMinusMargins=(panelWidth||panel.fz)-88;var isPanelSmall=widthMinusMargins<190,isPanelLarge=widthMinusMargins>290;if((0,react.useEffect)((function(){var flyout={dataElement:dataElement.A.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,className:dataElement.A.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,items:ThumbnailControlsMultiContainer_to_consumable_array(isPanelSmall?(0,pageManipulationFlyoutHelper.Zz)(store,!0):[]).concat(ThumbnailControlsMultiContainer_to_consumable_array(isPanelLarge?[]:(0,pageManipulationFlyoutHelper.bU)(store,!0)))};isPanelLarge&&dispatch(actions.A.closeElement(flyout.dataElement)),dispatch(actions.A.updateFlyout(flyout.dataElement,flyout))}),[store,isPanelLarge,isPanelSmall]),isXod||isOffice||(null==document?void 0:document.isWebViewerServerDocument()))return react.createElement("div",{className:"PageControlContainer root small"},react.createElement(RotateOperations_RotateOperations,{onRotateClockwise,onRotateCounterClockwise}));var childProps={onReplace:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.HC)(dispatch)},onExtractPages:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.ut)(pageNumbers,dispatch)},onDeletePages:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,deleteModalEnabled)},onRotateCounterClockwise,onRotateClockwise,onInsert:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY)),void dispatch(actions.A.openElement("insertPageModal")))},moveToTop:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gP)(pageNumbers)},moveToBottom:function(){return!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Iw)(pageNumbers)},pageNumbers};return react.createElement("div",{className:"PageControlContainer root"},react.createElement(RotateOperations_RotateOperations,childProps),react.createElement("div",{className:"divider"}),!isPanelSmall&&react.createElement(MoveOperations_MoveOperations,childProps),!isPanelSmall&&react.createElement("div",{className:"divider"}),isPanelLarge&&react.createElement(ManipulateOperations_ManipulateOperations,childProps),!isPanelLarge&&react.createElement("div",{className:"dropdown-menu"},react.createElement(ToggleElementButton.A,{dataElement:"".concat(dataElement.A.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,"Button"),toggleElement:dataElement.A.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,title:"action.more",img:"icon-tool-more"}),react.createElement("div",{className:"indicator"})))}ThumbnailControlsMultiContainer.propTypes={parentElement:prop_types_default().string};const ThumbnailControlsMulti_ThumbnailControlsMultiContainer=ThumbnailControlsMultiContainer;ThumbnailControlsMultiContainer.__docgenInfo={description:"",methods:[],displayName:"ThumbnailControlsMultiContainer",props:{parentElement:{description:"",type:{name:"string"},required:!1}}};const components_ThumbnailControlsMulti=ThumbnailControlsMulti_ThumbnailControlsMultiContainer;ThumbnailControlsMulti_ThumbnailControlsMultiContainer.__docgenInfo={description:"",methods:[],displayName:"ThumbnailControlsMultiContainer",props:{parentElement:{description:"",type:{name:"string"},required:!1}}};__webpack_require__("./src/components/DocumentControls/DocumentControls.scss");function DocumentControls_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DocumentControls_sliced_to_array(arr,i){return function DocumentControls_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function DocumentControls_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function DocumentControls_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return DocumentControls_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DocumentControls_array_like_to_array(o,minLen)}(arr,i)||function DocumentControls_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function getPageString(selectedPageArray,pageLabels){for(var pagesToPrint="",sortedPages=selectedPageArray.sort((function(a,b){return a-b})),prevIndex=null,i=0;sortedPages.length>i;i++)sortedPages[i+1]===sortedPages[i]+1?prevIndex=null!==prevIndex?prevIndex:sortedPages[i]:null!==prevIndex?(pagesToPrint="".concat(pagesToPrint).concat(pageLabels[prevIndex],"-").concat(pageLabels[sortedPages[i]],", "),prevIndex=null):pagesToPrint="".concat(pagesToPrint).concat(pageLabels[sortedPages[i]],", ");return pagesToPrint.slice(0,-2)}var DocumentControls_DocumentControls=function(param){var shouldShowControls=param.shouldShowControls,parentElement=param.parentElement,t=DocumentControls_sliced_to_array((0,useTranslation.B)(),1)[0],dispatch=(0,es.wA)(),_useSelector=DocumentControls_sliced_to_array((0,es.d4)((function(state){return[selectors.A.getSelectedThumbnailPageIndexes(state),selectors.A.isElementDisabled(state,"documentControl"),selectors.A.getPageLabels(state),selectors.A.isThumbnailSelectingPages(state),selectors.A.getFeatureFlags(state)]})),5),selectedPageIndexes=_useSelector[0],isDisabled=_useSelector[1],pageLabels=_useSelector[2],isThumbnailSelectingPages=_useSelector[3],featureFlags=_useSelector[4],initialPagesString=getPageString(selectedPageIndexes,pageLabels),_useState=DocumentControls_sliced_to_array((0,react.useState)(initialPagesString),2),pageString=_useState[0],setPageString=_useState[1],_useState1=DocumentControls_sliced_to_array((0,react.useState)(initialPagesString),2),previousPageString=_useState1[0],setPreviousPageString=_useState1[1],customizableUI=featureFlags.customizableUI;(0,react.useEffect)((function(){setPageString(getPageString(selectedPageIndexes,pageLabels))}),[setPageString,selectedPageIndexes,shouldShowControls,pageLabels]);var enableThumbnailSelectingPages=function(){dispatch(actions.A.setThumbnailSelectingPages(!0))};return isDisabled?null:react.createElement("div",{className:"documentControlsContainer","data-element":"documentControl"},shouldShowControls?react.createElement("div",{className:"documentControls"},react.createElement("div",{className:"divider"}),isThumbnailSelectingPages&&react.createElement(components_ThumbnailControlsMulti,{parentElement}),customizableUI&&react.createElement("label",{className:"documentControlsLabel",htmlFor:"pageNumbersInput"},react.createElement("span",null,t("option.thumbnailPanel.multiSelectPages")," -"),react.createElement("span",{className:"multiSelectExampleLabel"},t("option.thumbnailPanel.multiSelectPagesExample"))),react.createElement("div",{className:"documentControlsInput"},react.createElement("input",{name:"pageNumbersInput",onBlur:function(e){var selectedPagesString=e.target.value.replace(/ /g,""),pages=selectedPagesString?(0,getPageArrayFromString.A)(selectedPagesString,pageLabels):[],pageIndexes=pages.map((function(page){return page-1}));if(pages.length||!selectedPagesString){dispatch(actions.A.setSelectedPageThumbnails(pageIndexes));var updatedString=getPageString(selectedPageIndexes,pageLabels);setPageString(updatedString),setPreviousPageString(updatedString)}else setPageString(previousPageString);selectedPageIndexes.length>0&&!isThumbnailSelectingPages&&setTimeout((function(){pageString!==previousPageString&&enableThumbnailSelectingPages()}),100)},onChange:function(e){setPageString(e.target.value)},value:pageString,placeholder:customizableUI?"":"1, 3, 5-10","aria-label":t("option.thumbnailPanel.enterPageNumbers"),className:"pagesInput",type:"text"}),react.createElement("div",{className:"documentControlsButton"},isThumbnailSelectingPages?react.createElement(Button.A,{img:"icon-close",title:"option.documentControls.closeTooltip",onClick:function(){dispatch(actions.A.setSelectedPageThumbnails([core.A.getCurrentPage()-1])),dispatch(actions.A.setThumbnailSelectingPages(!1))},dataElement:"thumbCloseMultiSelect"}):react.createElement(Button.A,{img:"icon-tool-select-pages",title:"option.documentControls.selectTooltip",onClick:enableThumbnailSelectingPages,dataElement:"thumbMultiSelect"})))):null)};DocumentControls_DocumentControls.propTypes={isDisabled:prop_types_default().bool,pageLabels:prop_types_default().arrayOf(prop_types_default().string),toggleDocumentControl:prop_types_default().func,shouldShowControls:prop_types_default().bool};const components_DocumentControls_DocumentControls=DocumentControls_DocumentControls;DocumentControls_DocumentControls.__docgenInfo={description:"",methods:[],displayName:"DocumentControls",props:{isDisabled:{description:"",type:{name:"bool"},required:!1},pageLabels:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},toggleDocumentControl:{description:"",type:{name:"func"},required:!1},shouldShowControls:{description:"",type:{name:"bool"},required:!1}}};const components_DocumentControls=components_DocumentControls_DocumentControls;components_DocumentControls_DocumentControls.__docgenInfo={description:"",methods:[],displayName:"DocumentControls",props:{isDisabled:{description:"",type:{name:"bool"},required:!1},pageLabels:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},toggleDocumentControl:{description:"",type:{name:"func"},required:!1},shouldShowControls:{description:"",type:{name:"bool"},required:!1}}};var Slider=__webpack_require__("./src/components/Slider/index.js"),extractPagesWithAnnotations=__webpack_require__("./src/helpers/extractPagesWithAnnotations.js"),fireEvent=__webpack_require__("./src/helpers/fireEvent.js"),events=__webpack_require__("./src/constants/events.js"),mergeDocument=function(srcToMerge,mergeToPage){var shouldFireEvent=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(dispatch){return dispatch(actions.A.openElement(dataElement.A.LOADING_MODAL)),new Promise((function(resolve,reject){core.A.mergeDocument(srcToMerge,mergeToPage).then((function(mergeResults){dispatch(actions.A.closeElement(dataElement.A.LOADING_MODAL)),core.A.setCurrentPage(mergeToPage),shouldFireEvent&&(0,fireEvent.A)(events.A.DOCUMENT_MERGED,mergeResults),resolve(mergeResults)})).catch((function(err){reject(err),dispatch(actions.A.closeElement(dataElement.A.LOADING_MODAL))}))}))}};__webpack_require__("./src/components/ThumbnailsPanel/ThumbnailsPanel.scss");function ThumbnailsPanel_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ThumbnailsPanel_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ThumbnailsPanel_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ThumbnailsPanel_define_property(target,key,source[key])}))}return target}function ThumbnailsPanel_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ThumbnailsPanel_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ThumbnailsPanel_sliced_to_array(arr,i){return function ThumbnailsPanel_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function ThumbnailsPanel_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function ThumbnailsPanel_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ThumbnailsPanel_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ThumbnailsPanel_array_like_to_array(o,minLen)}(arr,i)||function ThumbnailsPanel_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ThumbnailsPanel_ThumbnailsPanel=function(param){var panelSelector=param.panelSelector,parentDataElement=param.parentDataElement,_useSelector=ThumbnailsPanel_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementOpen(state,"leftPanel"),selectors.A.isElementDisabled(state,"thumbnailsPanel"),selectors.A.getTotalPages(state),selectors.A.getCurrentPage(state),selectors.A.getSelectedThumbnailPageIndexes(state),selectors.A.getIsThumbnailMergingEnabled(state),selectors.A.getIsThumbnailReorderingEnabled(state),selectors.A.getIsMultipleViewerMerging(state),selectors.A.isElementDisabled(state,"thumbnailControl"),selectors.A.isElementDisabled(state,"thumbnailsSizeSlider"),selectors.A.isReaderMode(state),selectors.A.isDocumentReadOnly(state),selectors.A.getTotalPages(state,2),selectors.A.getActiveDocumentViewerKey(state),selectors.A.openingPageManipulationOverlayByRightClickEnabled(state),selectors.A.getFeatureFlags(state)]}),es.bN),16),isLeftPanelOpen=_useSelector[0],isDisabled=_useSelector[1],totalPages=_useSelector[2],currentPage=_useSelector[3],selectedPageIndexes=_useSelector[4],isThumbnailMergingEnabled=_useSelector[5],isThumbnailReorderingEnabled=_useSelector[6],isMultipleViewerMerging=_useSelector[7],isThumbnailControlDisabled=_useSelector[8],isThumbnailSliderDisabled=_useSelector[9],isReaderMode=_useSelector[10],isDocumentReadOnly=_useSelector[11],totalPagesFromSecondaryDocumentViewer=_useSelector[12],activeDocumentViewerKey=_useSelector[13],isRightClickEnabled=_useSelector[14],featureFlags=_useSelector[15],t=ThumbnailsPanel_sliced_to_array((0,useTranslation.B)(),1)[0],listRef=(0,react.useRef)(),pendingThumbs=(0,react.useRef)([]),thumbs=(0,react.useRef)([]),afterMovePageNumber=(0,react.useRef)(null),_useState=ThumbnailsPanel_sliced_to_array((0,react.useState)(!1),2),isOfficeEditor=_useState[0],setIsOfficeEditor=_useState[1],_useState1=ThumbnailsPanel_sliced_to_array((0,react.useState)(!0),2),canLoad=_useState1[0],setCanLoad=_useState1[1],_useState2=ThumbnailsPanel_sliced_to_array((0,react.useState)(0),2),height=_useState2[0],setHeight=_useState2[1],_useState3=ThumbnailsPanel_sliced_to_array((0,react.useState)(0),2),width=_useState3[0],setWidth=_useState3[1],_useState4=ThumbnailsPanel_sliced_to_array((0,react.useState)(null),2),draggingOverPageIndex=_useState4[0],setDraggingOverPageIndex=_useState4[1],_useState5=ThumbnailsPanel_sliced_to_array((0,react.useState)(!1),2),isDraggingToPreviousPage=_useState5[0],setDraggingToPreviousPage=_useState5[1],_useState6=ThumbnailsPanel_sliced_to_array((0,react.useState)(1),2),numberOfColumns=_useState6[0],setNumberOfColumns=_useState6[1],_useState7=ThumbnailsPanel_sliced_to_array((0,react.useState)(!1),2),isDragging=_useState7[0],setIsDragging=_useState7[1],_useState8=ThumbnailsPanel_sliced_to_array((0,react.useState)(0),2),focusedIndex=_useState8[0],setFocusedIndex=_useState8[1],thumbnailContainerRefs=(0,react.useRef)([]),thumbnailRefs=(0,react.useRef)([]),focusedThumbnailRef=(0,react.useRef)(null),_useState9=ThumbnailsPanel_sliced_to_array((0,react.useState)(150),2),thumbnailSize=_useState9[0],setThumbnailSize=_useState9[1],_useState10=ThumbnailsPanel_sliced_to_array((0,react.useState)(0),2),lastTimeTriggered=_useState10[0],setLastTimeTriggered=_useState10[1],_useState11=ThumbnailsPanel_sliced_to_array((0,react.useState)(0),2),globalIndex=_useState11[0],setGlobalIndex=_useState11[1],pageCount=2===activeDocumentViewerKey?totalPagesFromSecondaryDocumentViewer:totalPages,customizableUI=null==featureFlags?void 0:featureFlags.customizableUI,dispatch=(0,es.wA)(),activeThumbRenders={};(0,react.useEffect)((function(){var handleClickOutside=function(event){focusedThumbnailRef.current&&!focusedThumbnailRef.current.contains(event.target)&&removeOutline(focusedThumbnailRef.current)};return document.addEventListener("mousedown",handleClickOutside),function(){document.removeEventListener("mousedown",handleClickOutside)}}),[]);var handleKeyDown=(0,react.useCallback)((function(e,currentIndex,columnCount){var newIndex;e.stopPropagation();var arrowActions={ArrowLeft:function(){return handleArrowKey(e,currentIndex,-1)},ArrowRight:function(){return handleArrowKey(e,currentIndex,1)},ArrowUp:function(){return handleArrowKey(e,currentIndex,-columnCount)},ArrowDown:function(){return handleArrowKey(e,currentIndex,columnCount)}},keyActions={Enter:function(){return handleEnterKey(e,currentIndex)},Tab:function(){return handleTabOutKey(currentIndex)}};arrowActions[e.key]&&(newIndex=arrowActions[e.key]()),keyActions[e.key]&&keyActions[e.key](),void 0!==newIndex&&newIndex!==currentIndex&&(setFocusedIndex(newIndex),selectElement(thumbnailContainerRefs.current[newIndex]),deselectElement(thumbnailContainerRefs.current[currentIndex]))}),[thumbnailRefs,thumbnailContainerRefs]),selectElement=function(element){element.tabIndex=0,element.ariaCurrent="page",element.style.outline="var(--focus-visible-outline)",element.focus(),focusedThumbnailRef.current=element},deselectElement=function(element){element.tabIndex=-1,element.ariaCurrent=void 0,removeOutline(element)},removeOutline=function(element){element.style.outline="none"},handleTabOutKey=function(index){removeOutline(thumbnailContainerRefs.current[index])},handleArrowKey=function(e,currentIndex,direction){var newIndex=currentIndex+direction;return newIndex<0||newIndex>=pageCount?currentIndex:newIndex},handleEnterKey=function(e,index){e.preventDefault(),selectElement(thumbnailContainerRefs.current[index]),core.A.setCurrentPage(index+1),thumbnailRefs.current[index].focusInput()},handleThumbnailKeyDown=(0,react.useCallback)((function(e,index){e.stopPropagation();var _keyActions_e_key,keyActions={Tab:function(){return handleTabKey(e,index)},Escape:function(){return handleEscapeKey(e,index)}};keyActions[e.key]&&(null===(_keyActions_e_key=keyActions[e.key])||void 0===_keyActions_e_key||_keyActions_e_key.call(keyActions))}),[thumbnailContainerRefs]),handleEscapeKey=function(e,index){e.preventDefault(),selectElement(thumbnailContainerRefs.current[index])},handleTabKey=function(e,index){var newIndex=index+(e.shiftKey?-1:1);(newIndex<0||newIndex>=pageCount)&&(newIndex=index),setFocusedIndex(newIndex),selectElement(thumbnailContainerRefs.current[newIndex]),newIndex!==index&&deselectElement(thumbnailContainerRefs.current[index])},updateAnnotations=function(pageIndex){var thumbContainer=thumbs.current&&thumbs.current[pageIndex]&&thumbs.current[pageIndex].element;if(thumbContainer){var pageNumber=pageIndex+1,pageWidth=core.A.getPageWidth(pageNumber),_getThumbnailSize=function(pageWidth,pageHeight){var width,height,ratio;return pageWidth>pageHeight?(ratio=pageWidth/thumbnailSize,width=thumbnailSize,height=Math.round(pageHeight/ratio)):(ratio=pageHeight/thumbnailSize,width=Math.round(pageWidth/ratio),height=thumbnailSize),{width,height}}(pageWidth,core.A.getPageHeight(pageNumber)),width=_getThumbnailSize.width,height=_getThumbnailSize.height,annotCanvas=thumbContainer.querySelector(".annotation-image")||document.createElement("canvas");annotCanvas.className="annotation-image",annotCanvas.role="img",annotCanvas.ariaLabel="".concat(t("action.page")," ").concat(pageNumber),annotCanvas.style.maxWidth="".concat(thumbnailSize,"px"),annotCanvas.style.maxHeight="".concat(thumbnailSize,"px");var ctx=annotCanvas.getContext("2d"),zoom=1,rotation=core.A.getCompleteRotation(pageNumber);rotation<0&&(rotation+=4);var multiplier=window.Core.getCanvasMultiplier();rotation%2==0?(annotCanvas.width=width,annotCanvas.height=height,zoom=annotCanvas.width/pageWidth,zoom/=multiplier):(annotCanvas.width=height,annotCanvas.height=width,zoom=annotCanvas.height/pageWidth,zoom/=multiplier),thumbContainer.appendChild(annotCanvas),core.A.setAnnotationCanvasTransform(ctx,zoom,rotation);var options={pageNumber,overrideCanvas:annotCanvas},thumb=thumbContainer.querySelector(".page-image");if(thumb)options=ThumbnailsPanel_object_spread_props(ThumbnailsPanel_object_spread({},options),{overridePageRotation:rotation,overridePageCanvas:thumb}),activeThumbRenders[pageNumber]||(activeThumbRenders[pageNumber]=debounce_default()(core.A.drawAnnotations,112)),(0,activeThumbRenders[pageNumber])(options)}};if((0,react.useEffect)((function(){var onBeginRendering=function(){setCanLoad(!1)},onFinishedRendering=function(needsMoreRendering){needsMoreRendering||setCanLoad(!0)},onDocumentLoaded=function(){var _core_getDocument;"officeEditor"===(null===(_core_getDocument=core.A.getDocument())||void 0===_core_getDocument?void 0:_core_getDocument.getType())?setIsOfficeEditor(!0):setIsOfficeEditor(!1),activeThumbRenders={},dispatch(actions.A.setSelectedPageThumbnails([]))},onPageComplete=function(){afterMovePageNumber.current&&(core.A.setCurrentPage(afterMovePageNumber.current),afterMovePageNumber.current=null)};return core.A.addEventListener("beginRendering",onBeginRendering),core.A.addEventListener("finishedRendering",onFinishedRendering),core.A.addEventListener("documentLoaded",onDocumentLoaded),core.A.addEventListener("pageComplete",onPageComplete),core.A.getDocument()&&onDocumentLoaded(),function(){core.A.removeEventListener("beginRendering",onBeginRendering),core.A.removeEventListener("finishedRendering",onFinishedRendering),core.A.removeEventListener("documentLoaded",onDocumentLoaded),core.A.removeEventListener("pageComplete",onPageComplete)}}),[]),(0,react.useEffect)((function(){var onPagesUpdated=function(changes){if(changes){var updatedPagesIndexes=Array.from(selectedPageIndexes);changes.removed&&(updatedPagesIndexes=updatedPagesIndexes.filter((function(pageIndex){return-1===changes.removed.indexOf(pageIndex+1)}))),changes.moved&&(updatedPagesIndexes=updatedPagesIndexes.map((function(pageIndex){return changes.moved[pageIndex+1]?changes.moved[pageIndex+1]-1:pageIndex})));var isPageAddedBefore=changes.added&&changes.added[0]-1<=updatedPagesIndexes[0];1===updatedPagesIndexes.length&&isPageAddedBefore&&(updatedPagesIndexes=changes.added.map((function(pageNumber){return pageNumber-1}))),dispatch(actions.A.setSelectedPageThumbnails(updatedPagesIndexes))}};return core.A.addEventListener("pagesUpdated",onPagesUpdated),function(){return core.A.removeEventListener("pagesUpdated",onPagesUpdated)}}),[selectedPageIndexes]),(0,react.useEffect)((function(){var _listRef_current;null===(_listRef_current=listRef.current)||void 0===_listRef_current||_listRef_current.scrollToRow(Math.floor((currentPage-1)/numberOfColumns));var onAnnotationChanged=function(annots){var indices=[];annots.forEach((function(annot){var pageIndex=annot.PageNumber-1;!annot.Listable||indices.indexOf(pageIndex)>-1||(indices.push(pageIndex),updateAnnotations(pageIndex))}))},onPageNumberUpdated=function(pageNumber){var _listRef_current,pageIndex=pageNumber-1;null===(_listRef_current=listRef.current)||void 0===_listRef_current||_listRef_current.scrollToRow(Math.floor(pageIndex/numberOfColumns))};return core.A.addEventListener("pageNumberUpdated",onPageNumberUpdated),core.A.addEventListener("annotationChanged",onAnnotationChanged),core.A.addEventListener("annotationHidden",onAnnotationChanged),function(){core.A.removeEventListener("pageNumberUpdated",onPageNumberUpdated),core.A.removeEventListener("annotationChanged",onAnnotationChanged),core.A.removeEventListener("annotationHidden",onAnnotationChanged)}}),[thumbnailSize,numberOfColumns]),(0,react.useEffect)((function(){(isReaderMode||isDocumentReadOnly)&&(dispatch(actions.A.setSelectedPageThumbnails([])),dispatch(actions.A.setThumbnailSelectingPages(!1)))}),[isReaderMode,isDocumentReadOnly]),isDisabled||isOfficeEditor||!isLeftPanelOpen&&!panelSelector&&!customizableUI)return null;var onDragEnd=function(){setIsDragging(!1),setDraggingOverPageIndex(null)},scrollToRowHelper=function(index,change,time){var _listRef_current,now=(new Date).getTime();return index<pageCount-1&&index>0&&now-lastTimeTriggered>=time?(null===(_listRef_current=listRef.current)||void 0===_listRef_current||_listRef_current.scrollToRow(Math.floor((index+change)/numberOfColumns)),setLastTimeTriggered(now),index+change):index},onDragOver=function(e,index){if(e.preventDefault(),e.stopPropagation(),isThumbnailReorderingEnabled||isThumbnailMergingEnabled){var thumbnail=e.target.getBoundingClientRect();setDraggingToPreviousPage(numberOfColumns>1?!(e.pageX>thumbnail.x+thumbnail.width/2):!(e.pageY>thumbnail.y+thumbnail.height/2)),setDraggingOverPageIndex(index);var _virtualizedThumbnailContainerElement_getBoundingClientRect=(0,getRootNode.Ay)().querySelector("#virtualized-thumbnails-container").getBoundingClientRect(),y=_virtualizedThumbnailContainerElement_getBoundingClientRect.y,bottom=_virtualizedThumbnailContainerElement_getBoundingClientRect.bottom;e.pageY<y+100?setGlobalIndex(scrollToRowHelper(index,-1,400)):e.pageY>bottom-100&&setGlobalIndex(scrollToRowHelper(index,1,400))}},scrollDown=function(){setGlobalIndex(scrollToRowHelper(globalIndex,1,200))},scrollUp=function(){setGlobalIndex(scrollToRowHelper(globalIndex,-1,200))},onDragStart=function(e,index){setGlobalIndex(index),setIsDragging(!0);var pageNumbers,draggingSelectedPage=selectedPageIndexes.some((function(i){return i===index})),pagesToMove=draggingSelectedPage?selectedPageIndexes.map((function(index){return index+1})):[index+1];(0,fireEvent.A)(events.A.THUMBNAIL_DRAGGED),e.dataTransfer.setData("text",""),pagesToMove.length>1&&e.dataTransfer.setDragImage(new Image,0,0),isThumbnailMergingEnabled&&isMultipleViewerMerging&&(e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("dataTransferWebViewerFrame",window.frameElement.id),pageNumbers=pagesToMove,window.extractedDataPromise=(0,extractPagesWithAnnotations.A)(pageNumbers),window.pagesExtracted=pageNumbers),draggingSelectedPage||dispatch(actions.A.setSelectedPageThumbnails([index])),core.A.setCurrentPage(index+1)},onDrop=function(e){e.preventDefault();var externalPageWebViewerFrameId,files=e.dataTransfer.files,insertTo=isDraggingToPreviousPage?draggingOverPageIndex+1:draggingOverPageIndex+2;device.lw||(externalPageWebViewerFrameId=e.dataTransfer.getData("dataTransferWebViewerFrame"));var viewerID,mergeToPage,mergingDocument=externalPageWebViewerFrameId&&window.frameElement.id!==externalPageWebViewerFrameId||files.length,currentPageIndex=currentPage-1;if(isThumbnailMergingEnabled&&mergingDocument)externalPageWebViewerFrameId&&window.frameElement.id!==externalPageWebViewerFrameId?dispatch((viewerID=externalPageWebViewerFrameId,mergeToPage=insertTo,function(dispatch){return new Promise((function(resolve,reject){var otherWebViewerIframe=window.parent.document.querySelector("#".concat(viewerID));otherWebViewerIframe||(console.warn("Could not find other instance of WebViewer"),reject());var extractedDataPromise=otherWebViewerIframe.contentWindow.extractedDataPromise;extractedDataPromise||(console.warn("Could not retrieve data from other instance of WebViewer"),reject()),dispatch(actions.A.openElement(dataElement.A.LOADING_MODAL)),extractedDataPromise.then((function(docToMerge){dispatch(mergeDocument(docToMerge,mergeToPage,!1)).then((function(param){var filename=param.filename,pages=param.pages;(0,fireEvent.A)(events.A.DOCUMENT_MERGED,{filename,pages:otherWebViewerIframe.contentWindow.pagesExtracted}),dispatch(actions.A.closeElement(dataElement.A.LOADING_MODAL)),resolve({filename,pages})}))})).catch((function(err){dispatch(actions.A.closeElement(dataElement.A.LOADING_MODAL)),reject(err)}))}))})):files.length&&Array.from(files).forEach((function(file){dispatch(mergeDocument(file,insertTo))}));else if(isThumbnailReorderingEnabled&&!mergingDocument&&null!==draggingOverPageIndex){var targetPageNumber=isDraggingToPreviousPage?draggingOverPageIndex+1:draggingOverPageIndex+2,pageNumbersToMove=selectedPageIndexes.some((function(i){return i===currentPageIndex}))?selectedPageIndexes.map((function(i){return i+1})):[currentPage];afterMovePageNumber.current=targetPageNumber-pageNumbersToMove.filter((function(p){return p<targetPageNumber})).length,core.A.movePages(pageNumbersToMove,targetPageNumber);for(var updatedPagesNumbers=[],offset=0;offset<pageNumbersToMove.length;offset++)updatedPagesNumbers.push(afterMovePageNumber.current+offset);(0,fireEvent.A)(events.A.THUMBNAIL_DROPPED,{pageNumbersBeforeMove:pageNumbersToMove,pagesNumbersAfterMove:updatedPagesNumbers,numberOfPagesMoved:updatedPagesNumbers.length})}setDraggingOverPageIndex(null),setIsDragging(!1)},onLoad=function(pageIndex,element,id){thumbIsLoaded(pageIndex)||thumbIsPending(pageIndex)||(thumbs.current[pageIndex]={element,loaded:!1},pendingThumbs.current.push({pageIndex,id}))},removeFromPendingThumbs=function(pageIndex){var index=getPendingThumbIndex(pageIndex);-1!==index&&pendingThumbs.current.splice(index,1)},thumbIsLoaded=function(pageIndex){var _thumbs_current_pageIndex;return null===(_thumbs_current_pageIndex=thumbs.current[pageIndex])||void 0===_thumbs_current_pageIndex?void 0:_thumbs_current_pageIndex.loaded},thumbIsPending=function(pageIndex){return-1!==getPendingThumbIndex(pageIndex)},onCancel=function(pageIndex){var index=getPendingThumbIndex(pageIndex);-1!==index&&(core.A.cancelLoadThumbnail(pendingThumbs.current[index].id),pendingThumbs.current.splice(index,1))},getPendingThumbIndex=function(pageIndex){return pendingThumbs.current.findIndex((function(thumbStatus){return thumbStatus.pageIndex===pageIndex}))},onRemove=function(pageIndex){var _thumbs_current_pageIndex_element,_thumbs_current_pageIndex;onCancel(pageIndex);var canvases=null===(_thumbs_current_pageIndex=thumbs.current[pageIndex])||void 0===_thumbs_current_pageIndex||null===(_thumbs_current_pageIndex_element=_thumbs_current_pageIndex.element)||void 0===_thumbs_current_pageIndex_element?void 0:_thumbs_current_pageIndex_element.querySelectorAll("canvas");(null==canvases?void 0:canvases.length)&&canvases.forEach((function(c){c.height=0,c.width=0})),activeThumbRenders[pageIndex]&&activeThumbRenders[pageIndex].cancel(),thumbs.current[pageIndex]=null},renderThumbnails=function(param){var index=param.index,key=param.key,style=param.style,className=classnames_default()({columnsOfThumbnails:numberOfColumns>1,row:!0}),allowPageOperationsUI=!(isReaderMode||isDocumentReadOnly);return react.createElement("div",{role:"row","aria-label":"row",className,key,style},new Array(numberOfColumns).fill().map((function(_,columnIndex){var thumbIndex=index*numberOfColumns+columnIndex,allowDragAndDrop=allowPageOperationsUI&&(isThumbnailMergingEnabled||isThumbnailReorderingEnabled),showPlaceHolder=allowDragAndDrop&&draggingOverPageIndex===thumbIndex;return thumbIndex<pageCount?react.createElement(react.Fragment,{key:thumbIndex},(numberOfColumns>1||0===thumbIndex)&&showPlaceHolder&&isDraggingToPreviousPage&&react.createElement("div",{key:"placeholder1-".concat(thumbIndex),className:"thumbnailPlaceholder"}),react.createElement("td",{ref:function(el){return thumbnailContainerRefs.current[thumbIndex]=el},key:thumbIndex,role:"gridcell",tabIndex:focusedIndex===thumbIndex?0:-1,"aria-current":focusedIndex===thumbIndex?"page":void 0,onDragEnd,className:"cellThumbContainer",onKeyDown:function(e){return handleKeyDown(e,thumbIndex,numberOfColumns)},onContextMenu:function(e){return isRightClickEnabled&&(pageIndex=thumbIndex,(event=e).preventDefault(),core.A.setCurrentPage(pageIndex+1),selectedPageIndexes.includes(pageIndex)||dispatch(actions.A.setSelectedPageThumbnails([pageIndex])),void(isReaderMode||isDocumentReadOnly||(dispatch(actions.A.setFlyoutPosition({x:event.pageX,y:event.pageY})),dispatch(actions.A.openElements([dataElement.A.PAGE_MANIPULATION])))));var event,pageIndex},onFocus:function(e){return function(e,index){thumbnailContainerRefs.current&&thumbnailContainerRefs.current.includes(e.target)&&selectElement(thumbnailContainerRefs.current[index])}(e,thumbIndex)}},react.createElement(components_Thumbnail,{ref:function(el){return thumbnailRefs.current[thumbIndex]=el},isDraggable:allowDragAndDrop,isSelected:selectedPageIndexes.includes(thumbIndex),index:thumbIndex,canLoad,onLoad,onCancel,onRemove,onDragStart,onDragOver,onFinishLoading:removeFromPendingThumbs,updateAnnotations,shouldShowControls:allowPageOperationsUI,thumbnailSize,panelSelector,parentKeyListener:function(e){return handleThumbnailKeyDown(e,thumbIndex)}})),showPlaceHolder&&!isDraggingToPreviousPage&&react.createElement("div",{key:"placeholder2-".concat(thumbIndex),className:"thumbnailPlaceholder"})):null})))},updateNumberOfColumns=function(){setNumberOfColumns(Math.min(16,Math.max(1,Math.floor(width/thumbnailSize))))},thumbnailHeight=isThumbnailControlDisabled?Number(thumbnailSize)+50:Number(thumbnailSize)+80,shouldShowControls=!(isReaderMode||isDocumentReadOnly),thumbnailAutoScrollAreaStyle={height:"".concat(25,"px")},onSliderChange=function(property,value){var zoomValue="1000"*Number(value);zoomValue<100&&(zoomValue=100),setThumbnailSize(zoomValue),updateNumberOfColumns()};return react.createElement(react.Fragment,null,!isThumbnailSliderDisabled&&react.createElement("div",{"data-element":"thumbnailsSizeSlider",className:"thumbnail-slider-container"},react.createElement(Button.A,{img:"icon-zoom-thumb-out",title:"action.zoomOut",hideTooltipShortcut:!0,onClick:function(){thumbnailSize-"50">"50"&&(setThumbnailSize(thumbnailSize-"50"),updateNumberOfColumns())},dataElement:"zoomThumbOutButton"}),customizableUI&&react.createElement(Slider.A,{dataElement:"thumbnailsSizeSlider",property:"zoom",displayProperty:"zoom",min:0,max:1,step:.01,value:thumbnailSize/1e3,getDisplayValue:function(){return thumbnailSize},onSliderChange,onStyleChange:onSliderChange,shouldHideSliderTitle:!0,shouldHideSliderValue:!0}),!customizableUI&&react.createElement("input",{role:"slider",type:"range","aria-label":"thumbnail size slider",min:"100",max:"1000",value:thumbnailSize,"aria-valuemin":"100","aria-valuemax":"1000","aria-valuenow":thumbnailSize,onChange:function(e){setThumbnailSize(Number(e.target.value)),updateNumberOfColumns()},step:"50",className:"thumbnail-slider",id:"thumbnailSize"}),react.createElement(Button.A,{img:"icon-zoom-thumb-in",title:"action.zoomIn",hideTooltipShortcut:!0,onClick:function(){thumbnailSize+Number("50")<1001&&(setThumbnailSize(thumbnailSize+Number("50")),updateNumberOfColumns())},dataElement:"zoomThumbInButton"})),react.createElement(index_esm.A,{bounds:!0,onResize:function(param){var bounds=param.bounds;setHeight(bounds.height),setWidth(bounds.width),setNumberOfColumns(Math.min(16,Math.max(1,Math.floor(bounds.width/thumbnailSize))))},key:thumbnailSize},(function(param){var measureRef=param.measureRef;return react.createElement("div",{className:"Panel ThumbnailsPanel ".concat(panelSelector),id:"virtualized-thumbnails-container","data-element":"thumbnailsPanel",onDrop,ref:measureRef},react.createElement("div",{className:"virtualized-thumbnails-container"},isDragging?react.createElement("div",{className:"thumbnailAutoScrollArea",onDragOver:scrollUp,style:thumbnailAutoScrollAreaStyle}):"",react.createElement(dist_es.B8,{ref:listRef,height,width,rowHeight:thumbnailHeight,rowCount:Math.ceil(pageCount/numberOfColumns),rowRenderer:renderThumbnails,overscanRowCount:3,className:"thumbnailsList",scrollToIndex:Math.floor((currentPage-1)/numberOfColumns),role:"grid","aria-label":t("component.thumbnailsPanel"),tabIndex:-1}),isDragging?react.createElement("div",{className:"thumbnailAutoScrollArea",onDragOver:scrollDown,style:ThumbnailsPanel_object_spread_props(ThumbnailsPanel_object_spread({},thumbnailAutoScrollAreaStyle),{bottom:"70px"})}):""))})),react.createElement(components_DocumentControls,{shouldShowControls,parentElement:parentDataElement||panelSelector}))};const components_ThumbnailsPanel_ThumbnailsPanel=ThumbnailsPanel_ThumbnailsPanel;ThumbnailsPanel_ThumbnailsPanel.__docgenInfo={description:"",methods:[],displayName:"ThumbnailsPanel"}}}]);