(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[40575],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Choice/Choice.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ui__choice__input__icon{inset-block-start:-6px!important}.ui__icon{align-items:baseline!important}.ui__choice{align-items:center}.ui__choice__label{font-size:13px!important}.ui__choice__input--switch .ui__choice__input__switch{height:14px!important;border-radius:24px!important;background-color:var(--input-switch-default-color)!important;border:none!important}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--disabled{opacity:.6;cursor:not-allowed}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--checked{background-color:var(--checked-option)!important}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--checked .ui__choice__input__toggle{inset-inline-start:12px!important}.ui__choice__input--switch .ui__choice__input__switch--focus{outline:var(--focus-visible-outline)}.ui__choice__input--switch .ui__choice__input__switch .ui__choice__input__toggle{height:10px!important;width:10px!important;background-color:var(--gray-0)!important;inset-inline-start:2px!important}.ui__choice__input--switch input:disabled{cursor:not-allowed!important}.ui__choice__input__check--focus{outline:var(--focus-visible-outline)}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ToggleElementButton .Button:hover:not(:disabled){cursor:pointer;border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active{border:none;box-shadow:inset 0 0 0 1px var(--blue-5);color:var(--blue-5);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active .Icon{color:var(--blue-5)}.ToggleElementButton .Button{width:auto;min-width:32px;height:32px;padding:5px}.ToggleElementButton .Button.active{cursor:default}.ToggleElementButton .Button.active .Icon{color:var(--view-header-icon-active-fill)}.ToggleElementButton .Button.active .Icon svg path:not(.no-fill){fill:var(--view-header-icon-active-fill)}.ToggleElementButton.legacy-ui .Button:hover:not(:disabled){border:none;box-shadow:none;background-color:var(--blue-1)}.ToggleElementButton.is-mobile .Button.modular-ui.icon-only:hover:not(:disabled):not(.active){background-color:transparent;background-color:initial;color:#000;color:initial;box-shadow:none}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/lodash/_baseTrim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var trimmedEndIndex=__webpack_require__("./node_modules/lodash/_trimmedEndIndex.js"),reTrimStart=/^\s+/;module.exports=function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},"./node_modules/lodash/_trimmedEndIndex.js":module=>{var reWhitespace=/\s/;module.exports=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},"./node_modules/lodash/debounce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),now=__webpack_require__("./node_modules/lodash/now.js"),toNumber=__webpack_require__("./node_modules/lodash/toNumber.js"),nativeMax=Math.max,nativeMin=Math.min;module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}},"./node_modules/lodash/isString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/throttle.js":(module,__unused_webpack_exports,__webpack_require__)=>{var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}},"./node_modules/lodash/toNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTrim=__webpack_require__("./node_modules/lodash/_baseTrim.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},"./src/components/Button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Button/Button.js").A},"./src/components/Choice/Choice.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Choice/Choice.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js");__webpack_require__("./src/components/Choice/Choice.scss");const propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string},Choice=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({dataElement,...props},ref)=>(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>!!dataElement&&selectors__WEBPACK_IMPORTED_MODULE_3__.A.isElementDisabled(state,dataElement)))?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_6__.G,{...props,ref,center:!0})));Choice.displayName="Choice",Choice.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=Choice;Choice.__docgenInfo={description:"",methods:[],displayName:"Choice",props:{dataElement:{description:"",type:{name:"string"},required:!1}}}},"./src/components/Choice/Choice.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Choice/Choice.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Choice/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Choice/Choice.js").A},"./src/components/DataElementWrapper/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_DataElementWrapper});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js");const propTypes={id:prop_types_default().string,children:prop_types_default().node,dataElement:prop_types_default().string,type:prop_types_default().string,ariaLabel:prop_types_default().string};const DataElementWrapper=react.forwardRef((({type="div",children,dataElement,ariaLabel,...props},ref)=>function useIsDisabledWithDefaultValue(selector,defaultValue=!1){try{return(0,es.d4)(selector)}catch(e){e.message}return defaultValue}((state=>selectors.A.isElementDisabled(state,dataElement)))?null:"button"===type?(0,jsx_runtime.jsx)("button",{ref,"data-element":dataElement,"aria-label":ariaLabel,...props,children}):(0,jsx_runtime.jsx)("div",{ref,"data-element":dataElement,...props,children})));DataElementWrapper.displayName="DataElementWrapper",DataElementWrapper.propTypes=propTypes;const DataElementWrapper_DataElementWrapper=DataElementWrapper;DataElementWrapper.__docgenInfo={description:"",methods:[],displayName:"DataElementWrapper",props:{type:{defaultValue:{value:"'div'",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},dataElement:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"Accessibility",type:{name:"string"},required:!1}}};const components_DataElementWrapper=DataElementWrapper_DataElementWrapper},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/actions/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),components_Button__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss"),__webpack_require__("./src/components/Button/index.js")),hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useFocusHandler/index.js"),helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/getDeviceSize.js"),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);const ToggleElementButton=props=>{const buttonRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),isMobile=(0,helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__.IS)(),{dataElement,title,disabled,img,label,toggleElement,setFlyoutTriggerRef=null,onToggle,className,onClick:customOnClick=null}=props,isActive=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementOpen(state,toggleElement))),flyoutMap=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFlyoutMap,react_redux__WEBPACK_IMPORTED_MODULE_3__.bN),isToggleElementDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,toggleElement))),isButtonDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,dataElement))),customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFeatureFlags)?.customizableUI,[isElementActive,setIsElementActive]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isActive),[isElementDisabled,setIsElementDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(disabled),isFlyoutItem=!!flyoutMap?.[toggleElement];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementActive(isActive),onToggle&&onToggle(isActive)}),[isActive]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementDisabled(isToggleElementDisabled||disabled)}),[isToggleElementDisabled,disabled]);const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),onClickFocusWrapped=(0,hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__.A)((event=>{event.stopPropagation(),customOnClick&&customOnClick(event),isFlyoutItem&&(setFlyoutTriggerRef?setFlyoutTriggerRef():dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setFlyoutToggleElement(dataElement))),dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.toggleElement(toggleElement))}));return isButtonDisabled?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()({ToggleElementButton:!0,"legacy-ui":!customizableUI,"is-mobile":isMobile}),ref:buttonRef,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_6__.A,{isActive:isElementActive,dataElement,img,label,title,onClick:onClickFocusWrapped,disabled:isElementDisabled,className,ariaPressed:isFlyoutItem?void 0:isElementActive,ariaExpanded:isFlyoutItem?isElementActive:void 0,...props,children:props.children})})};ToggleElementButton.propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,img:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number]),toggleElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,setFlyoutTriggerRef:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=ToggleElementButton;ToggleElementButton.__docgenInfo={description:"",methods:[],displayName:"ToggleElementButton",props:{dataElement:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},toggleElement:{description:"",type:{name:"string"},required:!0},setFlyoutTriggerRef:{description:"",type:{name:"func"},required:!1},className:{description:"",type:{name:"string"},required:!1},onToggle:{description:"",type:{name:"func"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/ToggleElementButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js").A},"./src/components/NoteContent/NoteContent.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,BasicWithSkipAutoLink:()=>BasicWithSkipAutoLink,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,testProps:()=>testProps,testPropsWithSkipAutoLink:()=>testPropsWithSkipAutoLink});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_NoteContent__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/NoteContent/NoteContent.js")),_Note_Context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Note/Context.js"),helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/initialColorStates.js"),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Note/NoteContent",component:_NoteContent__WEBPACK_IMPORTED_MODULE_2__.A,includeStories:["Basic","BasicWithSkipAutoLink"],excludeStories:["testProps","testPropsWithSkipAutoLink"]},initialState={viewer:{disabledElements:{},openElements:{},customElementOverrides:{},activeDocumentViewerKey:1,colorMap:{1:helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_4__.DI[0]},flyoutMap:{}}};const store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.U1)({preloadedState:initialState,reducer:function rootReducer(state=initialState,action){return state},middleware:getDefaultMiddleware=>getDefaultMiddleware({serializableCheck:!1})}),context={pendingEditTextMap:{},pendingReplyMap:{},pendingAttachmentMap:{},isSelected:!1,searchInput:""},mockAnnotation={Author:"Mikel Landa",getReplies:()=>[1,2,3],getStatus:()=>"",isReply:()=>!1,getAssociatedNumber:()=>1,StrokeColor:{R:255,G:205,B:69,A:1,toHexString:()=>helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_4__.DI[0]},FillColor:{R:255,G:205,B:69,A:1,toHexString:()=>helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_4__.DI[0]},getCustomData:key=>({"trn-annot-preview":""}[key]),getContents:()=>"This is test.com",getRichTextStyle:()=>{},getAttachments:()=>[],getSkipAutoLink:()=>!1},testProps={icon:"icon-tool-shape-rectangle",language:"en",noteDateFormat:"MMM D, LT",iconColor:"StrokeColor",annotation:mockAnnotation,isReply:!1,isUnread:!1,renderAuthorName:()=>"Mikel Landa",isStateDisabled:!1,isEditing:!1},mockAnnotationWithSkipAutoLink={...mockAnnotation,getSkipAutoLink:()=>!0},testPropsWithSkipAutoLink={...testProps,annotation:mockAnnotationWithSkipAutoLink};function Basic(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_5__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Note_Context__WEBPACK_IMPORTED_MODULE_3__.A.Provider,{value:context,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{height:"200px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NoteContent__WEBPACK_IMPORTED_MODULE_2__.A,{...testProps})})})})}function BasicWithSkipAutoLink(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_5__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Note_Context__WEBPACK_IMPORTED_MODULE_3__.A.Provider,{value:context,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{height:"200px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NoteContent__WEBPACK_IMPORTED_MODULE_2__.A,{...testPropsWithSkipAutoLink})})})})}Basic.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}},BasicWithSkipAutoLink.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const __namedExportsOrder=["testProps","testPropsWithSkipAutoLink","Basic","BasicWithSkipAutoLink"]},"./src/helpers/MentionsManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js");const __WEBPACK_DEFAULT_EXPORT__=new class MentionsManager{initialize(store,annotManager){this.store=store,this.events={},this.idMentionDataMap={},this.allowedTrailingCharacters=[" ","\n"],this.mentionLookupCallback=this.defaultMentionsSearchCallback,annotManager.addEventListener("annotationChanged",((annotations,action,{imported})=>{annotations.length&&this.getUserData().length&&("add"===action?imported?this.handleAnnotationsAdded(annotations,imported):this.handleAnnotationsAdded(annotations):"modify"===action?this.handleAnnotationsModified(annotations):"delete"===action&&this.handleAnnotationsDeleted(annotations))})),annotManager.addEventListener("annotationIdChanged",((annotation,oldId,newId)=>{this.handleAnnotationIdChanged(annotation,oldId,newId)}))}handleAnnotationsAdded(annotations,imported=!1){let newMentions=[];annotations.forEach((annotation=>{const mentionData=this.extractMentionDataFromAnnot(annotation);this.idMentionDataMap[annotation.Id]=mentionData,newMentions=newMentions.concat(mentionData.mentions)})),newMentions.length&&!imported&&this.trigger("mentionChanged",[newMentions,"add"])}handleAnnotationsModified(annotations){const newMentions=[];let modifiedMentions=[];const deletedMentions=[];for(const annotation of annotations){const prevMentionData=this.idMentionDataMap[annotation.Id]||{mentions:[],contentWithoutMentions:""},currMentionData=this.extractMentionDataFromAnnot(annotation),prevMentions=prevMentionData.mentions,currMentions=currMentionData.mentions;this.idMentionDataMap[annotation.Id]=currMentionData;for(const currMention of currMentions){!prevMentions.find((prevMention=>this.isSameMention(prevMention,currMention)))&&newMentions.push(currMention)}for(const prevMention of prevMentions){!currMentions.find((currMention=>this.isSameMention(prevMention,currMention)))&&deletedMentions.push(prevMention)}prevMentions.length&&prevMentionData.contentWithoutMentions!==currMentionData.contentWithoutMentions&&(modifiedMentions=modifiedMentions.concat(currMentions))}newMentions.length&&this.trigger("mentionChanged",[newMentions,"add"]),modifiedMentions.length&&this.trigger("mentionChanged",[modifiedMentions,"modify"]),deletedMentions.length&&this.trigger("mentionChanged",[deletedMentions,"delete"])}handleAnnotationsDeleted(annotations){let deletedMentions=[];annotations.forEach((annotation=>{this.idMentionDataMap[annotation.Id]&&(deletedMentions=deletedMentions.concat(this.idMentionDataMap[annotation.Id].mentions),delete this.idMentionDataMap[annotation.Id])})),deletedMentions.length&&this.trigger("mentionChanged",[deletedMentions,"delete"])}handleAnnotationIdChanged(annotation,oldId,newId){if(this.idMentionDataMap[oldId]){const mentionData=this.idMentionDataMap[oldId];delete this.idMentionDataMap[oldId],this.idMentionDataMap[newId]=mentionData,mentionData.mentions&&mentionData.mentions.forEach((mention=>{mention.annotId=newId}))}}doesDeltaContainMention(deltas){return deltas.some((delta=>delta.insert?.mention))}getFormattedTextFromDeltas(deltas){const formattedMentionTextList=[];return deltas.forEach((delta=>{if(delta.insert)if("string"==typeof delta.insert)formattedMentionTextList.push(delta.insert);else if(delta.insert.mention){const mention=delta.insert.mention,formattedMentionText=`${mention.denotationChar}[${mention.value}](${mention.id})`;formattedMentionTextList.push(formattedMentionText)}})),formattedMentionTextList.join("")}extractMentionDataFromStr(str){const markupRegex=/@\[(.*?)\]\((.*?)\)/g,ids=[];let match,plainTextValue=str;for(;null!==(match=markupRegex.exec(str));){const[wholeMatch,displayName,id]=match;ids.push(id),plainTextValue=plainTextValue.replace(wholeMatch.slice(1),displayName)}return{plainTextValue,ids}}extractMentionDataFromAnnot(annotation){let mentionData=annotation.getCustomData("trn-mention");const userData=this.getUserData(),contents=annotation.getContents(),result={mentions:[],contentWithoutMentions:contents};return""===mentionData||(mentionData=JSON.parse(mentionData),userData.forEach((user=>{mentionData.ids.includes(user.id)&&this.isValidMention(contents,user.value)&&(result.mentions.push({...user,annotId:annotation.Id}),result.contentWithoutMentions=result.contentWithoutMentions.replace(`@${user.value}`,""))}))),result}isValidMention(content,value){value=`@${value}`;const startIndex=content.indexOf(value),nextChar=content[startIndex+value.length],isEndOfString=void 0===nextChar,allowedChars=this.getAllowedTrailingCharacters();return Array.isArray(allowedChars)&&-1===allowedChars.indexOf("\n")&&allowedChars.push("\n"),isEndOfString||"*"===allowedChars||allowedChars.includes(nextChar)}isSameMention(prevMention,currMention){for(const key in prevMention)if(prevMention[key]!==currMention[key])return!1;return!0}createMentionReply(annotation,value){const{plainTextValue,ids}=this.extractMentionDataFromStr(value),replyAnnot=new window.Core.Annotations.StickyAnnotation;return replyAnnot.InReplyTo=annotation.Id,replyAnnot.X=annotation.X,replyAnnot.Y=annotation.Y,replyAnnot.PageNumber=annotation.PageNumber,replyAnnot.Author=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentUser(),replyAnnot.setContents(plainTextValue||""),replyAnnot.setCustomData("trn-mention",JSON.stringify({contents:value,ids})),annotation.addReply(replyAnnot),replyAnnot}setUserData(userData){userData=userData.map((user=>({...user,id:user.id||user.email||user.value}))),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setUserData(userData))}getUserData(){return selectors__WEBPACK_IMPORTED_MODULE_2__.A.getUserData(this.store.getState())}setAllowedTrailingCharacters(chars){this.allowedTrailingCharacters=chars}getAllowedTrailingCharacters(){return this.allowedTrailingCharacters}on(eventName,fn){return this.events[eventName]||(this.events[eventName]=[]),this.events[eventName].push(fn),this}off(eventName,fn){return this.events?(void 0===eventName&&(this.events={}),this.events[eventName]?(this.events[eventName]=fn?this.events[eventName].filter((handler=>handler!==fn)):[],this):this):this}one(eventName,fn){const origFn=fn;return fn=(...args)=>{this.off(eventName,fn),origFn.apply(this,args)},this.on(eventName,fn)}trigger(eventName,...data){return this.events&&this.events[eventName]?(1===data.length&&Array.isArray(data[0])&&(data=data[0]),this.events[eventName].forEach((fn=>{fn.call(this,...data)})),this):this}addEventListener(...args){this.on(...args)}setEventListener(...args){this.on(...args)}removeEventListener(...args){this.off(...args)}setMentionLookupCallback(callback){this.mentionLookupCallback=callback}getMentionLookupCallback(){return this.mentionLookupCallback}defaultMentionsSearchCallback(userData,searchTerm){if(0===searchTerm.length)return userData;const matches=[],searchTermLowerCase=searchTerm.toLowerCase();return userData.forEach((function(user){const userValueIncludesSearchTerm=user.value.toLowerCase().includes(searchTermLowerCase),userIdIncludesSearchTerm=user.id&&user.id.toLowerCase().includes(searchTermLowerCase),userEmailIncludesSearchTerm=user.email&&user.email.toLowerCase().includes(searchTermLowerCase);(userValueIncludesSearchTerm||userIdIncludesSearchTerm||userEmailIncludesSearchTerm)&&matches.push(user)})),matches}}},"./src/helpers/getColor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=color=>(color?.toHexString?.()||"").substring(1)},"./src/helpers/getDeviceSize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$p:()=>isTabletAndMobileSize,IS:()=>isMobileSize,sf:()=>isTabletSize,ud:()=>isDesktopSize});var _getRootNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/getRootNode.js"),hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/hooks/useMedia.js"),constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/deviceSizes.js");const isMobileSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j}px)`],[!0],!1),isTabletSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth>constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j&&(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(min-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j+1}px) and (max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T}px)`],[!0],!1),isTabletAndMobileSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T}px)`],[!0],!1),isDesktopSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth>constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(min-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T+1}px)`],[!0],!1)},"./src/helpers/getLinkDestination.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=linkAnnotation=>linkAnnotation?linkAnnotation.actions?.U?.[0]instanceof window.Core.Actions.URI?linkAnnotation.actions.U?.[0]?.uri:linkAnnotation.actions?.U?.[0]instanceof window.Core.Actions.GoTo?`Page ${linkAnnotation.actions.U?.[0]?.dest.page}`:"":""},"./src/helpers/initialColorStates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DI:()=>initialColors,Lo:()=>defaultBorderColor,T2:()=>defaultCellStyle,eQ:()=>defaultTextColor,kD:()=>initialTextColors,lG:()=>defaultBackgroundColor});const initialColors=["#e44234","#ff8d00","#ffcd45","#5cc96e","#25d2d1","#597ce2","#c544ce","#7d2e25","#a84f1d","#e99e38","#347842","#167e7d","#354a87","#76287b","#ffffff","#cdcdcd","#9c9c9c","#696969","#272727","#000000"],initialTextColors=["#000000","#272727","#696969","#9c9c9c","#cdcdcd","#ffffff","#7d2e25","#a84f1d","#e99e38","#347842","#167e7d","#354a87","#76287b","#e44234","#ff8d00","#ffcd45","#5cc96e","#25d2d1","#597ce2","#c544ce"],defaultBackgroundColor="#FFFFFF00",defaultTextColor="#000000",defaultBorderColor="#000000",defaultCellStyle={verticalAlignment:2,horizontalAlignment:1,font:{fontFace:"Arial",pointSize:8,bold:!1,italic:!1,underline:!1,strikeout:!1,color:defaultTextColor},backgroundColor:null,getCellBorder:()=>({})}},"./src/hooks/useDidUpdate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(callback=()=>{},deps)=>{const didMount=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(didMount.current)return callback();didMount.current=!0}),deps)}},"./src/hooks/useFocusHandler/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useFocusHandler});var focusStackManager=__webpack_require__("./src/helpers/focusStackManager.js");const hooks_useFocusHandler=handler=>e=>{if(!e)return void handler();const{nativeEvent}=e,dataElement=e.currentTarget.getAttribute("data-element");if(!dataElement)return console.warn("You used the useFocusHandler hook on an element without a data-element attribute. Please add a dataElement for the focus transfer to work correctly."),void handler(e);"mouse"===nativeEvent.pointerType||nativeEvent.detail>0?focusStackManager.A.clear():""!==nativeEvent.pointerType&&void 0!==nativeEvent.pointerType||focusStackManager.A.push(dataElement),handler(e)}},"./src/hooks/useFocusOnClose/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useFocusOnClose});var react=__webpack_require__("./node_modules/react/index.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js"),focusStackManager=__webpack_require__("./src/helpers/focusStackManager.js");const hooks_useFocusOnClose=(onCloseClick,preferredFocusElement="")=>(0,react.useCallback)((event=>{onCloseClick(event);const dataElement=focusStackManager.A.pop(),elementSelectorToFocus=preferredFocusElement||dataElement;if(elementSelectorToFocus){const elementToFocus=(0,getRootNode.Ay)().querySelector(`[data-element="${elementSelectorToFocus}"]`);elementToFocus&&requestAnimationFrame((()=>{elementToFocus.focus()}))}}),[onCloseClick])},"./src/hooks/useMedia.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(queries,values,defaultValue)=>{const mediaQueryLists=queries.map((q=>window.matchMedia(`screen and ${q}`))),getValue=initial=>{initial&&window.innerWidth;const index=mediaQueryLists.findIndex((mql=>mql?.matches));return void 0!==values[index]?values[index]:defaultValue},[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>getValue(!0)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const handler=()=>setValue((()=>getValue()));return mediaQueryLists.forEach((mql=>mql?.addListener(handler))),()=>mediaQueryLists.forEach((mql=>mql?.removeListener(handler)))}),[]),value}}}]);