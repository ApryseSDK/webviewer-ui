(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[31286],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Button/Button.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Button.modular-ui.button-text-icon:hover:not(:disabled):not(.disabled),.Button.modular-ui.icon-only:not(.dropdown-icon-only):hover:not(:disabled):not(.disabled),.dropdown-text-icon.open .display-button,.dropdown-text-icon:hover:not([disabled]):not(.disabled) .display-button{cursor:pointer;border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.Button{padding:0;border:none;background-color:transparent;position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:4px;width:32px;height:32px;color:var(--text-color);transform:translateZ(0)}:host(:not([data-tabbing=true])) .Button,html:not([data-tabbing=true]) .Button{outline:none}.Button img{height:24px;width:24px}.Button.active path[fill=default]{fill:var(--selected-icon-color)}.Button.active[data-element=panToolButton],.Button.active[data-element=selectToolButton]{background:var(--view-header-button-active)}.Button.active .Icon{color:var(--selected-icon-color)}.Button.disabled,.Button:disabled{background:none;cursor:default}.Button.disabled .Icon,.Button.disabled span,.Button:disabled .Icon,.Button:disabled span{color:var(--disabled-icon)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Button.modular-ui.button-text-icon:hover:not(:disabled):not(.disabled):not(.active),.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Button.modular-ui.icon-only:not(.dropdown-icon-only):hover:not(:disabled):not(.disabled):not(.active){box-shadow:none;background-color:transparent}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Button.modular-ui.button-text-icon:hover:not(:disabled):not(.disabled):not(.active),.App.is-web-component:not(.is-in-desktop-only-mode) .Button.modular-ui.icon-only:not(.dropdown-icon-only):hover:not(:disabled):not(.disabled):not(.active){box-shadow:none;background-color:transparent}}.Button.modular-ui.button-text-icon.active,.Button.modular-ui.icon-only:not(.dropdown-icon-only).active{box-shadow:inset 0 0 0 1px var(--blue-5);background:var(--tools-button-active)}.Button.modular-ui.button-text-icon.active .Icon,.Button.modular-ui.icon-only:not(.dropdown-icon-only).active .Icon{color:var(--blue-5)}.Button.modular-ui.button-text-icon.disabled,.Button.modular-ui.button-text-icon[disabled],.Button.modular-ui.icon-only:not(.dropdown-icon-only).disabled,.Button.modular-ui.icon-only:not(.dropdown-icon-only)[disabled]{cursor:not-allowed}.Button.modular-ui.button-text-icon.disabled:hover,.Button.modular-ui.button-text-icon[disabled]:hover,.Button.modular-ui.icon-only:not(.dropdown-icon-only).disabled:hover,.Button.modular-ui.icon-only:not(.dropdown-icon-only)[disabled]:hover{box-shadow:none}.Button.modular-ui.button-text-icon{width:auto;grid-gap:var(--padding-small);gap:var(--padding-small);padding:0 var(--padding-small);text-wrap:nowrap}.Button.modular-ui.dropdown-icon-only.active+.Icon,.Button.modular-ui.dropdown-icon-only.active .Icon{color:var(--blue-5)}.Button:focus{outline:none}.Button.focus-visible,.Button:focus-visible{outline:var(--focus-visible-outline)!important;z-index:2}.dropdown-text-icon.open .display-button,.dropdown-text-icon:hover:not([disabled]):not(.disabled) .display-button{border-radius:4px}.dropdown-text-icon.disabled .Button,.dropdown-text-icon.disabled .display-button,.dropdown-text-icon[disabled] .Button,.dropdown-text-icon[disabled] .display-button{cursor:not-allowed}.dropdown-text-icon .display-button{display:flex;align-items:center;grid-gap:var(--padding-small);gap:var(--padding-small);padding:0 var(--padding-small);cursor:pointer}.dropdown-text-icon .display-button .Button{width:auto;grid-gap:var(--padding-small);gap:var(--padding-small)}.dropdown-text-icon .display-button .Icon.arrow{width:12px;height:12px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Tooltip/Tooltip.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,':host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.tooltip--bottom,.tooltip--bottomLeft,.tooltip--left,.tooltip--right,.tooltip--top,.tooltip--topLeft{position:absolute;z-index:120;background:#222;font-size:12px;padding:6px 8px;border-radius:3px;transition:opacity .3s ease-out;backface-visibility:hidden}.tooltip--bottom .tooltip__content:before,.tooltip--bottomLeft .tooltip__content:before,.tooltip--left .tooltip__content:before,.tooltip--right .tooltip__content:before,.tooltip--top .tooltip__content:before,.tooltip--topLeft .tooltip__content:before{content:"";width:0;height:0;position:absolute}.tooltip--top{margin-top:-10px}.tooltip--top .tooltip__content:before{inset-block-end:-6px;inset-inline-start:50%;margin-inline-start:-8px;border-inline-start:8px solid transparent;border-inline-end:8px solid transparent;border-top:6px solid #222}.tooltip--topLeft{margin-top:-10px}.tooltip--topLeft .tooltip__content:before{inset-block-end:-5px;margin-inline-start:-7px;border-inline-start:8px solid transparent;border-inline-end:8px solid transparent;border-top:6px solid #222}.tooltip--bottom{margin-top:10px}.tooltip--bottom .tooltip__content:before{inset-block-start:-6px;inset-inline-start:50%;margin-inline-start:-8px;border-inline-start:8px solid transparent;border-inline-end:8px solid transparent;border-bottom:6px solid #222}.tooltip--bottomLeft{margin-top:10px}.tooltip--bottomLeft .tooltip__content:before{inset-block-start:-5px;margin-inline-start:-7px;border-inline-start:8px solid transparent;border-inline-end:8px solid transparent;border-bottom:6px solid #222}.tooltip--left{margin-inline-start:-10px;white-space:nowrap}.tooltip--left .tooltip__content:before{border-top:6px solid transparent;border-bottom:6px solid transparent;border-inline-start:6px solid #222;inset-inline-end:-6px;inset-block-start:50%;margin-top:-6px}.tooltip--right{margin-inline-start:10px;white-space:nowrap}.tooltip--right .tooltip__content:before{border-top:6px solid transparent;border-bottom:6px solid transparent;border-inline-end:6px solid #222;inset-inline-start:-6px;inset-block-start:50%;margin-top:-6px}.tooltip__shortcut{margin-inline-start:3px;opacity:.5}.tooltip__content{background:#222;color:#fff;font-size:12px}',""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/Button/Button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),react_i18next__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Tooltip/index.js"),components_Icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Icon/index.js"),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/hotkeysManager.js"),selectors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/redux/selectors/index.js"),helpers_clickTracker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/clickTracker.js"),helpers_accessibility__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/helpers/accessibility.js");__webpack_require__("./src/components/Button/Button.scss");const NOOP=e=>{e?.stopPropagation(),e?.preventDefault()},propTypes={isActive:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,mediaQueryClassName:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,img:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().number,prop_types__WEBPACK_IMPORTED_MODULE_11___default().node]),title:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,color:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,dataElement:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,onDoubleClick:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,onMouseUp:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,isSubmitType:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,ariaControls:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,role:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,hideTooltipShortcut:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,useI18String:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,shouldPassActiveDocumentViewerKeyToOnClickHandler:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node},Button=props=>{const[removeElement,isCustomUI,customOverrides={},activeDocumentViewerKey=1]=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_7__.A.isElementDisabled(state,props.dataElement),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getFeatureFlags(state)?.customizableUI,selectors__WEBPACK_IMPORTED_MODULE_7__.A.getCustomElementOverrides(state,props.dataElement),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getActiveDocumentViewerKey(state)]),react_redux__WEBPACK_IMPORTED_MODULE_2__.bN),{disable,disabled,isActive,mediaQueryClassName,img,tabIndex,label,useI18String=!0,color,dataElement,onClick,onDoubleClick,onMouseUp,className,title,style,ariaLabel,ariaLabelledby,ariaControls,ariaCurrent,ariaPressed,ariaExpanded,ariaSelected,role,strokeColor,fillColor,hideTooltipShortcut,iconClassName,forceTooltipPosition,isSubmitType,hideOnClick,shouldPassActiveDocumentViewerKeyToOnClickHandler,onClickAnnouncement,onKeyDownHandler}={...props,...customOverrides},[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_12__.B)(),customOverrideClasses={};if(customOverrides&&customOverrides.hidden&&customOverrides.hidden.length)for(const screenSize of customOverrides.hidden)customOverrideClasses[`hide-in-${screenSize}`]=!0;const aLabel=ariaLabel||(title?t(title):void 0),aControls=ariaControls||"",shortcutKey=title?title.slice(title.indexOf(".")+1):void 0,ariaKeyshortcuts=shortcutKey?(0,helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_6__.K3)(shortcutKey):void 0,isBase64=img?.trim().startsWith("data:"),imgToShow=img,actuallyDisabled=disable||disabled;let onClickHandler;onClickHandler=shouldPassActiveDocumentViewerKeyToOnClickHandler?()=>{if((0,helpers_accessibility__WEBPACK_IMPORTED_MODULE_9__.EC)(onClickAnnouncement),(0,helpers_clickTracker__WEBPACK_IMPORTED_MODULE_8__.Nc)()?.(dataElement,{type:helpers_clickTracker__WEBPACK_IMPORTED_MODULE_8__.IU.BUTTON}),onClick)return onClick(activeDocumentViewerKey)}:e=>{if((0,helpers_accessibility__WEBPACK_IMPORTED_MODULE_9__.EC)(onClickAnnouncement),(0,helpers_clickTracker__WEBPACK_IMPORTED_MODULE_8__.Nc)()?.(dataElement,{type:helpers_clickTracker__WEBPACK_IMPORTED_MODULE_8__.IU.BUTTON}),onClick)return onClick(e)};const isGlyph=img&&!isBase64&&(!img.includes(".")||img.startsWith("<svg")),shouldRenderTooltip=!!title,children=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()({Button:!0,active:isActive&&!actuallyDisabled,disabled:actuallyDisabled,[mediaQueryClassName]:mediaQueryClassName,[className]:className,...customOverrideClasses,"modular-ui":isCustomUI,"icon-only":isGlyph&&!label}),style,"data-element":dataElement,onClick:actuallyDisabled?NOOP:onClickHandler,onDoubleClick:actuallyDisabled?NOOP:onDoubleClick,onMouseUp:actuallyDisabled?NOOP:onMouseUp,onKeyDown:actuallyDisabled?NOOP:onKeyDownHandler,"aria-label":aLabel,"aria-labelledby":ariaLabelledby,"aria-controls":aControls||void 0,role,tabIndex,type:isSubmitType?"submit":"button",disabled:actuallyDisabled,"aria-disabled":actuallyDisabled,"aria-keyshortcuts":ariaKeyshortcuts,"aria-pressed":ariaPressed,"aria-expanded":ariaExpanded,"aria-selected":ariaSelected,"aria-current":ariaCurrent,children:[isGlyph&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Icon__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:actuallyDisabled,glyph:imgToShow,color,fillColor,strokeColor,className:iconClassName}),imgToShow&&!isGlyph&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:imgToShow}),label&&(useI18String?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:t(label)}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:label})),props.children]});return removeElement?null:shouldRenderTooltip?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{content:title,hideShortcut:hideTooltipShortcut||actuallyDisabled,forcePosition:forceTooltipPosition,hideOnClick,children}):children};Button.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(Button);Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{isActive:{description:"",type:{name:"bool"},required:!1},mediaQueryClassName:{description:"",type:{name:"string"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"},{name:"node"}]},required:!1},title:{description:"",type:{name:"string"},required:!1},color:{description:"",type:{name:"string"},required:!1},dataElement:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},onDoubleClick:{description:"",type:{name:"func"},required:!1},onMouseUp:{description:"",type:{name:"func"},required:!1},isSubmitType:{description:"",type:{name:"bool"},required:!1},ariaLabel:{description:"Will override translated title if both given.",type:{name:"string"},required:!1},ariaControls:{description:"",type:{name:"string"},required:!1},role:{description:"",type:{name:"string"},required:!1},hideTooltipShortcut:{description:"",type:{name:"bool"},required:!1},useI18String:{description:"",type:{name:"bool"},required:!1},shouldPassActiveDocumentViewerKeyToOnClickHandler:{description:"",type:{name:"bool"},required:!1},children:{description:"",type:{name:"node"},required:!1}}}},"./src/components/Button/Button.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Button/Button.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Tooltip/Tooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/hotkeysManager.js"),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/selectors/index.js"),helpers_getWebComponentScale__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/helpers/getWebComponentScale.js"),helpers_fireEvent__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/fireEvent.js"),helpers_device__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/device.js"),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/helpers/getRootNode.js"),constants_events__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/constants/events.js");__webpack_require__("./src/components/Tooltip/Tooltip.scss");const propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_10___default().element.isRequired,content:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,hideShortcut:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,forcePosition:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,hideOnClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,xOffset:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number},isMouseOverElement=(elementBoundingRect,e)=>e.clientX>=elementBoundingRect.left&&e.clientX<=elementBoundingRect.right&&e.clientY>=elementBoundingRect.top&&e.clientY<=elementBoundingRect.bottom,Tooltip=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((({content="",children,hideShortcut,forcePosition,hideOnClick=!0,xOffset=0},ref)=>{const timeoutRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),hiddenByClickRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1),childRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref,(()=>childRef.current));const isDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_4__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_5__.A.isElementDisabled(state,"tooltip"))),tooltipRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),[show,setShow]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[opacity,setOpacity]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[position,setPosition]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({top:0,left:0}),[location,setLocation]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("bottom"),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.B)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const showToolTip=()=>{clearTimeout(timeoutRef.current),hiddenByClickRef.current||(timeoutRef.current=setTimeout((()=>{(0,helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.cU)(hideByClick),setShow(!0),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_6__.A)(constants_events__WEBPACK_IMPORTED_MODULE_8__.A.TOOLTIP_OPENED)}),250))},hideTooltip=()=>{clearTimeout(timeoutRef.current),setShow(!1)},hideByBlur=()=>{hiddenByClickRef.current=!1,hideTooltip()},hideByClick=()=>{hiddenByClickRef.current=!0,hideTooltip()},changeToolTipState=e=>{if(childRef.current?.contains(e.target)||tooltipRef.current?.contains(e.target))showToolTip();else{const childBoundingRect=childRef.current?.getBoundingClientRect(),tooltipBoundingRect=tooltipRef.current?.getBoundingClientRect(),isMouseOverChild=childBoundingRect&&isMouseOverElement(childBoundingRect,e),isMouseOverTooltip=tooltipBoundingRect&&isMouseOverElement(tooltipBoundingRect,e),rectBetweenChildAndTooltip=tooltipBoundingRect&&childBoundingRect&&{top:Math.min(childBoundingRect.top,tooltipBoundingRect.top),bottom:Math.max(childBoundingRect.bottom,tooltipBoundingRect.bottom),left:Math[childBoundingRect.bottom<tooltipBoundingRect.top?"max":"min"](childBoundingRect.left,tooltipBoundingRect.left),right:Math[childBoundingRect.bottom<tooltipBoundingRect.top?"min":"max"](childBoundingRect.right,tooltipBoundingRect.right)},isMouseBetweenChildAndTooltip=rectBetweenChildAndTooltip&&isMouseOverElement(rectBetweenChildAndTooltip,e);isMouseOverChild||isMouseOverTooltip||isMouseBetweenChildAndTooltip||(hiddenByClickRef.current=!1,hideTooltip())}};(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().addEventListener("pointermove",changeToolTipState),hideOnClick&&childRef.current?.addEventListener("click",hideByClick),"action.cancel"===childRef.current.ariaLabel||"action.cancel"===content||childRef.current.parentElement.parentElement.className.includes("TextPopup")||(childRef.current?.addEventListener("focus",showToolTip),childRef.current?.addEventListener("blur",hideByBlur));const observer=new MutationObserver((mutations=>{const lastMutation=mutations[mutations.length-1];lastMutation&&"disabled"===lastMutation.attributeName&&lastMutation.target.disabled&&setTimeout((()=>{hideTooltip()}),300)}));return observer.observe(childRef.current,{attributes:!0,childList:!1,characterData:!1}),()=>{hideTooltip(),observer.disconnect(),(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().removeEventListener("pointermove",changeToolTipState),hideOnClick&&childRef.current?.removeEventListener("click",hideByClick),childRef.current?.removeEventListener("focus",showToolTip),childRef.current?.removeEventListener("blur",hideByBlur)}}),[childRef,hideOnClick]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{const childEle=childRef.current,tooltipEle=tooltipRef.current;show&&childEle&&tooltipEle?((()=>{const childRect=childEle.getBoundingClientRect(),tooltipRect=tooltipEle.getBoundingClientRect();let hostX=0,hostY=0;if(window.isApryseWebViewerWebComponent){const hostRect=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().host.getBoundingClientRect();hostX=hostRect.x,hostY=hostRect.y}const locationTopLeftMap={bottom:{top:childRect.bottom-hostY,left:childRect.left+childRect.width/2-tooltipRect.width/2-hostX},bottomLeft:{top:childRect.bottom-hostY,left:childRect.left-hostX},top:{top:childRect.top-tooltipRect.height-hostY,left:childRect.left+childRect.width/2-tooltipRect.width/2-hostX},topLeft:{top:childRect.top-tooltipRect.height-hostY,left:childRect.left-hostX},left:{top:childRect.top+childRect.height/2-tooltipRect.height/2-hostY,left:childRect.left-tooltipRect.width-hostX},right:{top:childRect.top+childRect.height/2-tooltipRect.height/2-hostY,left:childRect.right-hostX}},bestLocation=Object.keys(locationTopLeftMap).find((location=>{if(forcePosition)return location===forcePosition;const{top:newTop,left:newLeft}=locationTopLeftMap[location];return newTop>0&&newTop+tooltipRect.height<window.innerHeight&&newLeft>0&&newLeft+tooltipRect.width<window.innerWidth}))||"bottom",{top:tooltipTop,left:tooltipLeft}=locationTopLeftMap[bestLocation],{scaleX,scaleY}=(0,helpers_getWebComponentScale__WEBPACK_IMPORTED_MODULE_13__._)();setPosition({top:tooltipTop/scaleY,left:(tooltipLeft+xOffset)/scaleX}),setLocation(bestLocation)})(),setTimeout((()=>{setOpacity(1)}),50)):setOpacity(0)}),[childRef,show]);const isUsingMobileDevices=helpers_device__WEBPACK_IMPORTED_MODULE_7__.un||helpers_device__WEBPACK_IMPORTED_MODULE_7__.m0,child=react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(children,{ref:childRef}),translatedContent=t(content);let shortcutKey=content.slice(content.indexOf(".")+1);helpers_device__WEBPACK_IMPORTED_MODULE_7__.uF&&"redo"===shortcutKey&&(shortcutKey="redo_windows");const isActive=helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.isActive(shortcutKey);let hasShortcut=-1===t(`shortcut.${shortcutKey}`).indexOf("."),shortcut=t(`shortcut.${shortcutKey}`);return helpers_device__WEBPACK_IMPORTED_MODULE_7__.cX&&(shortcut=shortcut.replace("Ctrl","Cmd")),isActive||(hasShortcut=!1),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[child,show&&translatedContent&&!isUsingMobileDevices&&!isDisabled&&react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`tooltip--${location}`,style:{opacity,...position},ref:tooltipRef,"data-element":"tooltip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"tooltip__content",children:[translatedContent,hasShortcut&&!hideShortcut&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"tooltip__shortcut",children:shortcut})]})}),(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().querySelector("#app"))]})}));Tooltip.displayName="Tooltip",Tooltip.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(Tooltip);Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{content:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},hideOnClick:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},xOffset:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},children:{description:"",type:{name:"element"},required:!0},hideShortcut:{description:"",type:{name:"bool"},required:!1},forcePosition:{description:"",type:{name:"string"},required:!1}}}},"./src/components/Tooltip/Tooltip.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Tooltip/Tooltip.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Tooltip/Tooltip.js").A},"./src/constants/sortStrategies.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vr:()=>NotesPanelSortStrategy,DZ:()=>addSortStrategy,Qk:()=>getSortStrategies});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),core=__webpack_require__("./src/core/index.js");__webpack_require__("./node_modules/react/index.js");const rotateRad=(cx,cy,x,y,radians)=>{const s=Math.sin(radians),c=Math.cos(radians);return{x:c*(x-cx)+s*(y-cy)+cx,y:c*(y-cy)-s*(x-cx)+cy}};var helpers_color=__webpack_require__("./src/helpers/color.js"),getAnnotationClass=__webpack_require__("./src/helpers/getAnnotationClass.js"),getLatestActivityDate=__webpack_require__("./src/helpers/getLatestActivityDate.js"),commonColors=__webpack_require__("./src/constants/commonColors.js");function getNoteColor(note){let color=commonColors.zb.gray8;return function isNoteFreeTextAnnotation(note){return note instanceof window.Core.Annotations.FreeTextAnnotation}(note)&&note.TextColor?color=(0,helpers_color.H)(note.TextColor.R,note.TextColor.G,note.TextColor.B,note.TextColor.A):note.Color&&(color=(0,helpers_color.H)(note.Color.R,note.Color.G,note.Color.B,note.Color.A)),color}const sortStrategies={position:{getSortedNotes:notes=>notes.sort(((a,b)=>{if(a.PageNumber===b.PageNumber){const rotation=function getRotationRad(pageNumber){return(4-core.A.getRotation(pageNumber))*(Math.PI/2)}(a.PageNumber),center=function getDocumentCenter(pageNumber){let result;return result=pageNumber<=core.A.getTotalPages()?core.A.getPageInfo(pageNumber):{width:0,height:0},{x:result.width/2,y:result.height/2}}(a.PageNumber),rotatedA=[rotateRad(center.x,center.y,a.X,a.Y,rotation),rotateRad(center.x,center.y,a.X+a.Width,a.Y+a.Height,rotation)],rotatedB=[rotateRad(center.x,center.y,b.X,b.Y,rotation),rotateRad(center.x,center.y,b.X+b.Width,b.Y+b.Height,rotation)];return rotatedA.reduce(((smallest,current)=>current.y<smallest?current.y:smallest),Number.MAX_SAFE_INTEGER)-rotatedB.reduce(((smallest,current)=>current.y<smallest?current.y:smallest),Number.MAX_SAFE_INTEGER)}return a.PageNumber-b.PageNumber})),shouldRenderSeparator:(prevNote,currNote)=>currNote.PageNumber!==prevNote.PageNumber,getSeparatorContent:(prevNote,currNote,{pageLabels})=>`${i18next.A.t("option.shared.page")} ${pageLabels[currNote.PageNumber-1]}`},createdDate:{getSortedNotes:notes=>notes.sort(((a,b)=>(a.DateCreated||0)-(b.DateCreated||0))),shouldRenderSeparator:(prevNote,currNote)=>{const prevNoteDate=prevNote.DateCreated,currNoteDate=currNote.DateCreated;if(prevNoteDate&&currNoteDate){const dayFormat="MMM D, YYYY";return dayjs_min_default()(prevNoteDate).format(dayFormat)!==dayjs_min_default()(currNoteDate).format(dayFormat)}return!(!prevNoteDate&&!currNoteDate)},getSeparatorContent:(prevNote,currNote)=>{const createdDate=currNote.DateCreated;if(createdDate){const dayFormat="MMM D, YYYY",today=dayjs_min_default()(new Date).format(dayFormat),yesterday=dayjs_min_default()(new Date(new Date-864e5)).format(dayFormat),createdDateString=dayjs_min_default()(new Date(createdDate)).format(dayFormat);return createdDateString===today?i18next.A.t("option.notesPanel.separator.today"):createdDateString===yesterday?i18next.A.t("option.notesPanel.separator.yesterday"):createdDateString}return i18next.A.t("option.notesPanel.separator.unknown")}},modifiedDate:{getSortedNotes:notes=>notes.sort(((a,b)=>((0,getLatestActivityDate.A)(b)||0)-((0,getLatestActivityDate.A)(a)||0))),shouldRenderSeparator:(prevNote,currNote)=>{const prevNoteDate=(0,getLatestActivityDate.A)(prevNote),currNoteDate=(0,getLatestActivityDate.A)(currNote);if(prevNoteDate&&currNoteDate){const dayFormat="MMM D, YYYY";return dayjs_min_default()(prevNoteDate).format(dayFormat)!==dayjs_min_default()(currNoteDate).format(dayFormat)}return!(!prevNoteDate&&!currNoteDate)},getSeparatorContent:(prevNote,currNote)=>{const latestActivityDate=(0,getLatestActivityDate.A)(currNote);if(latestActivityDate){const dayFormat="MMM D, YYYY",today=dayjs_min_default()(new Date).format(dayFormat),yesterday=dayjs_min_default()(new Date(new Date-864e5)).format(dayFormat),latestActivityDay=dayjs_min_default()(latestActivityDate).format(dayFormat);return latestActivityDay===today?i18next.A.t("option.notesPanel.separator.today"):latestActivityDay===yesterday?i18next.A.t("option.notesPanel.separator.yesterday"):latestActivityDay}return i18next.A.t("option.notesPanel.separator.unknown")}},status:{getSortedNotes:notes=>notes.sort(((a,b)=>{const statusA=""===a.getStatus()?i18next.A.t("option.state.none").toUpperCase():i18next.A.t(`option.state.${a.getStatus().toLowerCase()}`).toUpperCase(),statusB=""===b.getStatus()?i18next.A.t("option.state.none").toUpperCase():i18next.A.t(`option.state.${b.getStatus().toLowerCase()}`).toUpperCase();return statusA<statusB?-1:statusA>statusB?1:0})),shouldRenderSeparator:(prevNote,currNote)=>prevNote.getStatus()!==currNote.getStatus(),getSeparatorContent:(prevNote,currNote)=>""===currNote.getStatus()?i18next.A.t("option.state.none"):i18next.A.t(`option.state.${currNote.getStatus().toLowerCase()}`)},author:{getSortedNotes:notes=>notes.sort(((a,b)=>{const authorA=core.A.getDisplayAuthor(a.Author)?.toUpperCase(),authorB=core.A.getDisplayAuthor(b.Author)?.toUpperCase();return authorA<authorB?-1:authorA>authorB?1:0})),shouldRenderSeparator:(prevNote,currNote)=>core.A.getDisplayAuthor(prevNote.Author)!==core.A.getDisplayAuthor(currNote.Author),getSeparatorContent:(prevNote,currNote)=>core.A.getDisplayAuthor(currNote.Author)},type:{getSortedNotes:notes=>notes.sort(((a,b)=>{const typeA=(0,getAnnotationClass.u)(a),typeB=(0,getAnnotationClass.u)(b);return typeA<typeB?-1:typeA>typeB?1:0})),shouldRenderSeparator:(prevNote,currNote)=>(0,getAnnotationClass.u)(prevNote)!==(0,getAnnotationClass.u)(currNote),getSeparatorContent:(prevNote,currNote)=>i18next.A.t(`option.type.${(0,getAnnotationClass.u)(currNote)}`)},color:{getSortedNotes:notes=>notes.sort(((prevNote,currNote)=>{const colorA=getNoteColor(currNote),colorB=getNoteColor(prevNote);return colorA<colorB?-1:colorA>colorB?1:0})),shouldRenderSeparator:(prevNote,currNote)=>getNoteColor(currNote)!==getNoteColor(prevNote),getSeparatorContent:(prevNote,currNote)=>{const color=getNoteColor(currNote);return(0,jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[i18next.A.t("option.notesOrder.color"),(0,jsx_runtime.jsx)("div",{style:{background:color,width:"7px",height:"7px",borderRadius:"10000000px",marginLeft:"10px"}})]})}}},getSortStrategies=()=>sortStrategies,addSortStrategy=newStrategy=>{const{name,getSortedNotes,shouldRenderSeparator,getSeparatorContent}=newStrategy;sortStrategies[name]={getSortedNotes,shouldRenderSeparator,getSeparatorContent}},NotesPanelSortStrategy={POSITION:"position",CREATED_DATE:"createdDate",MODIFIED_DATE:"modifiedDate",STATUS:"status",AUTHOR:"author",TYPE:"type",COLOR:"color"}},"./src/helpers/accessibility.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CN:()=>shouldEndAccessibleReadingOrderMode,EC:()=>createAnnouncement,ci:()=>findFocusableIndex,dy:()=>escapePressListener,ey:()=>getButtonPressedAnnouncement,s0:()=>prepareAccessibleModeContent});var helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/getRootNode.js"),core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js");function findFocusableIndex(elements,toFind){let index=-1;if(!toFind)return index;for(let i=0;i<elements.length;i++)if(elements[i]===toFind){index=i;break}return index}function escapePressListener(event,onEscapeFunction){"Escape"===event.key&&onEscapeFunction(event)}function getButtonPressedAnnouncement(buttonName){const[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.B)();return t("action.buttonPressed",{buttonName:t(buttonName)})}function createAnnouncement(onClickAnnouncement){if(onClickAnnouncement){const el=document.createElement("div"),id=`speak-${Date.now()}`;el.setAttribute("id",id),el.setAttribute("aria-live","assertive"),el.classList.add("visually-hidden");const parent=window.isApryseWebViewerWebComponent?(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)():document.body;parent.appendChild(el),window.setTimeout((function(){(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().getElementById(id).innerText=onClickAnnouncement}),100),window.setTimeout((function(){parent.removeChild((0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().getElementById(id))}),1e3)}}function shouldEndAccessibleReadingOrderMode(){const accessibleReadingOrderManager=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer()?.getAccessibleReadingOrderManager();accessibleReadingOrderManager?.endAccessibleReadingOrderMode()}function prepareAccessibleModeContent(store,pageNumber){const state=store.getState(),documentViewerKey=state.viewer.activeDocumentViewerKey;state.viewer.shouldAddA11yContentToDOM&&core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument(documentViewerKey).loadPageText(pageNumber,(text=>{const id=`pageText${pageNumber}`,pageContainerElement=core__WEBPACK_IMPORTED_MODULE_0__.A.getViewerElement(documentViewerKey).querySelector(`#pageContainer${pageNumber}`),existingTextContainer=pageContainerElement.querySelector(`#${id}`);existingTextContainer&&pageContainerElement.removeChild(existingTextContainer);const textContainer=document.createElement("div");textContainer.tabIndex=0,textContainer.textContent=`Page ${pageNumber}.\n${text}\nEnd of page ${pageNumber}.`,textContainer.style="font-size: 5px; overflow: auto; position: absolute; z-index: -99999; top: 0; bottom: 0;",textContainer.id=id,pageContainerElement.prepend(textContainer)}))}},"./src/helpers/clickTracker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{IU:()=>ClickedItemTypes,Nc:()=>getClickMiddleWare,tA:()=>setClickMiddleWare});const ClickedItemTypes={BUTTON:"button"};let clickMiddleWare;const setClickMiddleWare=middleware=>{clickMiddleWare=middleware},getClickMiddleWare=()=>clickMiddleWare},"./src/helpers/copyText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/getRootNode.js");const __WEBPACK_DEFAULT_EXPORT__=(activeDocumentViewerKey=1)=>{if((0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)().querySelector("#copy-textarea").value="",!window.getSelection()?.toString())if(window.clipboardData)window.clipboardData.setData("Text",core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText(activeDocumentViewerKey));else if(navigator?.clipboard?.writeText)navigator.clipboard.writeText(core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText(activeDocumentViewerKey));else{const textarea=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)().querySelector("#copy-textarea");textarea.value=core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText(activeDocumentViewerKey),textarea.select(),textarea.setSelectionRange(0,99999),textarea.focus();try{document.execCommand("copy"),textarea.blur()}catch(e){console.error(`Copy is not supported by browser. ${e}`)}}}},"./src/helpers/createTextAnnotationAndSelect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_getToolStyles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/getToolStyles.js"),constants_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/map.js"),actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/index.js");const __WEBPACK_DEFAULT_EXPORT__=(dispatch,annotationConstructor,activeDocumentViewerKey=1)=>{const annotations=createTextAnnotation(annotationConstructor,activeDocumentViewerKey);core__WEBPACK_IMPORTED_MODULE_0__.A.clearSelection(activeDocumentViewerKey),core__WEBPACK_IMPORTED_MODULE_0__.A.addAnnotations(annotations,activeDocumentViewerKey),core__WEBPACK_IMPORTED_MODULE_0__.A.selectAnnotations(annotations,activeDocumentViewerKey),dispatch(actions__WEBPACK_IMPORTED_MODULE_3__.A.closeElement("textPopup"))},createTextAnnotation=(annotationConstructor,activeDocumentViewerKey=1)=>{const annotations=[],quads=core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedTextQuads(activeDocumentViewerKey);return Object.keys(quads).forEach((pageNumber=>{pageNumber=parseInt(pageNumber,10);const annotation=createAnnotation(annotationConstructor,pageNumber,quads);!window.Core.Tools.TextAnnotationCreateTool.AUTO_SET_TEXT||annotation instanceof window.Core.Annotations.RedactionAnnotation||annotation.setContents(core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText(activeDocumentViewerKey)),annotation.setCustomData("trn-annot-preview",core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText(activeDocumentViewerKey)),annotation instanceof window.Core.Annotations.RedactionAnnotation&&(setRedactionStyle(annotation),annotation.IsText=!0),setAnnotationStyle(annotation),annotations.push(annotation)})),annotations},createAnnotation=(annotationConstructor,pageNumber,quads)=>{const annotation=new annotationConstructor;return annotation.PageNumber=pageNumber,annotation.Quads=quads[pageNumber],annotation.Author=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentUser(),annotation},setAnnotationStyle=annotation=>{const toolName=(0,constants_map__WEBPACK_IMPORTED_MODULE_2__.SO)(annotation);if(toolName){const newStyles=(0,helpers_getToolStyles__WEBPACK_IMPORTED_MODULE_1__.A)(toolName);Object.keys(newStyles).forEach((property=>{annotation[property]=newStyles[property]}))}},setRedactionStyle=annotation=>{const{AnnotationCreateRedaction:{defaults:style={}}}=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolModeMap();if(style){if(style.StrokeColor){const color=style.StrokeColor;annotation.StrokeColor=new window.Core.Annotations.Color(color.R,color.G,color.B,color.A)}if(style.StrokeThickness&&(annotation.StrokeThickness=style.StrokeThickness),style.FillColor){const fillColor=style.FillColor;annotation.FillColor=new window.Core.Annotations.Color(fillColor.R,fillColor.G,fillColor.B,fillColor.A)}}}},"./src/helpers/embeddedPrint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{bV:()=>canEmbedPrint,s7:()=>embeddedPrintNoneSupportedOptions,aW:()=>printEmbeddedPDF,X0:()=>processEmbeddedPrintOptions});var getRootNode=__webpack_require__("./src/helpers/getRootNode.js"),device=__webpack_require__("./src/helpers/device.js"),types=__webpack_require__("./src/constants/types.js"),printCurrentViewHelper=__webpack_require__("./src/helpers/printCurrentViewHelper.js"),grayScaleHelper=__webpack_require__("./src/helpers/grayScaleHelper.js"),core=__webpack_require__("./src/core/index.js");const FORMAT_DOCUMENT_FOR_PRINT_OPTION_DocumentAndAnnotations=1,FORMAT_DOCUMENT_FOR_PRINT_OPTION_DocumentAnnotationsAndComments=2,syncLayersVisibility=(sourceLayers,targetLayers)=>{const sourceMapLayers=new Map(sourceLayers.map((layer=>[layer.name,layer.visible])));return targetLayers.forEach((layer=>{layer?.name&&sourceMapLayers.has(layer.name)&&(layer.visible=sourceMapLayers.get(layer.name))})),targetLayers},extractXFDF=async(annotationManager,pagesToPrint,includeAnnotations)=>{if(includeAnnotations){const map=annotationManager.getRegisteredAnnotationTypes(),customAnnotationTypes=Object.keys(map).reduce(((acc,key)=>(map[key].forEach((customType=>{Object.getPrototypeOf(customType.prototype)===window.Core.Annotations.CustomAnnotation.prototype&&(acc.push({originalSerializationMode:customType.SerializationType,customType}),customType.SerializationType=window.Core.Annotations.CustomAnnotation.SerializationTypes.STAMP)})),acc)),[]),annotationList=annotationManager.getAnnotationsList().filter((annotation=>pagesToPrint.indexOf(annotation.PageNumber)>-1)),xfdfString=await annotationManager.exportAnnotations({annotationList,widgets:!0,links:!0,fields:!0,generateInlineAppearances:!0});return customAnnotationTypes.forEach((type=>{type.customType.SerializationType=type.originalSerializationMode})),xfdfString}return'<?xml version="1.0" encoding="UTF-8" ?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve"></xfdf>'},extractPages=async(document,pagesToPrint,xfdfString)=>{const data=await document.extractPages(pagesToPrint,xfdfString);return window.Core.createDocument(data,{extension:"pdf"})},useWebViewerServerDocument=document=>{const extension=document.getType(),bbURLPromise=document.getPrintablePDF();return"pdf"===extension&&bbURLPromise},getPageArray=pageCount=>Array.from({length:pageCount},((_,i)=>i+1)),createDocumentForPrint=async(document,fileDataOptions)=>{const fileData=await document.getFileData(fileDataOptions),blob=new Blob([fileData],{type:"application/pdf"});return await window.Core.createDocument(blob,{extension:"pdf"})},cropDocumentToCurrentView=async document=>{const currentPageNumber=core.A.getDocumentViewer().getCurrentPage(),numPages=document.getPageCount(),cropRect=((renderRect,pageDimensions)=>{let x1=0,x2=0,y1=0,y2=0,x2Diff=0,y2Diff=0;return x1=renderRect.y1<0?0:renderRect.x1,x2Diff=pageDimensions.width-renderRect.x2<0?0:pageDimensions.width-renderRect.x2,x2=x2Diff>pageDimensions.width?0:x2Diff,y1=renderRect.y1<0?0:renderRect.y1,y2Diff=pageDimensions.height-renderRect.y2<0?0:pageDimensions.height-renderRect.y2,y2=y2Diff>pageDimensions.height?0:y2Diff,{x1,x2,y1,y2}})((0,printCurrentViewHelper.d)(currentPageNumber),core.A.getDocument().getPageInfo(currentPageNumber));await document.cropPages([currentPageNumber],cropRect.y1,cropRect.y2,cropRect.x1,cropRect.x2);const pagesToRemove=((currentPageNumber,numPages)=>Array.from({length:numPages},((_,i)=>i+1)).filter((page=>page!==currentPageNumber)))(currentPageNumber,numPages);return await document.removePages(pagesToRemove),document},applyPrintOptions=async(document,modifiedDoc,xfdfString,printingOptions,pagesToPrint)=>{let processedDoc=await(async(document,processedDoc,pagesToPrint,xfdfString)=>useWebViewerServerDocument(document)?extractPages(document,pagesToPrint,xfdfString):extractPages(processedDoc,pagesToPrint,xfdfString))(document,modifiedDoc,pagesToPrint,xfdfString);return printingOptions.isCurrentView&&(processedDoc=await(async document=>{const croppedDoc=await cropDocumentToCurrentView(document),buf=await croppedDoc.getFileData();return window.Core.createDocument(buf,{extension:"pdf"})})(processedDoc)),(async(document,printingOptions)=>{const{includeComments,includeAnnotations}=printingOptions,pagesArray=getPageArray(document.getPageCount());if(!includeComments&&includeAnnotations&&core.A.isFullPDFEnabled())return await document.formatDocumentForPrint(pagesArray,FORMAT_DOCUMENT_FOR_PRINT_OPTION_DocumentAndAnnotations);if(!includeComments)return document;const formattedDoc=await document.formatDocumentForPrint(pagesArray,FORMAT_DOCUMENT_FOR_PRINT_OPTION_DocumentAnnotationsAndComments);if(includeAnnotations)return formattedDoc;const commentPagesArray=getPageArray(formattedDoc.getPageCount()),data=await formattedDoc.extractPages(commentPagesArray);return await window.Core.createDocument(data,{extension:"pdf"})})(processedDoc,printingOptions)},canEmbedPrint=isEmbedPrintSupported=>{const embeddedFileTypeSupport=[types._.PDF].includes(core.A.getDocument().getType());return isEmbedPrintSupported&&embeddedFileTypeSupport},embeddedPrintNoneSupportedOptions=options=>{Object.entries({maintainPageOrientation:"Embedded Printing does not support maintaining page orientation.",onProgress:"Embedded Printing does not support a callback function for printing"}).forEach((([key,message])=>{options[key]&&console.warn(message)}))},processEmbeddedPrintOptions=async(options,document,annotationManager)=>{const{includeAnnotations,includeComments,isCurrentView,isGrayscale=!1,watermarkModalOptions,pagesToPrint,isAlwaysPrintAnnotationsInColorEnabled}=options,pagesToPrintArray=pagesToPrint??getPageArray(document.getPageCount()),printingOptions={includeAnnotations,includeComments,isCurrentView,isGrayscale,isAlwaysPrintAnnotationsInColorEnabled};try{return await createEmbeddedPrintPages(document,annotationManager,pagesToPrintArray,printingOptions,watermarkModalOptions)}catch(error){throw console.error("Error processing embedded print options:",error),error}},createEmbeddedPrintPages=async(document,annotationManager,pagesToPrint,printingOptions,watermarkModalOptions)=>{try{const{isAlwaysPrintAnnotationsInColorEnabled}=printingOptions,processedBaseDoc=await(async document=>{const copyDocument=await document.getFileData({includeAnnotations:!1});return window.Core.createDocument(copyDocument,{extension:"pdf"})})(document),layerDocument=await(async(baseDocument,document)=>{const pageArray=getPageArray(document.getPageCount()),[baseDocumentLayers,documentLayers]=await Promise.all([baseDocument.getLayersArray(),document.getLayersArray()]),layer=syncLayersVisibility(baseDocumentLayers,documentLayers);return document.formatDocumentForPrint(pageArray,FORMAT_DOCUMENT_FOR_PRINT_OPTION_DocumentAnnotationsAndComments,layer)})(document,processedBaseDoc),xfdfString=await((annotationManager,pagesToPrint,printingOptions)=>{const includeComments=printingOptions?.includeComments;return extractXFDF(annotationManager,pagesToPrint,!!includeComments||printingOptions?.includeAnnotations)})(annotationManager,pagesToPrint,printingOptions),watermarkedDoc=await(async(document,watermarkModalOptions)=>watermarkModalOptions?(document.setWatermark(watermarkModalOptions),await createDocumentForPrint(document)):document)(layerDocument,watermarkModalOptions);return isAlwaysPrintAnnotationsInColorEnabled?await(async(document,modifiedDoc,xfdfString,printingOptions,pagesToPrint)=>{const grayscaleDoc=printingOptions.isGrayscale?await(0,grayScaleHelper.fB)(modifiedDoc):modifiedDoc;return applyPrintOptions(document,grayscaleDoc,xfdfString,printingOptions,pagesToPrint)})(document,watermarkedDoc,xfdfString,printingOptions,pagesToPrint):await(async(document,modifiedDoc,xfdfString,printingOptions,pagesToPrint)=>{const documentWithColorAnnotations=await applyPrintOptions(document,modifiedDoc,xfdfString,printingOptions,pagesToPrint);return printingOptions.isGrayscale?(0,grayScaleHelper.fB)(documentWithColorAnnotations):documentWithColorAnnotations})(document,watermarkedDoc,xfdfString,printingOptions,pagesToPrint)}catch(error){throw console.error("Error creating embedded print pages:",error),error}},printEmbeddedPDF=pdfDocument=>{const windowRef=device.un&&device.nr?window.open():null;return pdfDocument.getFileData({printDocument:!0}).then((data=>{const arr=new Uint8Array(data);printDocumentArrayBuffer(arr,windowRef)})).catch((error=>console.error("Print Error status: ",error)))},printDocumentArrayBuffer=(arrayBuffer,windowRef)=>{const blob=new Blob([arrayBuffer],{type:"application/pdf"}),printHandler=(0,getRootNode.Ay)().getElementById("print-handler");if(printHandler.src=URL.createObjectURL(blob),!windowRef)return new Promise((resolve=>{const loadListener=function(){printHandler.contentWindow.print(),printHandler.removeEventListener("load",loadListener),resolve()};printHandler.addEventListener("load",loadListener)}));windowRef.location.href=printHandler.src,setTimeout((()=>{windowRef.print()}),100)}},"./src/helpers/focusStackManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(()=>{let stack=[];return{push:element=>{stack.push(element)},pop:()=>stack.length>0?stack.pop():null,clear:()=>{stack=[]},getStack:()=>stack}})()},"./src/helpers/getAnnotationClass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>getAnnotationClass});const getAnnotationClass=annotation=>annotation instanceof window.Core.Annotations.CaretAnnotation?"caret":annotation instanceof window.Core.Annotations.CustomAnnotation?"custom":annotation instanceof window.Core.Annotations.EllipseAnnotation?"ellipse":annotation instanceof window.Core.Annotations.FileAttachmentAnnotation?"fileattachment":annotation instanceof window.Core.Annotations.FreeHandAnnotation?"freehand":annotation instanceof window.Core.Annotations.FreeTextAnnotation&&annotation.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout?"callout":annotation instanceof window.Core.Annotations.FreeTextAnnotation?"freetext":annotation instanceof window.Core.Annotations.LineAnnotation?"line":annotation instanceof window.Core.Annotations.Link?"other":annotation instanceof window.Core.Annotations.PolygonAnnotation?"polygon":annotation instanceof window.Core.Annotations.PolylineAnnotation?"polyline":annotation instanceof window.Core.Annotations.RectangleAnnotation?"rectangle":annotation instanceof window.Core.Annotations.RedactionAnnotation?"redact":annotation instanceof window.Core.Annotations.StampAnnotation?"stamp":annotation instanceof window.Core.Annotations.StickyAnnotation?"stickyNote":annotation instanceof window.Core.Annotations.TextHighlightAnnotation?"highlight":annotation instanceof window.Core.Annotations.TextStrikeoutAnnotation?"strikeout":annotation instanceof window.Core.Annotations.TextUnderlineAnnotation?"underline":annotation instanceof window.Core.Annotations.TextSquigglyAnnotation?"squiggly":annotation instanceof window.Core.Annotations.Model3DAnnotation?"3D":annotation instanceof window.Core.Annotations.TextWidgetAnnotation?"textField":annotation instanceof window.Core.Annotations.SignatureWidgetAnnotation?"signatureFormField":annotation instanceof window.Core.Annotations.CheckButtonWidgetAnnotation?"checkBoxFormField":annotation instanceof window.Core.Annotations.RadioButtonWidgetAnnotation?"radioButtonFormField":annotation instanceof window.Core.Annotations.ListWidgetAnnotation?"listBoxFormField":annotation instanceof window.Core.Annotations.ChoiceWidgetAnnotation?"comboBoxFormField":annotation instanceof window.Core.Annotations.PushButtonWidgetAnnotation?"pushButtonFormField":"other"},"./src/helpers/getLatestActivityDate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=annotation=>{const latestReplyActivityDate=annotation.getReplies().reduce(((acc,reply)=>{const replyDate=reply.DateModified||reply.DateCreated;return replyDate&&new Date(replyDate)>new Date(acc)?replyDate:acc}),0);return latestReplyActivityDate||(annotation.DateModified?annotation.DateModified:annotation.DateCreated?annotation.DateCreated:void 0)}},"./src/helpers/getNumberOfPagesToNavigate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=(documentViewerKey=1)=>({Single:1,Continuous:1,Facing:2,FacingContinuous:2,CoverFacing:2,Cover:2}[core__WEBPACK_IMPORTED_MODULE_0__.A.getDisplayMode(documentViewerKey)]||1)},"./src/helpers/getToolStyles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=toolName=>{const tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getTool(toolName),ToolNames=window.Core.Tools.ToolNames;return(tool?.name===ToolNames.HIGHLIGHT||tool?.name===ToolNames.HIGHLIGHT2||tool?.name===ToolNames.HIGHLIGHT3||tool?.name===ToolNames.HIGHLIGHT4)&&!core__WEBPACK_IMPORTED_MODULE_0__.A.isBlendModeSupported("multiply")&&(tool.defaults.Opacity=null),tool?.name.includes(ToolNames.TEXT_FORM_FIELD)&&(tool.defaults.Opacity=null),tool?.defaults}},"./src/helpers/getWebComponentScale.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>getWebComponentScale});var _getRootNode__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/getRootNode.js");const getWebComponentScale=()=>{if(window.isApryseWebViewerWebComponent){const hostContainer=(0,_getRootNode__WEBPACK_IMPORTED_MODULE_0__.Ay)().host,containerBox=hostContainer.getBoundingClientRect();return{scaleX:containerBox.width/hostContainer.offsetWidth,scaleY:containerBox.height/hostContainer.offsetHeight}}return{scaleX:1,scaleY:1}}},"./src/helpers/grayScaleHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e7:()=>getGrayscaleDarknessFactor,fB:()=>convertToGrayscaleDocument,oA:()=>setGrayscaleDarknessFactor});let grayscaleDarknessFactor=1;const setGrayscaleDarknessFactor=factor=>{grayscaleDarknessFactor=factor},getGrayscaleDarknessFactor=()=>grayscaleDarknessFactor,convertToGrayscaleDocument=async pdfDocument=>{const{PDFNet}=window.Core,{PDFDoc,ElementBuilder,ElementWriter,ColorSpace,ColorPt,Matrix2D,GState}=PDFNet,pdfDoc=await pdfDocument.getPDFDoc();pdfDoc.initSecurityHandler();const newDoc=await PDFDoc.create(),itr=await pdfDoc.getPageIterator(1);for(;await itr.hasNext();await itr.next()){const page=await itr.current(),cropBox=await page.getCropBox(),mediaBox=await page.getMediaBox(),newPage=await newDoc.pageCreate(mediaBox);await newPage.setRotation(await page.getRotation());const elementBuilder=await ElementBuilder.create(),elementWriter=await ElementWriter.create();await elementWriter.beginOnPage(newPage,ElementWriter.WriteMode.e_overlay,!1);const formElement=await elementBuilder.createFormFromDoc(page,newDoc),xObj=await formElement.getXObject();await xObj.putRect("BBox",mediaBox.x1,mediaBox.y1,mediaBox.x2,mediaBox.y2),await xObj.putMatrix("Matrix",await Matrix2D.createIdentityMatrix()),await elementWriter.writeElement(formElement);let element=await elementBuilder.createRect(mediaBox.x1,mediaBox.y1,await mediaBox.width(),await mediaBox.height());await element.setPathFill(!0);let gState=await element.getGState();await gState.setFillColorSpace(await ColorSpace.createDeviceRGB()),await gState.setFillColorWithColorPt(await ColorPt.init(1,1,1)),await elementWriter.writeElement(element),await elementBuilder.reset(),element=await elementBuilder.createRect(mediaBox.x1,mediaBox.y1,await mediaBox.width(),await mediaBox.height()),await element.setPathFill(!0),await element.setPathStroke(!1),gState=await element.getGState(),await gState.setBlendMode(GState.BlendMode.e_bl_darken),await gState.setFillColorSpace(await ColorSpace.createDeviceGray()),await gState.setFillColorWithColorPt(await ColorPt.init(0));const softMask=await createLuminositySoftMask(newDoc,mediaBox,await Matrix2D.createIdentityMatrix(),xObj);await gState.setSoftMask(softMask),await elementWriter.writeElement(element),await elementWriter.end(),await newPage.setCropBox(cropBox),await newDoc.pagePushBack(newPage)}return window.Core.createDocument(newDoc)},createLuminositySoftMask=async(doc,boundingBox,matrix,xObj)=>{await xObj.putRect("BBox",boundingBox.x1,boundingBox.y1,boundingBox.x2,boundingBox.y2);const group=await xObj.putDict("Group");await xObj.putMatrix("Matrix",matrix),await group.putName("S","Transparency"),await group.putName("CS","DeviceGray"),await group.putBool("I",!0);const mask=await doc.createIndirectDict();await mask.putName("S","Luminosity"),await mask.put("G",xObj);const bcArray=await mask.putArray("BC");await bcArray.pushBackNumber(1);const tr=await doc.createIndirectDict();await tr.putNumber("FunctionType",2);const array1=await tr.putArray("Domain");await array1.pushBackNumber(0),await array1.pushBackNumber(1);const array2=await tr.putArray("Range");await array2.pushBackNumber(0),await array2.pushBackNumber(1);const grayscaleDarknessFactor=getGrayscaleDarknessFactor();await tr.putNumber("N",grayscaleDarknessFactor);const array3=await tr.putArray("C0");await array3.pushBackNumber(1);const array4=await tr.putArray("C1");return await array4.pushBackNumber(0),await mask.put("TR",tr),mask}},"./src/helpers/hotkeysManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D$:()=>Keys,fI:()=>ShortcutKeys,Om:()=>Shortcuts,Ay:()=>hotkeysManager,TS:()=>defaultHotkeysScope,Q4:()=>getCloseToolTipFunc,cU:()=>setCloseToolTipFunc,K3:()=>shortcutAria});var hotkeys_esm=__webpack_require__("./node_modules/hotkeys-js/dist/hotkeys.esm.js"),core=__webpack_require__("./src/core/index.js"),i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),device=__webpack_require__("./src/helpers/device.js"),openFilePicker=__webpack_require__("./src/helpers/openFilePicker.js"),copyText=__webpack_require__("./src/helpers/copyText.js"),setToolModeAndGroup=__webpack_require__("./src/helpers/setToolModeAndGroup.js"),zoom=__webpack_require__("./src/helpers/zoom.js"),print=__webpack_require__("./src/helpers/print.js"),createTextAnnotationAndSelect=__webpack_require__("./src/helpers/createTextAnnotationAndSelect.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js");const isFocusingElement=()=>{const isEditingFreetext=core.A.getAnnotationsList().filter((annot=>annot instanceof window.Core.Annotations.FreeTextAnnotation)).some((annot=>annot.getEditor()?.hasFocus())),{activeElement}=(0,getRootNode.Ay)();return activeElement&&(activeElement instanceof window.HTMLInputElement||activeElement instanceof window.HTMLTextAreaElement||activeElement.className.includes("ql-editor")||isEditingFreetext||"input"===activeElement?.tagName?.toLowerCase()&&"text"===activeElement?.getAttribute("type")||"textarea"===activeElement?.tagName?.toLowerCase())};var getNumberOfPagesToNavigate=__webpack_require__("./src/helpers/getNumberOfPagesToNavigate.js"),setCurrentPage=__webpack_require__("./src/helpers/setCurrentPage.js"),actions=__webpack_require__("./src/redux/actions/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),focusStackManager=__webpack_require__("./src/helpers/focusStackManager.js");const Shortcuts={ROTATE_CLOCKWISE:"rotateClockwise",ROTATE_COUNTER_CLOCKWISE:"rotateCounterClockwise",NUMPAD_ROTATE_CLOCKWISE:"numpadRotateClockwise",NUMPAD_ROTATE_COUNTER_CLOCKWISE:"numpadRotateCounterClockwise",COPY:"copy",PASTE:"paste",UNDO:"undo",REDO:"redo",OPEN_FILE:"openFile",SEARCH:"search",ZOOM_IN:"zoomIn",ZOOM_OUT:"zoomOut",NUMPAD_ZOOM_IN:"numpadZoomIn",NUMPAD_ZOOM_OUT:"numpadZoomOut",SET_HEADER_FOCUS:"setHeaderFocus",FIT_SCREEN_WIDTH:"fitScreenWidth",PRINT:"print",BOOKMARK:"bookmark",PREVIOUS_PAGE:"previousPage",NEXT_PAGE:"nextPage",UP:"up",DOWN:"down",SWITCH_PAN:"switchPan",SELECT:"select",PAN:"pan",ARROW:"arrow",CALLOUT:"callout",ERASER:"eraser",FREEHAND:"freehand",IMAGE:"image",LINE:"line",STICKY_NOTE:"stickyNote",ELLIPSE:"ellipse",RECTANGLE:"rectangle",RUBBER_STAMP:"rubberStamp",FREETEXT:"freetext",SIGNATURE:"signature",SQUIGGLY:"squiggly",HIGHLIGHT:"highlight",STRIKEOUT:"strikeout",UNDERLINE:"underline",HOME:"home",END:"end",CLOSE:"close"},keyMap={[Shortcuts.ROTATE_CLOCKWISE]:"Control+Shift+=",[Shortcuts.ROTATE_COUNTER_CLOCKWISE]:"Control+Shift+-",[Shortcuts.NUMPAD_ROTATE_CLOCKWISE]:"Control+Shift+Num_Add",[Shortcuts.NUMPAD_ROTATE_COUNTER_CLOCKWISE]:"Control+Shift+Num_Subract",[Shortcuts.COPY]:"Control+C",[Shortcuts.UNDO]:"Control+Z",[Shortcuts.REDO]:"Control+Shift+Z",[Shortcuts.ZOOM_IN]:"Control+=",[Shortcuts.ZOOM_OUT]:"Control+-",[Shortcuts.NUMPAD_ZOOM_IN]:"Control+Num_Add",[Shortcuts.NUMPAD_ZOOM_OUT]:"Control+Num_Subract",[Shortcuts.SET_HEADER_FOCUS]:"Control+Alt+Shift+M",[Shortcuts.SELECT]:"Escape",[Shortcuts.PAN]:"P",[Shortcuts.ARROW]:"A",[Shortcuts.CALLOUT]:"C",[Shortcuts.ERASER]:"E",[Shortcuts.FREEHAND]:"F",[Shortcuts.IMAGE]:"I",[Shortcuts.LINE]:"L",[Shortcuts.STICKY_NOTE]:"N",[Shortcuts.ELLIPSE]:"O",[Shortcuts.RECTANGLE]:"R",[Shortcuts.FREETEXT]:"T",[Shortcuts.SIGNATURE]:"S",[Shortcuts.SQUIGGLY]:"G",[Shortcuts.HIGHLIGHT]:"H",[Shortcuts.STRIKEOUT]:"K",[Shortcuts.UNDERLINE]:"U",delete:"Delete","richText.bold":"Control+B","richText.italic":"Control+I","richText.underline":"Control+U","richText.strikeout":"Control+K",[Shortcuts.HOME]:"Home",[Shortcuts.END]:"End",[Shortcuts.CLOSE]:"X"};function shortcutAria(shortcut){let aria=keyMap[shortcut];if(aria)return device.cX&&(aria=aria.replace("Control","Meta")),aria}const NOOP=()=>{},Keys={CTRL_SHIFT_EQUAL:"ctrl+shift+=",COMMAND_SHIFT_EQUAL:"command+shift+=",CTRL_SHIFT_MINUS:"ctrl+shift+-",COMMAND_SHIFT_MINUS:"command+shift+-",CTRL_SHIFT_NUM_ADD:"ctrl+shift+num_add",COMMAND_SHIFT_NUM_ADD:"command+shift+num_add",CTRL_SHIFT_NUM_SUBTRACT:"ctrl+shift+num_subtract",COMMAND_SHIFT_NUM_SUBTRACT:"command+shift+num_subtract",CTRL_ALT_SHIFT_M:"ctrl+alt+shift+m",COMMAND_ALT_SHIFT_M:"command+alt+shift+m",CTRL_C:"ctrl+c",COMMAND_C:"command+c",CTRL_V:"ctrl+v",COMMAND_V:"command+v",CTRL_Z:"ctrl+z",COMMAND_Z:"command+z",CTRL_Y:"ctrl+y",COMMAND_SHIFT_Z:"command+shift+z",CTRL_O:"ctrl+o",COMMAND_O:"command+o",CTRL_F:"ctrl+f",COMMAND_F:"command+f",CTRL_EQUAL:"ctrl+=",COMMAND_EQUAL:"command+=",CTRL_MINUS:"ctrl+-",COMMAND_MINUS:"command+-",CTRL_NUM_ADD:"ctrl+num_add",COMMAND_NUM_ADD:"command+num_add",CTRL_NUM_SUBTRACT:"ctrl+num_subtract",COMMAND_NUM_SUBTRACT:"command+num_subtract",CTRL_0:"ctrl+0",COMMAND_0:"command+0",CTRL_P:"ctrl+p",COMMAND_P:"command+p",CTRL_B:"ctrl+b",COMMAND_B:"command+b",ENTER:"enter",PAGE_UP:"pageup",PAGE_DOWN:"pagedown",UP:"up",DOWN:"down",SPACE:"space",ESCAPE:"escape",HOME:"home",END:"end",P:"p",A:"a",C:"c",E:"e",F:"f",I:"i",L:"l",N:"n",O:"o",R:"r",Q:"q",T:"t",S:"s",G:"g",H:"h",K:"k",U:"u",X:"x"};function concatKeys(...keys){return keys.join(", ")}function splitKey(key){return key.split(", ")}const ShortcutKeys={[Shortcuts.ROTATE_CLOCKWISE]:concatKeys(Keys.CTRL_SHIFT_EQUAL,Keys.COMMAND_SHIFT_EQUAL),[Shortcuts.ROTATE_COUNTER_CLOCKWISE]:concatKeys(Keys.CTRL_SHIFT_MINUS,Keys.COMMAND_SHIFT_MINUS),[Shortcuts.NUMPAD_ROTATE_CLOCKWISE]:concatKeys(Keys.CTRL_SHIFT_NUM_ADD,Keys.COMMAND_SHIFT_NUM_ADD),[Shortcuts.NUMPAD_ROTATE_COUNTER_CLOCKWISE]:concatKeys(Keys.CTRL_SHIFT_NUM_SUBTRACT,Keys.COMMAND_SHIFT_NUM_SUBTRACT),[Shortcuts.COPY]:concatKeys(Keys.CTRL_C,Keys.COMMAND_C),[Shortcuts.PASTE]:concatKeys(Keys.CTRL_V,Keys.COMMAND_V),[Shortcuts.UNDO]:concatKeys(Keys.CTRL_Z,Keys.COMMAND_Z),[Shortcuts.REDO]:concatKeys(Keys.CTRL_Y,Keys.COMMAND_SHIFT_Z),[Shortcuts.OPEN_FILE]:concatKeys(Keys.CTRL_O,Keys.COMMAND_O),[Shortcuts.SEARCH]:concatKeys(Keys.CTRL_F,Keys.COMMAND_F),[Shortcuts.ZOOM_IN]:concatKeys(Keys.CTRL_EQUAL,Keys.COMMAND_EQUAL),[Shortcuts.ZOOM_OUT]:concatKeys(Keys.CTRL_MINUS,Keys.COMMAND_MINUS),[Shortcuts.NUMPAD_ZOOM_IN]:concatKeys(Keys.CTRL_NUM_ADD,Keys.COMMAND_NUM_ADD),[Shortcuts.NUMPAD_ZOOM_OUT]:concatKeys(Keys.CTRL_NUM_SUBTRACT,Keys.COMMAND_NUM_SUBTRACT),[Shortcuts.SET_HEADER_FOCUS]:concatKeys(Keys.CTRL_ALT_SHIFT_M,Keys.COMMAND_ALT_SHIFT_M),[Shortcuts.FIT_SCREEN_WIDTH]:concatKeys(Keys.CTRL_0,Keys.COMMAND_0),[Shortcuts.PRINT]:concatKeys(Keys.CTRL_P,Keys.COMMAND_P),[Shortcuts.BOOKMARK]:concatKeys(Keys.CTRL_B,Keys.COMMAND_B),[Shortcuts.PREVIOUS_PAGE]:Keys.PAGE_UP,[Shortcuts.NEXT_PAGE]:Keys.PAGE_DOWN,[Shortcuts.UP]:Keys.UP,[Shortcuts.DOWN]:Keys.DOWN,[Shortcuts.SWITCH_PAN]:Keys.SPACE,[Shortcuts.SELECT]:Keys.ESCAPE,[Shortcuts.PAN]:Keys.P,[Shortcuts.ARROW]:Keys.A,[Shortcuts.CALLOUT]:Keys.C,[Shortcuts.ERASER]:Keys.E,[Shortcuts.FREEHAND]:Keys.F,[Shortcuts.IMAGE]:Keys.I,[Shortcuts.LINE]:Keys.L,[Shortcuts.STICKY_NOTE]:Keys.N,[Shortcuts.ELLIPSE]:Keys.O,[Shortcuts.RECTANGLE]:Keys.R,[Shortcuts.RUBBER_STAMP]:Keys.Q,[Shortcuts.FREETEXT]:Keys.T,[Shortcuts.SIGNATURE]:Keys.S,[Shortcuts.SQUIGGLY]:Keys.G,[Shortcuts.HIGHLIGHT]:Keys.H,[Shortcuts.STRIKEOUT]:Keys.K,[Shortcuts.UNDERLINE]:Keys.U,[Shortcuts.HOME]:Keys.HOME,[Shortcuts.END]:Keys.END,[Shortcuts.CLOSE]:Keys.X},ToolNameHotkeyMap={AnnotationEdit:Keys.ESCAPE,Pan:Keys.P,AnnotationCreateArrow:Keys.A,AnnotationCreateCallout:Keys.C,AnnotationEraserTool:Keys.E,AnnotationCreateFreeHand:Keys.F,AnnotationCreateStamp:Keys.I,AnnotationCreateLine:Keys.L,AnnotationCreateSticky:Keys.N,AnnotationCreateEllipse:Keys.O,AnnotationCreateRectangle:Keys.R,AnnotationCreateFreeText:Keys.T,AnnotationCreateSignature:Keys.S,AnnotationCreateTextSquiggly:Keys.G,AnnotationCreateTextHighlight:Keys.H,AnnotationCreateTextStrikeout:Keys.K,AnnotationCreateTextUnderline:Keys.U,AnnotationCreateRubberStamp:Keys.Q},unbindedHotkeysMap={};let previousUnbindedHotkeysMap={};const defaultHotkeysScope="viewer",HotkeysManager={initialize(store){hotkeys_esm.A.filter=()=>!0,this.store=store,this.keyHandlerMap=this.createKeyHandlerMap(),this.previousKeyHandlerMap=this.keyHandlerMap,this.prevToolName=null;const shortcutKeyMap=this.getShortcutKeyMap();Object.keys(shortcutKeyMap).forEach((shortcut=>{this.on(shortcutKeyMap[shortcut],this.keyHandlerMap[ShortcutKeys[shortcut]])})),this.didInitializeAllKeys=!0,hotkeys_esm.A.setScope(defaultHotkeysScope),this.formBuilderDisabledKeys={}},on(key,handler){!!core.A.getToolModeMap()[key]&&(key=ToolNameHotkeyMap[key]),key&&"string"==typeof key&&(key=key.toLocaleLowerCase());const getDefaultKeyHandler=key=>{let defaultKeyHandler;const isComposedShortcut=key?.includes("+");if(isComposedShortcut){const correspondShortcut=Object.keys(this.keyHandlerMap).find((shortcut=>shortcut?.includes(key)));correspondShortcut&&(defaultKeyHandler=this.keyHandlerMap[correspondShortcut])}else defaultKeyHandler=this.keyHandlerMap[key];return defaultKeyHandler};function enableHotkey(_key,_handler){const{keyup=NOOP,keydown=_handler}=_handler;(0,hotkeys_esm.A)(_key,{keyup:!0,scope:defaultHotkeysScope},(e=>{const isEscape="Escape"===e.key||e.key===ShortcutKeys[Shortcuts.CLOSE],shadowRoot=e.currentTarget.activeElement?.shadowRoot;(shadowRoot===(0,getRootNode.Ay)()||!window.isApryseWebViewerWebComponent||isEscape)&&("keyup"===e.type&&keyup(e),"keydown"===e.type&&keydown(e))}))}if(handler||(handler=getDefaultKeyHandler(key)),key&&handler||this.didInitializeAllKeys||(this.keyHandlerMap=this.createKeyHandlerMap(),this.prevToolName=null,Object.keys(this.keyHandlerMap).forEach((_key=>{unbindedHotkeysMap[_key]||enableHotkey(_key,this.keyHandlerMap[_key])})),this.didInitializeAllKeys=!0),key)unbindedHotkeysMap[key.toLocaleLowerCase()]=!0;else for(const property in Keys)unbindedHotkeysMap[Keys[property]]=!0;key&&handler&&enableHotkey(key,handler)},off(key,handler){previousUnbindedHotkeysMap={...unbindedHotkeysMap};if(!!!core.A.getToolModeMap()[key]||(key=ToolNameHotkeyMap[key])){if(key)unbindedHotkeysMap[key.toLocaleLowerCase()]=!1;else{for(const property in Keys)unbindedHotkeysMap[Keys[property]]=!1;this.didInitializeAllKeys=!1}hotkeys_esm.A.unbind(key,handler)}},isActive(shortcut){const key=keyMap[shortcut];if(key){let hotkeyName;return hotkeyName=device.cX?key.replace("Control","command").toLocaleLowerCase():key.replace("Control","ctrl").toLocaleLowerCase(),unbindedHotkeysMap[hotkeyName]}return!0},createKeyHandlerMap(){const store=this.store,{dispatch,getState}=store,{ToolNames}=window.Core.Tools;return{[ShortcutKeys[Shortcuts.ROTATE_CLOCKWISE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),core.A.rotateClockwise(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.ROTATE_COUNTER_CLOCKWISE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),core.A.rotateCounterClockwise(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.NUMPAD_ROTATE_CLOCKWISE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),core.A.rotateClockwise(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.NUMPAD_ROTATE_COUNTER_CLOCKWISE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),core.A.rotateCounterClockwise(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.COPY]]:()=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());core.A.getSelectedText(activeDocumentViewerKey)?((0,copyText.A)(activeDocumentViewerKey),dispatch(actions.A.closeElement("textPopup"))):core.A.getSelectedAnnotations(activeDocumentViewerKey).length&&core.A.updateCopiedAnnotations(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.PASTE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());isFocusingElement()||(e.preventDefault(),core.A.pasteCopiedAnnotations(activeDocumentViewerKey))},[ShortcutKeys[Shortcuts.UNDO]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());isFocusingElement()||(e.preventDefault(),core.A.undo(activeDocumentViewerKey))},[ShortcutKeys[Shortcuts.REDO]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());isFocusingElement()||(e.preventDefault(),core.A.redo(activeDocumentViewerKey))},[ShortcutKeys[Shortcuts.OPEN_FILE]]:e=>{e.preventDefault(),(0,openFilePicker.A)()},[ShortcutKeys[Shortcuts.SEARCH]]:e=>{e.preventDefault();selectors.A.isElementOpen(getState(),"notesPanel")&&dispatch(actions.A.closeElement("notesPanel"));selectors.A.isElementOpen(getState(),"redactionPanel")&&dispatch(actions.A.closeElement("redactionPanel"));selectors.A.isElementOpen(getState(),"textEditingPanel")&&dispatch(actions.A.closeElement("textEditingPanel"));selectors.A.isElementOpen(getState(),"wv3dPropertiesPanel")&&dispatch(actions.A.closeElement("wv3dPropertiesPanel")),dispatch(actions.A.toggleElement("searchPanel"))},[ShortcutKeys[Shortcuts.ZOOM_IN]]:e=>{e.preventDefault();const state=getState(),activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(state),isMultiViewerMode=selectors.A.isMultiViewerMode(state);(0,zoom.nF)(isMultiViewerMode,activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.ZOOM_OUT]]:e=>{e.preventDefault();const state=getState(),activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(state),isMultiViewerMode=selectors.A.isMultiViewerMode(state);(0,zoom.ke)(isMultiViewerMode,activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.NUMPAD_ZOOM_IN]]:e=>{e.preventDefault();const state=getState(),activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(state),isMultiViewerMode=selectors.A.isMultiViewerMode(state);(0,zoom.nF)(isMultiViewerMode,activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.NUMPAD_ZOOM_OUT]]:e=>{e.preventDefault();const state=getState(),activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(state),isMultiViewerMode=selectors.A.isMultiViewerMode(state);(0,zoom.ke)(isMultiViewerMode,activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.SET_HEADER_FOCUS]]:e=>{e.preventDefault();const state=getState(),isModularUI=selectors.A.getFeatureFlags(state)?.customizableUI,activeHeaders=selectors.A.getActiveHeaders(state),firstHeaderDataElement=isModularUI?activeHeaders[0]?.dataElement:"header",firstHeaderElement=(0,getRootNode.Ay)().querySelector(`[data-element="${firstHeaderDataElement}"]`);firstHeaderElement?.focus()},[ShortcutKeys[Shortcuts.FIT_SCREEN_WIDTH]]:e=>{e.preventDefault();const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());device.Fr?core.A.fitToWidth(activeDocumentViewerKey):core.A.fitToPage(activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.PRINT]]:e=>{e.preventDefault(),(0,print.y)(dispatch,selectors.A.isEmbedPrintSupported(getState()),selectors.A.getSortStrategy(getState()),selectors.A.getColorMap(getState()))},[ShortcutKeys[Shortcuts.BOOKMARK]]:e=>{if(e.preventDefault(),!selectors.A.isElementDisabled(getState(),dataElement.A.BOOKMARK_PANEL)){dispatch(actions.A.openElement(dataElement.A.LEFT_PANEL)),dispatch(actions.A.setActiveLeftPanel(dataElement.A.BOOKMARK_PANEL));const bookmarks=core.A.getUserBookmarks(),currentPageIndex=core.A.getCurrentPage()-1;bookmarks[currentPageIndex]||core.A.addUserBookmark(currentPageIndex,i18next.A.t("message.untitled"))}},[ShortcutKeys[Shortcuts.PREVIOUS_PAGE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),(0,setCurrentPage.A)(core.A.getCurrentPage()-(0,getNumberOfPagesToNavigate.A)(),activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.NEXT_PAGE]]:e=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());e.preventDefault(),(0,setCurrentPage.A)(core.A.getCurrentPage()+(0,getNumberOfPagesToNavigate.A)(),activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.UP]]:()=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());if(isFocusingElement()||core.A.isContinuousDisplayMode(activeDocumentViewerKey))return;const scrollViewElement=core.A.getScrollViewElement(activeDocumentViewerKey),{scrollHeight,clientHeight}=scrollViewElement;if(0===scrollViewElement.scrollTop){const currentPage=core.A.getCurrentPage(activeDocumentViewerKey);(0,setCurrentPage.A)(currentPage-(0,getNumberOfPagesToNavigate.A)(),activeDocumentViewerKey),currentPage>1&&(scrollViewElement.scrollTop=scrollHeight-clientHeight)}},[ShortcutKeys[Shortcuts.DOWN]]:()=>{const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());if(isFocusingElement()||core.A.isContinuousDisplayMode(activeDocumentViewerKey))return;const scrollViewElement=core.A.getScrollViewElement(activeDocumentViewerKey),{scrollTop,clientHeight,scrollHeight}=scrollViewElement;Math.abs(scrollTop+clientHeight-scrollHeight)<=1&&(0,setCurrentPage.A)(core.A.getCurrentPage(activeDocumentViewerKey)+(0,getNumberOfPagesToNavigate.A)())},[ShortcutKeys[Shortcuts.SWITCH_PAN]]:{keyup:this.createToolHotkeyHandler((e=>{e.preventDefault(),(0,setToolModeAndGroup.A)(store,this.prevToolName),this.prevToolName=null})),keydown:this.createToolHotkeyHandler((e=>{e.preventDefault(),"Pan"!==core.A.getToolMode().name&&(this.prevToolName=core.A.getToolMode().name,(0,setToolModeAndGroup.A)(store,"Pan"))}))},[ShortcutKeys[Shortcuts.SELECT]]:e=>{e.preventDefault();focusStackManager.A.getStack().length||((0,setToolModeAndGroup.A)(store,"AnnotationEdit",""),dispatch(actions.A.closeElements([dataElement.A.ANNOTATION_POPUP,dataElement.A.TEXT_POPUP,dataElement.A.CONTEXT_MENU_POPUP,"toolStylePopup",dataElement.A.ANNOTATION_STYLE_POPUP,dataElement.A.SIGNATURE_MODAL,"customStampModal",dataElement.A.PRINT_MODAL,"rubberStampOverlay",dataElement.A.FILTER_MODAL,dataElement.A.SIGNATURE_LIST_PANEL,dataElement.A.RUBBER_STAMP_PANEL])))},[ShortcutKeys[Shortcuts.PAN]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.PAN)})),[ShortcutKeys[Shortcuts.ARROW]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.ARROW)})),[ShortcutKeys[Shortcuts.CALLOUT]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.CALLOUT)})),[ShortcutKeys[Shortcuts.ERASER]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.ERASER)})),[ShortcutKeys[Shortcuts.FREEHAND]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.FREEHAND)})),[ShortcutKeys[Shortcuts.IMAGE]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.STAMP)})),[ShortcutKeys[Shortcuts.LINE]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.LINE)})),[ShortcutKeys[Shortcuts.STICKY_NOTE]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.STICKY)})),[ShortcutKeys[Shortcuts.ELLIPSE]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.ELLIPSE)})),[ShortcutKeys[Shortcuts.RECTANGLE]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.RECTANGLE)})),[ShortcutKeys[Shortcuts.RUBBER_STAMP]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.RUBBER_STAMP)})),[ShortcutKeys[Shortcuts.FREETEXT]]:this.createToolHotkeyHandler((()=>{(0,setToolModeAndGroup.A)(store,ToolNames.FREETEXT)})),[ShortcutKeys[Shortcuts.SIGNATURE]]:this.createToolHotkeyHandler((()=>{if(getState().featureFlags.customizableUI)return void(0,setToolModeAndGroup.A)(store,ToolNames.SIGNATURE);dispatch(actions.A.setToolbarGroup("toolbarGroup-FillAndSign",!1));const sigToolButton=(0,getRootNode.Ay)().querySelector('[data-element="signatureToolGroupButton"] .Button');sigToolButton?.click();const sigModalButton=(0,getRootNode.Ay)().querySelector(".signature-row-content");sigModalButton?.click()})),[ShortcutKeys[Shortcuts.SQUIGGLY]]:this.createToolHotkeyHandler((()=>{core.A.getSelectedText()?(0,createTextAnnotationAndSelect.A)(dispatch,window.Core.Annotations.TextSquigglyAnnotation):(0,setToolModeAndGroup.A)(store,"AnnotationCreateTextSquiggly")})),[ShortcutKeys[Shortcuts.HIGHLIGHT]]:this.createToolHotkeyHandler((()=>{core.A.getSelectedText()?(0,createTextAnnotationAndSelect.A)(dispatch,window.Core.Annotations.TextHighlightAnnotation):(0,setToolModeAndGroup.A)(store,"AnnotationCreateTextHighlight")})),[ShortcutKeys[Shortcuts.STRIKEOUT]]:this.createToolHotkeyHandler((()=>{core.A.getSelectedText()?(0,createTextAnnotationAndSelect.A)(dispatch,window.Core.Annotations.TextStrikeoutAnnotation):(0,setToolModeAndGroup.A)(store,"AnnotationCreateTextStrikeout")})),[ShortcutKeys[Shortcuts.UNDERLINE]]:this.createToolHotkeyHandler((()=>{core.A.getSelectedText()?(0,createTextAnnotationAndSelect.A)(dispatch,window.Core.Annotations.TextUnderlineAnnotation):(0,setToolModeAndGroup.A)(store,"AnnotationCreateTextUnderline")})),[ShortcutKeys[Shortcuts.HOME]]:()=>{if(isFocusingElement()||core.A.isContinuousDisplayMode(activeDocumentViewerKey))return;const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState());(0,setCurrentPage.A)(1,activeDocumentViewerKey)},[ShortcutKeys[Shortcuts.END]]:this.createToolHotkeyHandler((()=>{if(isFocusingElement()||core.A.isContinuousDisplayMode(activeDocumentViewerKey))return;const activeDocumentViewerKey=selectors.A.getActiveDocumentViewerKey(getState()),pageCount=selectors.A.getTotalPages(getState());(0,setCurrentPage.A)(pageCount,activeDocumentViewerKey)})),[ShortcutKeys[Shortcuts.CLOSE]]:()=>{closeToolTipFunc&&(closeToolTipFunc(),closeToolTipFunc=null)}}},createToolHotkeyHandler(handler){const{getState}=this.store;return(...args)=>{const openElements=selectors.A.getOpenElements(getState()),isSignatureModalOpen=core.A.getToolMode().name===window.Core.Tools.ToolNames.SIGNATURE&&openElements.signatureModal;isFocusingElement()||isSignatureModalOpen||handler(...args)}},getShortcutKeyMap(){const{getState}=this.store;return selectors.A.getShortcutKeyMap(getState())},setShortcutKey(shortcut,key){const{dispatch}=this.store,shortcutKeyMap={...this.getShortcutKeyMap()};this.off(shortcutKeyMap[shortcut]),core.A.getAnnotationManager().isReadOnlyModeEnabled()||this.on(key,this.keyHandlerMap[ShortcutKeys[shortcut]]),shortcutKeyMap[shortcut]=key,dispatch(actions.A.setShortcutKeyMap(shortcutKeyMap))},hasConflict(shortcut,command){const shortcutKeyMap=this.getShortcutKeyMap(),existingKeys=Object.keys(shortcutKeyMap).filter((item=>item!==shortcut)).map((item=>shortcutKeyMap[item]));for(const key of existingKeys)if(key===command||splitKey(key).includes(command))return!0;return!1},enableShortcut(shortcut){this.setShortcutKey(shortcut,this.getShortcutKeyMap()[shortcut])},disableShortcut(shortcut){this.off(this.getShortcutKeyMap()[shortcut])},restoreHotkeys(){const disabledHotkeys={...previousUnbindedHotkeysMap};this.on();for(const property in Keys)!1===disabledHotkeys[Keys[property]]&&this.off(Keys[property])}};let closeToolTipFunc;const setCloseToolTipFunc=func=>{closeToolTipFunc=func},getCloseToolTipFunc=()=>closeToolTipFunc,hotkeysManager=Object.create(HotkeysManager)},"./src/helpers/openFilePicker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_getRootNode__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/getRootNode.js");const __WEBPACK_DEFAULT_EXPORT__=()=>{(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_0__.Ay)().querySelector("#file-picker")?.click()}},"./src/helpers/print.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>printPages,y:()=>print});var i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/redux/actions/index.js"),dayjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__),dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/dayjs/plugin/localizedFormat.js"),dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_3__),core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/index.js"),helpers_rasterPrint__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/rasterPrint.js"),helpers_device__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/device.js"),helpers_embeddedPrint__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/embeddedPrint.js"),_getRootNode__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/getRootNode.js");const PRINT_QUALITY=1;dayjs__WEBPACK_IMPORTED_MODULE_2___default().extend(dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_3___default());const getResetPrintStyle=()=>{const style=document.createElement("style");return style.id="print-handler-css",style.textContent="\n#print-handler {\n  display: none;\n}\n\n@media print {\n  * {\n    display: none! important;\n  }\n\n  @page {\n    margin: 0; /* Set all margins to 0 */\n  }\n\n  html {\n    height: 100%;\n    display: block! important;\n  }\n\n  body {\n    height: 100%;\n    display: block! important;\n    overflow: visible !important;\n    padding: 0;\n    margin: 0 !important;\n  }\n\n  #print-handler {\n    display: block !important;\n    height: 100%;\n    width: 100%;\n    padding: 0;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    position: absolute;\n  }\n\n  #print-handler img {\n    display: block !important;\n    max-width: 100%;\n    max-height: 100%;\n    height: 100%;\n    width: 100%;\n    object-fit: contain;\n    page-break-after: always;\n    padding: 0;\n    margin: 0;\n  }\n\n  #print-handler .page__container {\n    box-sizing: border-box;\n    display: flex !important;\n    flex-direction: column;\n    padding: 10px;\n    min-height: 100%;\n    min-width: 100%;\n    font-size: 10px;\n  }\n\n  #print-handler .page__container .page__header {\n    display: block !important;\n    align-self: flex-start;\n    font-size: 2rem;\n    margin-bottom: 2rem;\n    padding-bottom: 0.6rem;\n    border-bottom: 0.1rem solid black;\n  }\n\n  #print-handler .page__container .note {\n    display: flex !important;\n    flex-direction: column;\n    padding: 0.6rem;\n    border: 0.1rem lightgray solid;\n    border-radius: 0.4rem;\n    margin-bottom: 0.5rem;\n  }\n\n  #print-handler .page__container .note .note__info {\n    display: block !important;\n    font-size: 1.3rem;\n    margin-bottom: 0.1rem;\n  }\n\n  #print-handler .page__container .note .note__info--with-icon {\n    display: flex !important;\n  }\n\n  #print-handler .page__container .note .note__info--with-icon .note__icon {\n    display: block !important;\n    width: 1.65rem;\n    height: 1.65rem;\n    margin-top: -0.1rem;\n    margin-right: 0.2rem;\n  }\n\n  #print-handler .page__container .note .note__info--with-icon .note__icon path:not([fill=none]) {\n    display: block !important;\n    fill: currentColor;\n  }\n\n  #print-handler .page__container .note .note__root .note__content {\n    display: block !important;\n    margin-left: 0.3rem;\n  }\n\n  #print-handler .page__container .note .note__root {\n    display: block !important;\n  }\n\n  #print-handler .page__container .note .note__info--with-icon .note__icon svg {\n    display: block !important;\n  }\n\n  #print-handler .page__container .note .note__reply {\n    display: block !important;\n    margin: 0.5rem 0 0 2rem;\n  }\n\n  #print-handler .page__container .note .note__content {\n    display: block !important;\n    font-size: 1.2rem;\n    margin-top: 0.1rem;\n  }\n\n  #app {\n    overflow: visible !important;\n  }\n\n  .App {\n    display: none !important;\n  }\n\n  html, body, #app {\n    max-width: none !important;\n  }\n}\n",style},printPages=pages=>{const printHandler=(0,_getRootNode__WEBPACK_IMPORTED_MODULE_8__.Ay)().getElementById("print-handler");printHandler.innerHTML="";const isApryseWebViewerWebComponent=window.isApryseWebViewerWebComponent;if(isApryseWebViewerWebComponent&&(printHandler.parentNode.removeChild(printHandler),document.body.appendChild(printHandler),!document.getElementById("print-handler-css"))){const style=getResetPrintStyle();document.head.appendChild(style)}const fragment=document.createDocumentFragment();pages.forEach((page=>{fragment.appendChild(page)})),printHandler.appendChild(fragment);const isNativeSafariBrowser=helpers_device__WEBPACK_IMPORTED_MODULE_6__.nr&&!(helpers_device__WEBPACK_IMPORTED_MODULE_6__.r2||helpers_device__WEBPACK_IMPORTED_MODULE_6__.g3);if(!isNativeSafariBrowser){if(helpers_device__WEBPACK_IMPORTED_MODULE_6__.r2||helpers_device__WEBPACK_IMPORTED_MODULE_6__.g3){const node=isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_8__.Ay)():window.parent.document;if(node.getElementById("print-handler")&&node.getElementById("print-handler").remove(),node.appendChild(printHandler.cloneNode(!0)),!node.getElementById("print-handler-css")){const style=getResetPrintStyle();(isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_8__.Ay)():window.parent.document.head).appendChild(style)}}window.isApryseWebViewerWebComponent||(1===printHandler.children.length?printHandler.parentElement.setAttribute("style","height: 99.99%;"):printHandler.parentElement.setAttribute("style","height: 100%;"))}printDocument(isNativeSafariBrowser)},printDocument=isNativeSafariBrowser=>{const doc=core__WEBPACK_IMPORTED_MODULE_4__.A.getDocument(),tempTitle=window.parent.document.title;if(!doc)return;const fileName=doc.getFilename(),fileNameWithoutExtension=fileName.substring(0,fileName.lastIndexOf("."))||fileName;window.addEventListener("beforeprint",(()=>{window.parent.document.title=fileNameWithoutExtension}),{once:!0}),window.addEventListener("afterprint",(()=>{if(window.parent.document.title=tempTitle,window.isApryseWebViewerWebComponent){const printHandler=document.getElementById("print-handler");document.body.removeChild(printHandler);(0,_getRootNode__WEBPACK_IMPORTED_MODULE_8__.Ay)().querySelector(".PrintHandler").appendChild(printHandler)}}),{once:!0}),isNativeSafariBrowser?document.execCommand("print"):window.print()},print=async(dispatch,useClientSidePrint,isEmbedPrintSupported,sortStrategy,colorMap,options={})=>{const{includeAnnotations,includeComments,maintainPageOrientation,onProgress,printQuality=PRINT_QUALITY,printWithoutModal=!1,language,isPrintCurrentView,printedNoteDateFormat:dateFormat,isGrayscale=!1,timezone,pagesToPrint}=options,document1=core__WEBPACK_IMPORTED_MODULE_4__.A.getDocument(),annotationManager=core__WEBPACK_IMPORTED_MODULE_4__.A.getAnnotationManager();if(!document1)return;if(!printWithoutModal)return void dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.openElements(["printModal"]));const pageArray=isPrintCurrentView?[core__WEBPACK_IMPORTED_MODULE_4__.A.getDocumentViewer().getCurrentPage()]:(pagesToPrint=>{const pageCount=core__WEBPACK_IMPORTED_MODULE_4__.A.getTotalPages();return pagesToPrint??Array.from({length:pageCount},((_,i)=>i+1))})(pagesToPrint);options.pagesToPrint=pageArray,options.isAlwaysPrintAnnotationsInColorEnabled=core__WEBPACK_IMPORTED_MODULE_4__.A.getDocumentViewer().isAlwaysPrintAnnotationsInColorEnabled();const bbURLPromise=core__WEBPACK_IMPORTED_MODULE_4__.A.getPrintablePDF();if(isGrayscale||!bbURLPromise||useClientSidePrint){if((0,helpers_embeddedPrint__WEBPACK_IMPORTED_MODULE_7__.bV)(isEmbedPrintSupported))(0,helpers_embeddedPrint__WEBPACK_IMPORTED_MODULE_7__.s7)(options),(0,helpers_embeddedPrint__WEBPACK_IMPORTED_MODULE_7__.aW)(await(0,helpers_embeddedPrint__WEBPACK_IMPORTED_MODULE_7__.X0)(options,document1,annotationManager));else if(includeAnnotations||includeComments||printWithoutModal){const printOptions={includeComments,includeAnnotations,maintainPageOrientation,printQuality,sortStrategy,colorMap,dateFormat,isPrintCurrentView,language,timezone,createCanvases:!1,isGrayscale},createPages=(0,helpers_rasterPrint__WEBPACK_IMPORTED_MODULE_5__.F1)(pageArray,printOptions,onProgress);Promise.all(createPages).then((pages=>{printPages(pages)})).catch((e=>{console.error(e)}))}}else(bbURLPromise=>{const printPage=window.open("","_blank");printPage.document.write(i18next__WEBPACK_IMPORTED_MODULE_0__.A.t("message.preparingToPrint")),bbURLPromise.then((result=>{printPage.location.href=result.url}))})(bbURLPromise)}},"./src/helpers/printCurrentViewHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>getCurrentViewRect,q:()=>doesCurrentViewContainEntirePage});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),_getRootNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/getRootNode.js");function getCurrentViewRect(pageNumber){const displayMode=core__WEBPACK_IMPORTED_MODULE_0__.A.getDisplayModeObject(),containerElement=core__WEBPACK_IMPORTED_MODULE_0__.A.getScrollViewElement(),documentElement=core__WEBPACK_IMPORTED_MODULE_0__.A.getViewerElement(),documentContainerElement=(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)().querySelector('[aria-label="Document Content"]'),isApryseWebViewerWebComponent=window.isApryseWebViewerWebComponent;let innerWidth=documentContainerElement?documentContainerElement.clientWidth:window.innerWidth,innerHeight=documentContainerElement?documentContainerElement.clientHeight:window.innerHeight,containerScrollLeft=containerElement.scrollLeft,documentElementOffsetLeft=documentElement.offsetLeft;if(isApryseWebViewerWebComponent){const instanceRect=(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Iv)().getBoundingClientRect();innerWidth=instanceRect.width,innerHeight=instanceRect.height,containerScrollLeft=containerElement.scrollLeft,documentElementOffsetLeft=documentElement.offsetLeft}const coordinates=[];coordinates[0]=displayMode.windowToPageNoRotate({x:Math.max(containerScrollLeft,documentElementOffsetLeft),y:Math.max(containerElement.scrollTop,0)},pageNumber),coordinates[1]=displayMode.windowToPageNoRotate({x:Math.min(innerWidth,documentElementOffsetLeft+documentElement.offsetWidth)+containerScrollLeft,y:innerHeight+containerElement.scrollTop},pageNumber);const x1=Math.min(coordinates[0].x,coordinates[1].x),y1=Math.min(coordinates[0].y,coordinates[1].y),x2=Math.max(coordinates[0].x,coordinates[1].x),y2=Math.max(coordinates[0].y,coordinates[1].y);return new window.Core.Math.Rect(x1,y1,x2,y2)}function doesCurrentViewContainEntirePage(currentViewRect,pageDimensions){if(!currentViewRect||!pageDimensions)return;const dimesions_width=currentViewRect.x2-currentViewRect.x1,dimesions_height=currentViewRect.y2-currentViewRect.y1;return dimesions_width>=pageDimensions.width&&dimesions_height>=pageDimensions.height}},"./src/helpers/rasterPrint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{iP:()=>cancelPrint,F1:()=>createRasterizedPrintPages});var i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),core=__webpack_require__("./src/core/index.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),localizedFormat=__webpack_require__("./node_modules/dayjs/plugin/localizedFormat.js"),localizedFormat_default=__webpack_require__.n(localizedFormat);function adjustListBoxForPrint(container){if(!container)return;container.querySelectorAll("select").forEach((select=>{const fakeSelectContainer=function createFakeContainerForSelect(select){const fakeSelectContainer=document.createElement("div");return fakeSelectContainer.style.position=select.style.position,fakeSelectContainer.style.top=select.style.top,fakeSelectContainer.style.left=select.style.left,fakeSelectContainer.style.width=select.style.width,fakeSelectContainer.style.height=select.style.height,fakeSelectContainer.style.backgroundColor=select.style.backgroundColor,fakeSelectContainer.style.border=select.style.border,fakeSelectContainer.style.borderRadius=select.style.borderRadius,fakeSelectContainer.style.fontFamily=select.style.fontFamily,fakeSelectContainer.style.fontSize=select.style.fontSize,fakeSelectContainer.style.fontWeight=select.style.fontWeight,fakeSelectContainer.style.fontStyle=select.style.fontStyle,fakeSelectContainer.style.color=select.style.color,fakeSelectContainer.style.overflow="auto",fakeSelectContainer}(select);Array.from(select.options).forEach((option=>{const optionDiv=function createFakeOption(option){const optionDiv=document.createElement("div");optionDiv.textContent=option.text,optionDiv.style.padding="0px",optionDiv.style.margin="0px",optionDiv.style.backgroundColor=option.selected?"#b3d9ff":"transparent",optionDiv.style.textAlign="left",optionDiv.style.justifyContent="flex-start";const isMultiSelect=option.hasAttribute("selected"),isSelected=option.selected;optionDiv.style.backgroundColor=isMultiSelect||isSelected?"#b3d9ff":"transparent";return optionDiv}(option);fakeSelectContainer.appendChild(optionDiv)})),function hideSelectContainer(select){select.style.display="none"}(select),select.parentNode.insertBefore(fakeSelectContainer,select.nextSibling)}))}var map=__webpack_require__("./src/constants/map.js"),grayScaleHelper=__webpack_require__("./src/helpers/grayScaleHelper.js"),printCurrentViewHelper=__webpack_require__("./src/helpers/printCurrentViewHelper.js"),sortStrategies=__webpack_require__("./src/constants/sortStrategies.js");let colorMap,pendingCanvases=[],PRINT_QUALITY=1;dayjs_min_default().extend(localizedFormat_default());const getNoteInfo=(annotation,dateFormat,language,timezone)=>{let dateCreated;if(timezone){const datetimeStr=annotation.DateCreated.toLocaleString("en-US",{timeZone:timezone});dateCreated=new Date(datetimeStr)}else dateCreated=annotation.DateCreated;const info=document.createElement("div");let date=dayjs_min_default()(dateCreated).format(dateFormat);return language&&(date=dayjs_min_default()(dateCreated).locale(language).format(dateFormat)),info.className="note__info",""===annotation.Subject||null===annotation.Subject||void 0===annotation.Subject?info.textContent=`\n      ${i18next.A.t("option.printInfo.author")}: ${core.A.getDisplayAuthor(annotation.Author)||""} \n      ${i18next.A.t("option.printInfo.date")}: ${date}\n    `:info.textContent=`\n      ${i18next.A.t("option.printInfo.author")}: ${core.A.getDisplayAuthor(annotation.Author)||""} \n      ${i18next.A.t("option.printInfo.subject")}: ${annotation.Subject} \n      ${i18next.A.t("option.printInfo.date")}: ${date}\n    `,info},getNoteContent=annotation=>{const contentElement=document.createElement("div"),contentText=annotation.getContents();return contentElement.className="note__content",contentText&&(contentElement.style.whiteSpace="pre-wrap",contentElement.textContent=`${contentText}`),contentElement},getNoteIcon=annotation=>{const key=(0,map.c7)(annotation),iconColor=colorMap[key]&&colorMap[key].iconColor,icon=(0,map.ap)(key).icon;let noteIcon;if(icon&&0===icon.trim().indexOf("data:"))noteIcon=document.createElement("img"),noteIcon.src=icon;else{let innerHTML;if(icon){innerHTML=0===icon.indexOf("<svg")?icon:__webpack_require__("./assets/icons sync recursive ^\\.\\/.*\\.svg$")(`./${icon}.svg`)}else innerHTML=annotation.Subject;const newEle=(new DOMParser).parseFromString(innerHTML,"text/html").body.childNodes;noteIcon=document.createElement("div"),newEle.forEach((node=>{noteIcon.appendChild(node)}))}return noteIcon.className="note__icon",noteIcon.style.color=iconColor&&annotation[iconColor].toHexString(),noteIcon},creatingNotesPage=(annotations,pageNumber,dateFormat,language,timezone)=>new Promise((resolve=>{const container=document.createElement("div");container.className="page__container";const header=document.createElement("div");header.className="page__header",header.textContent=`${i18next.A.t("option.shared.page")} ${pageNumber}`,container.appendChild(header),annotations.forEach((annotation=>{const note=((annotation,dateFormat,language,timezone)=>{const note=document.createElement("div");note.className="note";const noteRoot=document.createElement("div");noteRoot.className="note__root";const noteRootInfo=document.createElement("div");noteRootInfo.className="note__info--with-icon";const noteIcon=getNoteIcon(annotation);return noteRootInfo.appendChild(noteIcon),noteRootInfo.appendChild(getNoteInfo(annotation,dateFormat,language,timezone)),noteRoot.appendChild(noteRootInfo),noteRoot.appendChild(getNoteContent(annotation)),note.appendChild(noteRoot),annotation.getReplies().forEach((reply=>{const noteReply=document.createElement("div");noteReply.className="note__reply",noteReply.appendChild(getNoteInfo(reply,dateFormat,language,timezone)),noteReply.appendChild(getNoteContent(reply)),note.appendChild(noteReply)})),note})(annotation,dateFormat,language,timezone);container.appendChild(note)})),resolve(container)})),cancelPrint=()=>{const doc=core.A.getDocument();pendingCanvases.forEach((id=>doc.cancelLoadCanvas(id)))},drawAnnotationsOnCanvas=async(canvas,pageNumber,isGrayscale)=>{if(isGrayscale){canvas.getContext("2d").filter="grayscale(1)"}const widgetAnnotations=core.A.getAnnotationsList().filter((annotation=>annotation.PageNumber===pageNumber&&annotation instanceof window.Core.Annotations.WidgetAnnotation));if(!(widgetAnnotations.length>0))return core.A.drawAnnotations(pageNumber,canvas);const widgetContainer=(pageIndex=>{const{width,height}=core.A.getPageInfo(pageIndex+1),widgetContainer=document.createElement("div");return widgetContainer.id="printWidgetContainer",widgetContainer.style.width=width,widgetContainer.style.height=height,widgetContainer.style.position="relative",widgetContainer.style.top="-10000px",widgetContainer})(pageNumber-1),requiredWidgets=function hideRequiredWidgetStyling(widgets){const updatedWidgets=[];return widgets.forEach((widget=>{widget.getFieldFlags().Required&&(widget.getFieldFlags().Required=!1,widget.refresh(),updatedWidgets.push(widget))})),updatedWidgets}(widgetAnnotations);await core.A.drawAnnotations(pageNumber,canvas,!0,widgetContainer),adjustListBoxForPrint(widgetContainer),document.body.appendChild(widgetContainer);const{default:html2canvas}=await __webpack_require__.e(26526).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/html2canvas/dist/npm/index.js",23));await html2canvas(widgetContainer,{canvas,backgroundColor:null,scale:1,logging:!1}),function showRequiredWidgetStyling(widgets){widgets.forEach((widget=>{widget.getFieldFlags().Required=!0,widget.refresh()}))}(requiredWidgets),document.body.removeChild(widgetContainer)},getDocumentRotation=pageIndex=>{const pageNumber=pageIndex+1;return(core.A.getCompleteRotation(pageNumber)-core.A.getRotation(pageNumber)+4)%4},creatingImage=(pageNumber,includeAnnotations,maintainPageOrientation,isCurrentView,createCanvases=!1,isGrayscale=!1)=>new Promise((resolve=>{const pageIndex=pageNumber-1,printRotation=((pageIndex,maintainPageOrientation)=>{if(!maintainPageOrientation){const{width,height}=core.A.getPageInfo(pageIndex+1);let printRotation=(4-getDocumentRotation(pageIndex))%4;return printRotation%2==0&&width>height?printRotation++:printRotation%2==1&&height>width&&(printRotation=0),printRotation}return core.A.getRotation(pageIndex+1)})(pageIndex,maintainPageOrientation);let renderRect,zoom=1;if(isCurrentView){zoom=core.A.getZoom(),renderRect=(0,printCurrentViewHelper.d)(pageNumber);const pageDimensions=core.A.getDocument().getPageInfo(pageNumber);(0,printCurrentViewHelper.q)(renderRect,pageDimensions)&&(renderRect=void 0)}renderRect||(zoom=(pageNumber=>{let zoom=1;const pageInfo=core.A.getDocument().getPageInfo(pageNumber),pageSize=Math.sqrt(pageInfo.width*pageInfo.height);return pageSize>2500&&(zoom=2500/pageSize),zoom})(pageNumber));const id=core.A.getDocument().loadCanvas({pageNumber,zoom,pageRotation:printRotation,drawComplete:async canvas=>{pendingCanvases=pendingCanvases.filter((pendingCanvas=>pendingCanvas!==id)),((canvas,pageIndex)=>{const{width,height}=core.A.getPageInfo(pageIndex+1),documentRotation=getDocumentRotation(pageIndex),ctx=canvas.getContext("2d"),printRotation=(4-documentRotation)%4,isAutoRotated=printRotation%2==0&&width>height||printRotation%2==1&&height>width;if(window.Core.isPdfjs&&isAutoRotated)switch(documentRotation){case 0:ctx.translate(height,0),ctx.rotate(90*Math.PI/180);break;case 1:case 3:ctx.translate(0,height),ctx.rotate(270*Math.PI/180);break;case 2:ctx.translate(height,0),ctx.rotate(-270*Math.PI/180)}else if(!window.Core.isPdfjs){switch(documentRotation){case 1:ctx.translate(width,0);break;case 2:ctx.translate(width,height);break;case 3:ctx.translate(0,height)}ctx.rotate(90*documentRotation*Math.PI/180)}})(canvas,pageIndex);let printableAnnotInfo=[];if(!includeAnnotations){const annotatationsToPrint=core.A.getAnnotationsList().filter((annotation=>annotation.PageNumber===pageNumber&&!(annotation instanceof window.Core.Annotations.WidgetAnnotation)));printableAnnotInfo=annotatationsToPrint.map((annotation=>({annotation,printable:annotation.Printable}))),annotatationsToPrint.forEach((annotation=>{annotation.Printable=!1}))}const grayscaleDarknessFactor=(0,grayScaleHelper.e7)();if(isGrayscale&&grayscaleDarknessFactor>=1){const ctx=canvas.getContext("2d"),oldTransform=ctx.getTransform();ctx.resetTransform(),ctx.globalCompositeOperation="color",ctx.fillStyle="white",ctx.globalAlpha=1,ctx.fillRect(0,0,canvas.width,canvas.height),ctx.globalCompositeOperation="source-over",ctx.setTransform(oldTransform)}else if(isGrayscale){const ctx=canvas.getContext("2d");ctx.globalCompositeOperation="source-over";const imageData=ctx.getImageData(0,0,canvas.width,canvas.height),{data}=imageData;for(let i=0;i<data.length;i+=4)255===data[i]&&255===data[i+1]&&255===data[i+2]||(data[i]=data[i+1]=data[i+2]=(data[i]+data[i+1]+data[i+2])/3*grayscaleDarknessFactor);ctx.putImageData(imageData,0,0)}const alwaysPrintAnnotationsInColor=core.A.getDocumentViewer().isAlwaysPrintAnnotationsInColorEnabled(),drawAnnotationsInGrayscale=isGrayscale&&!alwaysPrintAnnotationsInColor;await drawAnnotationsOnCanvas(canvas,pageNumber,drawAnnotationsInGrayscale),printableAnnotInfo.forEach((info=>{info.annotation.Printable=info.printable})),createCanvases&&resolve(canvas.toDataURL());const img=document.createElement("img");img.src=canvas.toDataURL(),img.onload=()=>{resolve(img)}},multiplier:PRINT_QUALITY,print:!0,renderRect});pendingCanvases.push(id)})),createRasterizedPrintPages=(pagesToPrint,printOptions,onProgress)=>{const createdPages=[];return pendingCanvases=[],PRINT_QUALITY=printOptions?.printQuality,colorMap=printOptions?.colorMap,pagesToPrint.forEach((pageNumber=>{createdPages.push(creatingImage(pageNumber,printOptions?.includeAnnotations,printOptions?.maintainPageOrientation,printOptions?.isCurrentView,printOptions?.createCanvases,printOptions?.isGrayscale)),onProgress&&createdPages[createdPages.length-1].then((htmlElement=>{onProgress(pageNumber,htmlElement)}));const printableAnnotationNotes=(pageNumber=>core.A.getAnnotationsList().filter((annotation=>annotation.Listable&&annotation.PageNumber===pageNumber&&!annotation.isReply()&&!annotation.isGrouped()&&annotation.Printable)))(pageNumber);if(printOptions?.includeComments&&printableAnnotationNotes){const sortedNotes=(0,sortStrategies.Qk)()[printOptions?.sortStrategy].getSortedNotes(printableAnnotationNotes);sortedNotes.length&&createdPages.push(creatingNotesPage(sortedNotes,pageNumber,printOptions?.dateFormat,printOptions?.language,printOptions?.timezone)),onProgress&&createdPages[createdPages.length-1].then((htmlElement=>{onProgress(pageNumber,htmlElement)}))}})),createdPages}},"./src/helpers/setCurrentPage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=(nextPageNumber,documentViewerKey=1)=>{const totalPageNumber=core__WEBPACK_IMPORTED_MODULE_0__.A.getTotalPages(documentViewerKey),currPageNumber=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentPage(documentViewerKey);let nextPage=Math.min(totalPageNumber,nextPageNumber);nextPage=Math.max(1,nextPage),nextPage!==currPageNumber&&core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(nextPage,documentViewerKey)}},"./src/helpers/setToolModeAndGroup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_toolStylesExist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/toolStylesExist.js"),actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js");const __WEBPACK_DEFAULT_EXPORT__=(store,toolName)=>{const{dispatch,getState}=store,state=getState(),featureFlags=state.featureFlags,{customizableUI}=featureFlags,toolGroup=selectors__WEBPACK_IMPORTED_MODULE_3__.A.getToolButtonObject(state,toolName)?.group||"";dispatch(toolGroup?actions__WEBPACK_IMPORTED_MODULE_2__.A.openElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.TOOLS_OVERLAY):actions__WEBPACK_IMPORTED_MODULE_2__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.TOOLS_OVERLAY));if(core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().name===toolName&&(0,helpers_toolStylesExist__WEBPACK_IMPORTED_MODULE_1__.A)(toolName))dispatch(actions__WEBPACK_IMPORTED_MODULE_2__.A.toggleElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.TOOL_STYLE_POPUP));else{if(dispatch(actions__WEBPACK_IMPORTED_MODULE_2__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.TOOL_STYLE_POPUP)),dispatch(actions__WEBPACK_IMPORTED_MODULE_2__.A.setActiveToolGroup(toolGroup)),customizableUI){const ribbonAssociatedWithTool=selectors__WEBPACK_IMPORTED_MODULE_3__.A.getRibbonAssociatedWithTool(state,toolName);ribbonAssociatedWithTool&&store.dispatch(actions__WEBPACK_IMPORTED_MODULE_2__.A.setActiveCustomRibbon(ribbonAssociatedWithTool))}core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode(toolName)}}},"./src/helpers/toolStylesExist.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=toolName=>{if("CropPage"===toolName||"SnippingTool"===toolName)return!1;const tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getTool(toolName);let hasStyles;return hasStyles=!!tool?.defaults&&Object.keys(tool.defaults).length>0,hasStyles}},"./src/helpers/zoom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Rp:()=>zoomTo,Ti:()=>fitToWidth,ke:()=>zoomOut,nF:()=>zoomIn,uT:()=>fitToPage,v3:()=>getStep});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),constants_zoomFactors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/zoomFactors.js"),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/getRootNode.js");function getStep(currentZoomFactor){const zoomFactorRangesMap=function convertZoomStepFactorsToRangesMap(zoomStepFactors){const rangesMap={};zoomStepFactors.sort(((a,b)=>a.startZoom-b.startZoom));for(let i=0;i<zoomStepFactors.length;i++){const zoomStepFactor=zoomStepFactors[i],nextZoomStepFactor=zoomStepFactors[i+1];rangesMap[""+zoomStepFactor.step/100]=nextZoomStepFactor?[zoomStepFactor.startZoom/100,nextZoomStepFactor.startZoom/100]:[zoomStepFactor.startZoom/100,null]}return rangesMap}((0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Iv)().instance.UI.getZoomStepFactors()),step=Object.keys(zoomFactorRangesMap).find((step=>{const zoomFactorRanges=zoomFactorRangesMap[step];return function isCurrentZoomFactorInRange(zoomFactor,ranges){const[rangeLowBound,rangeHighBound]=ranges;if(null===rangeLowBound)return zoomFactor<rangeHighBound;if(null===rangeHighBound)return zoomFactor>=rangeLowBound;return zoomFactor>=rangeLowBound&&zoomFactor<rangeHighBound}(currentZoomFactor,zoomFactorRanges)}));return parseFloat(step)}let zoomStepHistory=[],storedZoomFactor=-1;function zoomToInternal(currentZoomFactor,newZoomFactor,isMultiViewerMode=!1,documentViewerKey=1){const scale=newZoomFactor/currentZoomFactor,{x,y}=function getViewCenterAfterScale(scale,isMultiViewerMode=!1,documentViewerKey=1){const documentContainer=isMultiViewerMode?(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().querySelector(`#DocumentContainer${documentViewerKey}`):(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().querySelectorAll(".DocumentContainer")[0],documentWrapper=isMultiViewerMode?(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().querySelector(`#Document${documentViewerKey}`):(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_2__.Ay)().querySelectorAll(".document")[0],clientX=window.innerWidth/2,clientY=window.innerHeight/2;return{x:(clientX+documentContainer.scrollLeft-documentWrapper.offsetLeft)*scale-clientX+documentContainer.offsetLeft,y:(clientY+documentContainer.scrollTop-documentWrapper.offsetTop)*scale-clientY+documentContainer.offsetTop}}(scale,isMultiViewerMode,documentViewerKey);core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(newZoomFactor,x,y,documentViewerKey),storedZoomFactor=newZoomFactor}function resetZoomStepHistory(){zoomStepHistory=[]}function fitToWidth(documentViewerKey=1){resetZoomStepHistory(),core__WEBPACK_IMPORTED_MODULE_0__.A.fitToWidth(documentViewerKey)}function fitToPage(documentViewerKey=1){resetZoomStepHistory(),core__WEBPACK_IMPORTED_MODULE_0__.A.fitToPage(documentViewerKey)}function zoomIn(isMultiViewerMode=!1,documentViewerKey=1){const currentZoomFactor=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(documentViewerKey);if(storedZoomFactor>0&&currentZoomFactor!==storedZoomFactor&&resetZoomStepHistory(),currentZoomFactor===(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_1__.Wl)())return;let step=getStep(currentZoomFactor);zoomStepHistory.length>0&&zoomStepHistory[zoomStepHistory.length-1]<0?step=Math.abs(zoomStepHistory.pop()):zoomStepHistory.push(step);zoomToInternal(currentZoomFactor,Math.min(currentZoomFactor+step,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_1__.Wl)()),isMultiViewerMode,documentViewerKey)}function zoomOut(isMultiViewerMode=!1,documentViewerKey=1){const currentZoomFactor=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(documentViewerKey);if(storedZoomFactor>0&&currentZoomFactor!==storedZoomFactor&&resetZoomStepHistory(),currentZoomFactor===(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_1__.U9)())return;let step=getStep(currentZoomFactor);zoomStepHistory.length>0&&zoomStepHistory[zoomStepHistory.length-1]>0?step=zoomStepHistory.pop():zoomStepHistory.push(-1*step);zoomToInternal(currentZoomFactor,Math.max(currentZoomFactor-step,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_1__.U9)()),isMultiViewerMode,documentViewerKey)}function zoomTo(newZoomFactor,isMultiViewerMode=!1,documentViewerKey=1){resetZoomStepHistory();zoomToInternal(core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(documentViewerKey),newZoomFactor,isMultiViewerMode,documentViewerKey)}}}]);