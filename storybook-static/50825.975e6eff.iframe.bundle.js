(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[50825,63344],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".signature-icon .badge{color:#fff}.signature-icon .medium{width:18px;height:18px}.signature-icon .small{width:16px;height:16px}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureValidationModal/SignatureValidationModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.SignatureValidationModal{visibility:visible}.closed.SignatureValidationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignatureValidationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.SignatureValidationModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.SignatureValidationModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.SignatureValidationModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.SignatureValidationModal .footer .modal-button.cancel:hover,.SignatureValidationModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.SignatureValidationModal .footer .modal-button.cancel,.SignatureValidationModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.SignatureValidationModal .footer .modal-button.cancel.disabled,.SignatureValidationModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.SignatureValidationModal .footer .modal-button.cancel.disabled span,.SignatureValidationModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.SignatureValidationModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.SignatureValidationModal .modal-container .wrapper .modal-content{padding:10px}.SignatureValidationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.SignatureValidationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.SignatureValidationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.SignatureValidationModal .footer .modal-button.confirm{margin-inline-start:4px}.SignatureValidationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}.SignatureValidationModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .swipe-indicator{width:32px}}.SignatureValidationModal .container{display:flex;flex-direction:column;justify-content:space-around;border-radius:4px;min-width:350px;padding:20px;max-width:630px}.SignatureValidationModal .validation-header{position:relative;display:flex;justify-content:left;align-items:center;padding-bottom:20px;font-size:16px}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]{position:absolute;inset-inline-end:0}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]:hover{background:none}.SignatureValidationModal .summary-box{position:relative;display:flex;border:1px solid;border-color:var(--gray-4);border-radius:5px;padding:16px;font-weight:700}.SignatureValidationModal .summary-box>:not(:first-child){margin-inline-start:8px}.SignatureValidationModal .validation-header-valid{background-color:#8dd88d}.SignatureValidationModal .validation-header-warning{background-color:#e2b719}.SignatureValidationModal .validation-header-error{background-color:#ff7979}.SignatureValidationModal .validation-header-unknown{background-color:#ddd}.SignatureValidationModal .body{margin-top:16px}.SignatureValidationModal div.body>div.section:first-child{margin-top:0}.SignatureValidationModal div.body>div.section{margin:16px;padding-bottom:16px;border-bottom:1px solid var(--gray-5)}.SignatureValidationModal div.body>div.section:last-child{margin-bottom:0}.SignatureValidationModal div.body>div.section>p{font-size:13px;margin:8px 0}.SignatureValidationModal div.body>div.section>p:last-child{margin:0}.SignatureValidationModal .header{font-weight:700}.SignatureValidationModal .modal-footer{display:flex;justify-content:flex-end;margin-top:32px}.SignatureValidationModal .modal-footer .close-modal-button{background:var(--primary-button);border:1px;border-color:var(--primary-button);border-radius:4px;padding:0 16px;height:32px;width:-moz-fit-content;width:fit-content;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}.SignatureValidationModal .modal-footer .close-modal-button:hover{background:var(--primary-button-hover)}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignaturePanel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SignaturePanel:()=>_SignaturePanel__WEBPACK_IMPORTED_MODULE_0__.A,default:()=>__WEBPACK_DEFAULT_EXPORT__,renderPermissionStatus:()=>_WidgetInfo__WEBPACK_IMPORTED_MODULE_1__.s});var _SignaturePanel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/SignaturePanel/SignaturePanel.js"),_WidgetInfo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/SignaturePanel/WidgetInfo/index.js");const __WEBPACK_DEFAULT_EXPORT__=_SignaturePanel__WEBPACK_IMPORTED_MODULE_0__.A},"./src/components/SignatureValidationModal/SignatureValidationModal.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureValidationModal/SignatureValidationModal.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignatureValidationModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>components_SignatureValidationModal});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),selectors=__webpack_require__("./src/redux/selectors/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),Button=__webpack_require__("./src/components/Button/index.js"),ModalWrapper=__webpack_require__("./src/components/ModalWrapper/index.js"),SignaturePanel=__webpack_require__("./src/components/SignaturePanel/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Icon=__webpack_require__("./src/components/Icon/index.js");__webpack_require__("./src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss");const propTypes={badge:prop_types_default().string,size:prop_types_default().string},SignatureIcon_SignatureIcon=({badge,size="medium"})=>(0,jsx_runtime.jsx)("div",{className:"signature-icon",children:badge&&(0,jsx_runtime.jsx)(Icon.A,{glyph:badge,className:`badge ${size}`})});SignatureIcon_SignatureIcon.propTypes=propTypes;const SignaturePanel_SignatureIcon_SignatureIcon=SignatureIcon_SignatureIcon;SignatureIcon_SignatureIcon.__docgenInfo={description:"",methods:[],displayName:"SignatureIcon",props:{size:{defaultValue:{value:"'medium'",computed:!1},description:"",type:{name:"string"},required:!1},badge:{description:"",type:{name:"string"},required:!1}}};const SignaturePanel_SignatureIcon=SignaturePanel_SignatureIcon_SignatureIcon;var actions=__webpack_require__("./src/redux/actions/index.js"),useFocusOnClose=(__webpack_require__("./src/components/SignatureValidationModal/SignatureValidationModal.scss"),__webpack_require__("./src/hooks/useFocusOnClose/index.js"));const SignatureValidationModal_SignatureValidationModal=()=>{const[translate]=(0,useTranslation.B)(),[isOpen,verificationResult]=(0,es.d4)((state=>{const{validationModalWidgetName}=state.digitalSignatureValidation;return[selectors.A.isElementOpen(state,dataElement.A.SIGNATURE_VALIDATION_MODAL),selectors.A.getVerificationResult(state,validationModalWidgetName)]}),es.bN),dispatch=(0,es.wA)(),closeModal=(0,useFocusOnClose.A)((()=>{dispatch(actions.A.closeElements([dataElement.A.SIGNATURE_VALIDATION_MODAL]))}));(0,react.useEffect)((()=>{isOpen&&dispatch(actions.A.closeElements([dataElement.A.SIGNATURE_MODAL,dataElement.A.LOADING_MODAL,dataElement.A.PRINT_MODAL,dataElement.A.ERROR_MODAL,dataElement.A.PASSWORD_MODAL]))}),[dispatch,isOpen]);const{badgeIcon,verificationStatus,permissionStatus,isCertification,documentPermission,trustVerificationResultString,timeOfTrustVerificationEnum,trustVerificationTime,digestAlgorithm,digestStatus,documentStatus,trustStatus,signerName}=verificationResult,{DigestAlgorithm,DigitalSignatureField,VerificationOptions,VerificationResult}=window.Core.PDFNet,{ModificationPermissionsStatus,TrustStatus,DigestStatus,DocumentStatus}=VerificationResult,{TimeMode}=VerificationOptions,renderDocumentPermission=()=>{if(!documentPermission)return;let content="";const editor=isCertification?"certifier":"signer";switch(documentPermission){case DigitalSignatureField.DocumentPermissions.e_no_changes_allowed:content+=translate("digitalSignatureModal.documentPermission.noChangesAllowed",{editor});break;case DigitalSignatureField.DocumentPermissions.e_formfilling_signing_allowed:content+=translate("digitalSignatureModal.documentPermission.formfillingSigningAllowed",{editor});break;case DigitalSignatureField.DocumentPermissions.e_annotating_formfilling_signing_allowed:content+=translate("digitalSignatureModal.documentPermission.annotatingFormfillingSigningAllowed",{editor});break;case DigitalSignatureField.DocumentPermissions.e_unrestricted:content+=translate("digitalSignatureModal.documentPermission.unrestricted",{editor})}return(0,jsx_runtime.jsx)("p",{children:content})},renderTrustVerification=()=>{if(!trustVerificationResultString)return(0,jsx_runtime.jsx)("p",{children:translate("digitalSignatureModal.trustVerification.none")});let content="";switch(timeOfTrustVerificationEnum){case TimeMode.e_current:content+=translate("digitalSignatureModal.trustVerification.current",{trustVerificationTime});break;case TimeMode.e_signing:content+=translate("digitalSignatureModal.trustVerification.signing",{trustVerificationTime});break;case TimeMode.e_timestamp:content+=translate("digitalSignatureModal.trustVerification.timestamp",{trustVerificationTime})}return(0,jsx_runtime.jsx)("p",{children:content})},renderDigestAlgorithm=()=>{let content=translate("digitalSignatureModal.digestAlgorithm.preamble");switch(digestAlgorithm){case DigestAlgorithm.Type.e_SHA1:content+="SHA1.";break;case DigestAlgorithm.Type.e_SHA256:content+="SHA256.";break;case DigestAlgorithm.Type.e_SHA384:content+="SHA384.";break;case DigestAlgorithm.Type.e_SHA512:content+="SHA512.";break;case DigestAlgorithm.Type.e_RIPEMD160:content+="RIPEMD160.";break;case DigestAlgorithm.Type.e_unknown_digest_algorithm:content=translate("digitalSignatureModal.digestAlgorithm.unknown")}return(0,jsx_runtime.jsx)("p",{children:content})},renderDocumentStatus=()=>{let content;switch(documentStatus){case DocumentStatus.e_no_error:content=translate("digitalSignatureVerification.documentStatus.noError");break;case DocumentStatus.e_corrupt_file:content=translate("digitalSignatureVerification.documentStatus.corruptFile");break;case DocumentStatus.e_unsigned:content=translate("digitalSignatureVerification.documentStatus.unsigned");break;case DocumentStatus.e_bad_byteranges:content=translate("digitalSignatureVerification.documentStatus.badByteRanges");break;case DocumentStatus.e_corrupt_cryptographic_contents:content=translate("digitalSignatureVerification.documentStatus.corruptCryptographicContents")}return(0,jsx_runtime.jsx)("p",{children:content})},renderDigestStatus=()=>{let content;switch(digestStatus){case DigestStatus.e_digest_invalid:content=translate("digitalSignatureVerification.digestStatus.digestInvalid");break;case DigestStatus.e_digest_verified:content=translate("digitalSignatureVerification.digestStatus.digestVerified");break;case DigestStatus.e_digest_verification_disabled:content=translate("digitalSignatureVerification.digestStatus.digestVerificationDisabled");break;case DigestStatus.e_weak_digest_algorithm_but_digest_verifiable:content=translate("digitalSignatureVerification.digestStatus.weakDigestAlgorithmButDigestVerifiable");break;case DigestStatus.e_no_digest_status:content=translate("digitalSignatureVerification.digestStatus.noDigestStatus");break;case DigestStatus.e_unsupported_encoding:content=translate("digitalSignatureVerification.digestStatus.unsupportedEncoding")}return(0,jsx_runtime.jsx)("p",{children:content})},renderTrustStatus=()=>{const verificationType=translate(isCertification?"digitalSignatureVerification.certifier":"digitalSignatureVerification.signer");let content;switch(trustStatus){case TrustStatus.e_trust_verified:content=translate("digitalSignatureVerification.trustStatus.trustVerified",{verificationType});break;case TrustStatus.e_untrusted:content=translate("digitalSignatureVerification.trustStatus.untrusted");break;case TrustStatus.e_trust_verification_disabled:content=translate("digitalSignatureVerification.trustStatus.trustVerificationDisabled");break;case TrustStatus.e_no_trust_status:content=translate("digitalSignatureVerification.trustStatus.noTrustStatus")}return(0,jsx_runtime.jsx)("p",{children:content})};return(0,jsx_runtime.jsx)("div",{className:classnames_default()({Modal:!0,SignatureValidationModal:!0,open:isOpen,closed:!isOpen}),"data-element":dataElement.A.SIGNATURE_VALIDATION_MODAL,children:(0,jsx_runtime.jsx)(ModalWrapper.A,{title:(()=>{const typeCapitalized=translate(isCertification?"digitalSignatureModal.Certification":"digitalSignatureModal.Signature");return translate("digitalSignatureModal.title",{type:typeCapitalized})})(),closeHandler:closeModal,onCloseClick:closeModal,isOpen,swipeToClose:!0,children:(0,jsx_runtime.jsxs)("div",{className:"container",children:[(()=>{let status;switch(badgeIcon){case"digital_signature_valid":status=translate("digitalSignatureModal.valid");break;case"digital_signature_warning":default:status=translate("digitalSignatureModal.unknown");break;case"digital_signature_error":status=translate("digitalSignatureModal.invalid")}const type=translate(isCertification?"digitalSignatureModal.certification":"digitalSignatureModal.signature");return(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)("div",{className:"summary-box",children:[(0,jsx_runtime.jsx)(SignaturePanel_SignatureIcon,{badge:badgeIcon,size:"medium"}),(0,jsx_runtime.jsxs)("div",{children:[translate("digitalSignatureModal.summaryBox.summary",{type,status}),"digital_signature_valid"===badgeIcon?translate("digitalSignatureModal.summaryBox.signedBy",{name:signerName||translate("digitalSignatureModal.unknown"),interpolation:{escapeValue:!1}}):""]})]})})})(),void 0===verificationStatus?(0,jsx_runtime.jsx)("div",{className:"center",children:(0,jsx_runtime.jsx)(SignaturePanel.Spinner,{})}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"body",children:[(0,jsx_runtime.jsxs)("div",{className:"section",children:[(0,jsx_runtime.jsx)("p",{className:"header",children:translate("digitalSignatureModal.header.documentIntegrity")}),(0,SignaturePanel.renderPermissionStatus)({isCertification,ModificationPermissionsStatus,permissionStatus,translate,digestStatus,DigestStatusErrorCodes:DigestStatus}),renderDocumentPermission()]}),(0,jsx_runtime.jsxs)("div",{className:"section",children:[(0,jsx_runtime.jsx)("p",{className:"header",children:translate("digitalSignatureModal.header.identitiesTrust")}),renderTrustStatus(),renderTrustVerification()]}),(0,jsx_runtime.jsxs)("div",{className:"section",children:[(0,jsx_runtime.jsx)("p",{className:"header",children:translate("digitalSignatureModal.header.generalErrors")}),renderDocumentStatus()]}),(0,jsx_runtime.jsxs)("div",{className:"section",children:[(0,jsx_runtime.jsx)("p",{className:"header",children:translate("digitalSignatureModal.header.digestStatus")}),renderDigestStatus(),renderDigestAlgorithm()]})]}),(0,jsx_runtime.jsx)("div",{className:"modal-footer",children:(0,jsx_runtime.jsx)(Button.A,{className:"close-modal-button",onClick:closeModal,label:translate("action.close")})})]})]})})})},components_SignatureValidationModal_SignatureValidationModal=SignatureValidationModal_SignatureValidationModal;SignatureValidationModal_SignatureValidationModal.__docgenInfo={description:"",methods:[],displayName:"SignatureValidationModal"};const components_SignatureValidationModal=components_SignatureValidationModal_SignatureValidationModal}}]);