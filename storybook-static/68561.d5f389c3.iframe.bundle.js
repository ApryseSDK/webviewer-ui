(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[68561],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".FileInputPanel{display:flex;justify-content:center;height:100%;flex-direction:column;background-color:var(--document-background-color);border-radius:4px}.FileInputPanel .url-input-header{font-size:13px;line-height:16px;padding-inline-start:16px;padding-bottom:8px;font-weight:700}.FileInputPanel .url-input{padding:0 16px;position:relative;display:flex;align-items:center}.FileInputPanel .url-input input:focus{border-color:var(--outline-color)}.FileInputPanel .url-input input:active{border-color:var(--focus-border)}.FileInputPanel .url-input .Icon{position:absolute;inset-inline-end:20px;color:var(--error-border-color)}.FileInputPanel .file-input{padding:6px;width:108px;height:32px}.FileInputPanel .file-input.file-input--error{padding-inline-end:30px;border-color:var(--error-border-color)}.FileInputPanel .url-input-error{padding:0 16px;margin-top:8px;font-size:13px;color:var(--error-text-color)}.FileInputPanel ::-moz-placeholder{color:var(--placeholder-text)}.FileInputPanel ::placeholder{color:var(--placeholder-text)}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/FileListPanel/FileListPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.FileListPanel{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;width:100%;height:100%;overflow:auto;padding-top:20px;padding-bottom:20px;background-color:var(--document-background-color);border-radius:4px}.FileListPanel ul{display:flex;flex-wrap:wrap;justify-content:center;align-content:flex-start;list-style:none;margin:0;padding:16px;height:30em;width:100%}.FileListPanel ul li.selected{border:1px solid #48a4e0}.FileListPanel ul li{background:var(--gray-1);border:1px solid var(--blue-1);box-sizing:border-box;border-radius:6px;width:100%;height:60px;margin:4px 0;padding:8px 10px;display:flex;flex-direction:row;cursor:pointer}.FileListPanel ul li:hover{border:1px solid #48a4e0}.FileListPanel ul li .li-div{background:#fff;width:42px;height:100%;float:inline-start;border-radius:4px;position:relative}.FileListPanel ul li .li-div-img{position:absolute;inset-block-start:50%;inset-inline-start:50%;transform:translateY(-50%) translateX(-50%);width:28px}.FileListPanel ul li .li-div-img.with-border{height:34px;border:1px solid var(--blue-1)}.FileListPanel ul li .li-div-txt{margin-inline-start:10px;line-height:40px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_Dropdown__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.scss"),__webpack_require__("./src/components/Dropdown/index.js")),components_Icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Icon/index.js"),classnames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);const FileInputPanel=({defaultValue,onFileSelect,acceptFormats,extension,setExtension,error})=>{const[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.B)(),[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultValue||""),customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFeatureFlags(state)?.customizableUI));return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{defaultValue||defaultValue===value||setValue("")})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"FileInputPanel",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:"urlInput",className:"url-input-header",children:t("link.enterUrlAlt")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"url-input",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",id:"urlInput",className:classnames__WEBPACK_IMPORTED_MODULE_7___default()({"file-input":!0,"file-input--error":!!error}),style:{width:"100%",height:32,paddingLeft:8,fontSize:13,boxSizing:"border-box"},value,onChange:e=>{setValue(e.target.value),onFileSelect(e.target.value)},placeholder:customizableUI?"":t("link.urlLink"),"aria-describedby":error?"urlInputError":void 0}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Icon__WEBPACK_IMPORTED_MODULE_6__.A,{glyph:"icon-alert"})]}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"url-input-error",id:"urlInputError",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{"aria-live":"assertive",className:"no-margin",children:t(error)})}),setExtension?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"extension-dropdown",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Dropdown__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:!value,id:"open-file-extension-dropdown",labelledById:"open-file-extension-dropdown-label",placeholder:t("tool.selectAnOption"),onClick:e=>e.stopPropagation(),items:acceptFormats,ariaLabel:t("OpenFile.extension"),onClickItem:setExtension,currentSelectionKey:extension,maxHeight:200,height:32}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{id:"open-file-extension-dropdown-label",children:t("OpenFile.extension")})]}):null]})};FileInputPanel.propTypes={defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,onFileSelect:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func.isRequired,acceptFormats:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default().shape({key:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string.isRequired})),prop_types__WEBPACK_IMPORTED_MODULE_9___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default().string)]),extension:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,setExtension:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,error:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string};const __WEBPACK_DEFAULT_EXPORT__=FileInputPanel;FileInputPanel.__docgenInfo={description:"",methods:[],displayName:"FileInputPanel",props:{defaultValue:{description:"",type:{name:"string"},required:!1},onFileSelect:{description:"",type:{name:"func"},required:!0},acceptFormats:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{key:{name:"string",required:!0},value:{name:"string",required:!0}}}},{name:"arrayOf",value:{name:"string"}}]},required:!1},extension:{description:"",type:{name:"string"},required:!1},setExtension:{description:"",type:{name:"func"},required:!1},error:{description:"",type:{name:"string"},required:!1}}}},"./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PageReplacementModal/FileInputPanel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/PageReplacementModal/FileInputPanel/FileInputPanel.js").A},"./src/components/PageReplacementModal/FileListPanel/FileListPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/FileListPanel/FileListPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PageReplacementModal/PageReplacementModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_PageReplacementModal_PageReplacementModal});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),selectors=__webpack_require__("./src/redux/selectors/index.js"),core=__webpack_require__("./src/core/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js");__webpack_require__("./src/components/PageReplacementModal/FileListPanel/FileListPanel.scss");const FileListPanel_FileListPanel=({defaultValue,onFileSelect,list=[]})=>{const{id}=defaultValue||{},elements=list.map(((item,i)=>{const isSelected=id===item.id,modalClass=classnames_default()({selected:isSelected}),thumbnail=(item=>{if(item.hasOwnProperty("thumbnail")){let src=null;const thumbnail=item.thumbnail;thumbnail.url?src=thumbnail.url:thumbnail.toDataURL&&(src=thumbnail.toDataURL());const img=(0,jsx_runtime.jsx)("img",{src,className:"li-div-img"});return(0,jsx_runtime.jsx)("div",{className:"li-div",children:img})}return null})(item);return(0,jsx_runtime.jsxs)("li",{tabIndex:"0",onClick:()=>(id=>{onFileSelect(list.find((item=>item.id===id)))})(item.id),onKeyDown:event=>((event,id)=>{"Enter"===event.key&&onFileSelect(list.find((item=>item.id===id)))})(event,item.id),className:modalClass,children:[thumbnail,(0,jsx_runtime.jsx)("div",{className:"li-div-txt",children:item.filename})]},i)}));return(0,jsx_runtime.jsx)("div",{className:"FileListPanel",children:(0,jsx_runtime.jsx)("ul",{children:elements})})},PageReplacementModal_FileListPanel_FileListPanel=FileListPanel_FileListPanel;FileListPanel_FileListPanel.__docgenInfo={description:"",methods:[],displayName:"FileListPanel",props:{list:{defaultValue:{value:"[]",computed:!1},required:!1}}};const PageReplacementModal_FileListPanel=PageReplacementModal_FileListPanel_FileListPanel;var FileInputPanel=__webpack_require__("./src/components/PageReplacementModal/FileInputPanel/index.js"),FilePickerPanel=__webpack_require__("./src/components/PageReplacementModal/FilePickerPanel/index.js"),Tabs=__webpack_require__("./src/components/Tabs/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),FileSelectedPanel=__webpack_require__("./src/components/PageReplacementModal/FileSelectedPanel/FileSelectedPanel.js"),pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js");const FileSelectedPanelContainer=react.forwardRef(((props,ref)=>{const documentInViewer=core.A.getDocument();return(0,jsx_runtime.jsx)(FileSelectedPanel.A,{...props,documentInViewer,replacePagesHandler:pageManipulationFunctions.Db,ref})}));FileSelectedPanelContainer.displayName="FileSelectedPanelContainer";const FileSelectedPanel_FileSelectedPanelContainer=FileSelectedPanelContainer;FileSelectedPanelContainer.__docgenInfo={description:"",methods:[],displayName:"FileSelectedPanelContainer"};const PageReplacementModal_FileSelectedPanel=FileSelectedPanel_FileSelectedPanelContainer;var es=__webpack_require__("./node_modules/react-redux/es/index.js"),ModalWrapper=__webpack_require__("./src/components/ModalWrapper/index.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js");__webpack_require__("./src/components/PageReplacementModal/PageReplacementModal.scss");const isValidUrlRegex=new RegExp(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,"m"),options={loadAsPDF:!0},PageReplacementModal_PageReplacementModal=({closeModal,selectableFiles,isOpen,selectedThumbnailPageIndexes,selectedTab})=>{const[t]=(0,useTranslation.B)(),[source,setSource]=(0,react.useState)({}),[error,setError]=(0,react.useState)(null),[selectedDoc,setSelectedDoc]=(0,react.useState)(null),[isFileSelected,setIsFileSelected]=(0,react.useState)(!1),[selectedTabInternal,setSelectedTabInternal]=(0,react.useState)(null),dispatch=(0,es.wA)(),customizableUI=(0,es.d4)((state=>selectors.A.getFeatureFlags(state)?.customizableUI));(0,react.useEffect)((()=>{isOpen&&selectedTabInternal!==selectedTab&&setSelectedTabInternal(selectedTab)}),[isOpen,selectedTabInternal,selectedTab]);const closeThisModal=()=>{setSelectedDoc(null),setIsFileSelected(!1);const el=(0,getRootNode.Ay)().querySelector("#pageReplacementFileInputId");el&&(el.value=null),closeModal(),setSelectedTabInternal(null),setSource({})},closeModalWarning=()=>(0,pageManipulationFunctions.Mw)(closeThisModal,dispatch),modalClass=classnames_default()({Modal:!0,PageReplacementModal:!0,open:isOpen,closed:!isOpen,"modular-ui":customizableUI}),srcString=source[selectedTabInternal];let isSelectBtnDisabled=void 0===srcString;"urlInputPanelButton"!==selectedTabInternal||isValidUrlRegex.test(srcString)||(isSelectBtnDisabled=!0);const clearDocument=()=>{setSelectedDoc(null),setIsFileSelected(!1)};return isOpen?(0,jsx_runtime.jsx)("div",{className:modalClass,"data-element":"pageReplacementModal",onMouseDown:isFileSelected?closeModalWarning:closeThisModal,id:"pageReplacementModal",children:isFileSelected?(0,jsx_runtime.jsx)(PageReplacementModal_FileSelectedPanel,{closeThisModal,clearLoadedFile:clearDocument,pageIndicesToReplace:selectedThumbnailPageIndexes,sourceDocument:selectedDoc,closeModalWarning}):(()=>{const isFilePanelEnabled=selectableFiles&&selectableFiles.length>0;return(0,jsx_runtime.jsx)("div",{className:"container tabs",onMouseDown:e=>e.stopPropagation(),children:(0,jsx_runtime.jsxs)(ModalWrapper.A,{isOpen,title:t("component.pageReplaceModalTitle"),closeButtonDataElement:"pageReplacementModalClose",onCloseClick:closeThisModal,swipeToClose:!0,closeHandler:closeThisModal,children:[(0,jsx_runtime.jsx)("div",{className:"swipe-indicator"}),(0,jsx_runtime.jsxs)(Tabs.tU,{className:"page-replacement-tabs",id:"pageReplacementModal",children:[(0,jsx_runtime.jsx)("div",{className:"tabs-header-container",children:(0,jsx_runtime.jsxs)("div",{role:"tablist",className:"tab-list",children:[isFilePanelEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"customFileListPanelButton",children:(0,jsx_runtime.jsx)("button",{role:"tab",className:"tab-options-button",children:t("option.pageReplacementModal.yourFiles")})}),(0,jsx_runtime.jsx)("div",{className:"tab-options-divider"})]}),(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"urlInputPanelButton",children:(0,jsx_runtime.jsx)("button",{role:"tab",className:"tab-options-button",children:t("link.url")})}),(0,jsx_runtime.jsx)("div",{className:"tab-options-divider"}),(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"filePickerPanelButton",children:(0,jsx_runtime.jsx)("button",{role:"tab",className:"tab-options-button",children:t("option.pageReplacementModal.localFile")})})]})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"customFileListPanel",children:(0,jsx_runtime.jsx)("div",{className:"panel-body",children:(0,jsx_runtime.jsx)(PageReplacementModal_FileListPanel,{onFileSelect:selection=>{setSource({[selectedTabInternal]:selection})},list:selectableFiles,defaultValue:srcString})})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"urlInputPanel",children:(0,jsx_runtime.jsx)("div",{className:"panel-body",children:(0,jsx_runtime.jsx)(FileInputPanel.A,{error,onFileSelect:url=>{setSource({[selectedTabInternal]:url})},defaultValue:source.urlInputPanelButton})})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"filePickerPanel",children:(0,jsx_runtime.jsx)("div",{className:"panel-body upload",children:(0,jsx_runtime.jsx)(FilePickerPanel.A,{fileInputId:"pageReplacementFileInputId",onFileProcessed:file=>(async file=>{let document;document=file instanceof(0,getRootNode.Iv)().instance.Core.Document?file:await core.A.createDocument(file,options),setSelectedDoc(document),setIsFileSelected(!0)})(file)})})})]}),(0,jsx_runtime.jsx)("div",{className:"page-replacement-divider"}),(0,jsx_runtime.jsx)("div",{className:"footer",children:(0,jsx_runtime.jsx)(Button.A,{className:classnames_default()("modal-btn",{noFile:isSelectBtnDisabled}),onClick:()=>isSelectBtnDisabled?null:(async()=>{let document;if(srcString&&"customFileListPanelButton"===selectedTabInternal)srcString.onSelect&&(document=await srcString.onSelect(),setSelectedDoc(document)),setIsFileSelected(!0);else if(srcString)try{document=await core.A.createDocument(srcString,options),setSelectedDoc(document),setIsFileSelected(!0)}catch(error){setError(t("message.urlInputFileLoadError")),setIsFileSelected(!1),console.error("Error loading file from URL:",error)}})(),label:t("action.select"),disabled:isSelectBtnDisabled})})]})})})()}):null},components_PageReplacementModal_PageReplacementModal=PageReplacementModal_PageReplacementModal;PageReplacementModal_PageReplacementModal.__docgenInfo={description:"",methods:[],displayName:"PageReplacementModal"}}}]);