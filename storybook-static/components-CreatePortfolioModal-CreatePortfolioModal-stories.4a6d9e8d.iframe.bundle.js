(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[58335],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/FilePicker/FilePicker.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.file-picker-component{width:100%;height:100%;position:relative;border-radius:4px;background:var(--signature-draw-background);border:1px solid var(--modal-stroke-and-border);padding:8px}.file-picker-component .file-picker-container{position:relative;border:1px dashed var(--modal-stroke-and-border);display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.file-picker-component .file-picker-container.dragging{background:var(--file-picker-drop-background);border:1px dashed var(--file-picker-drop-border)}.file-picker-component .file-picker-container .file-picker-body{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;position:absolute;color:var(--faded-text)}.file-picker-component .file-picker-container .file-picker-body .label-separator{margin:10px}.file-picker-component .file-picker-container .file-picker-body .modal-btn-file{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding-top:2px;padding-inline-end:20px;padding-bottom:4px;padding-inline-start:20px;cursor:pointer}.file-picker-component .file-picker-container .file-picker-body .modal-btn-file:hover{border-color:var(--blue-6);color:var(--blue-6)}.file-picker-component .file-picker-container .file-picker-body .modal-btn-file.focus-visible,.file-picker-component .file-picker-container .file-picker-body .modal-btn-file:focus-visible{outline:var(--focus-visible-outline)}.file-picker-component .file-picker-container .file-picker-body .Icon{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin-bottom:15px}.file-picker-component .file-picker-container .file-picker-body .Icon svg{height:45px}.file-picker-component .file-picker-container .file-picker-body .file-picker-separator{margin:10px}.file-picker-component .file-picker-container .file-picker-error{position:absolute;color:red;inset-block-end:0;inset-inline-end:0;margin:0 5px 5px 0}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PasswordModal/PasswordModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.PasswordModal{visibility:visible}.closed.PasswordModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PasswordModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.PasswordModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.PasswordModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.PasswordModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.PasswordModal .footer .modal-button.cancel:hover,.PasswordModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.PasswordModal .footer .modal-button.cancel,.PasswordModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.PasswordModal .footer .modal-button.cancel.disabled,.PasswordModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.PasswordModal .footer .modal-button.cancel.disabled span,.PasswordModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.PasswordModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.PasswordModal .modal-container .wrapper .modal-content{padding:10px}.PasswordModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.PasswordModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.PasswordModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.PasswordModal .footer .modal-button.confirm{margin-inline-start:4px}.PasswordModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .footer .modal-button{padding:23px 8px}}.PasswordModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .swipe-indicator{width:32px}}.PasswordModal .modal-container{width:480px}.PasswordModal .modal-container .wrapper form{padding:16px;font-size:14px}.PasswordModal .modal-container .wrapper .incorrect-password{margin-top:6px;font-size:13px;color:#cf0101}.PasswordModal .modal-container .wrapper .modal-button{margin-top:0}.PasswordModal .modal-container .wrapper .error-modal-content{padding:2px 16px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/lodash/isString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},"./node_modules/react-swipeable/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hx:()=>Swipeable});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var defaultProps={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},initialState={xy:[0,0],swiping:!1,eventData:void 0,start:void 0};function rotateXYByAngle(pos,angle){if(0===angle)return pos;var angleInRadians=Math.PI/180*angle;return[pos[0]*Math.cos(angleInRadians)+pos[1]*Math.sin(angleInRadians),pos[1]*Math.cos(angleInRadians)-pos[0]*Math.sin(angleInRadians)]}function getHandlers(set,handlerProps){var onStart=function onStart(event){event.touches&&event.touches.length>1||set((function(state,props){props.trackMouse&&(document.addEventListener("mousemove",onMove),document.addEventListener("mouseup",onUp));var _ref=event.touches?event.touches[0]:event,xy=rotateXYByAngle([_ref.clientX,_ref.clientY],props.rotationAngle);return _extends({},state,initialState,{eventData:{initial:[].concat(xy),first:!0},xy,start:event.timeStamp||0})}))},onMove=function onMove(event){set((function(state,props){if(!state.xy[0]||!state.xy[1]||event.touches&&event.touches.length>1)return state;var _ref2=event.touches?event.touches[0]:event,_rotateXYByAngle=rotateXYByAngle([_ref2.clientX,_ref2.clientY],props.rotationAngle),x=_rotateXYByAngle[0],y=_rotateXYByAngle[1],deltaX=state.xy[0]-x,deltaY=state.xy[1]-y,absX=Math.abs(deltaX),absY=Math.abs(deltaY),time=(event.timeStamp||0)-state.start,velocity=Math.sqrt(absX*absX+absY*absY)/(time||1);if(absX<props.delta&&absY<props.delta&&!state.swiping)return state;var dir=function getDirection(absX,absY,deltaX,deltaY){return absX>absY?deltaX>0?"Left":"Right":deltaY>0?"Up":"Down"}(absX,absY,deltaX,deltaY),eventData=_extends({},state.eventData,{event,absX,absY,deltaX,deltaY,velocity,dir});props.onSwiping&&props.onSwiping(eventData);var cancelablePageSwipe=!1;return(props.onSwiping||props.onSwiped||props["onSwiped"+dir])&&(cancelablePageSwipe=!0),cancelablePageSwipe&&props.preventDefaultTouchmoveEvent&&props.trackTouch&&event.cancelable&&event.preventDefault(),_extends({},state,{eventData:_extends({},eventData,{first:!1}),swiping:!0})}))},onEnd=function onEnd(event){set((function(state,props){var eventData;return state.swiping&&(eventData=_extends({},state.eventData,{event}),props.onSwiped&&props.onSwiped(eventData),props["onSwiped"+eventData.dir]&&props["onSwiped"+eventData.dir](eventData)),_extends({},state,initialState,{eventData})}))},cleanUpMouse=function cleanUpMouse(){document.removeEventListener("mousemove",onMove),document.removeEventListener("mouseup",onUp)},onUp=function onUp(e){cleanUpMouse(),onEnd(e)},attachTouch=function attachTouch(el){if(el&&el.addEventListener){var tls=[["touchstart",onStart],["touchmove",onMove],["touchend",onEnd]];return tls.forEach((function(_ref3){var e=_ref3[0],h=_ref3[1];return el.addEventListener(e,h)})),function(){return tls.forEach((function(_ref4){var e=_ref4[0],h=_ref4[1];return el.removeEventListener(e,h)}))}}},output={ref:function onRef(el){null!==el&&set((function(state,props){if(state.el===el)return state;var addState={};return state.el&&state.el!==el&&state.cleanUpTouch&&(state.cleanUpTouch(),addState.cleanUpTouch=null),props.trackTouch&&el&&(addState.cleanUpTouch=attachTouch(el)),_extends({},state,{el},addState)}))}};return handlerProps.trackMouse&&(output.onMouseDown=onStart),[output,attachTouch]}function updateTransientState(state,props,attachTouch){var addState={};return!props.trackTouch&&state.cleanUpTouch?(state.cleanUpTouch(),addState.cleanUpTouch=null):props.trackTouch&&!state.cleanUpTouch&&state.el&&(addState.cleanUpTouch=attachTouch(state.el)),_extends({},state,addState)}var Swipeable=function(_React$PureComponent){function Swipeable(props){var _this;return(_this=_React$PureComponent.call(this,props)||this)._set=function(cb){_this.transientState=cb(_this.transientState,_this.props)},_this.transientState=_extends({},initialState,{type:"class"}),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}(Swipeable,_React$PureComponent),Swipeable.prototype.render=function render(){var _this$props=this.props,className=_this$props.className,style=_this$props.style,_this$props$nodeName=_this$props.nodeName,nodeName=void 0===_this$props$nodeName?"div":_this$props$nodeName,innerRef=_this$props.innerRef,children=_this$props.children,trackMouse=_this$props.trackMouse,_getHandlers=getHandlers(this._set,{trackMouse}),handlers=_getHandlers[0],attachTouch=_getHandlers[1];this.transientState=updateTransientState(this.transientState,this.props,attachTouch);var ref=innerRef?function(el){return innerRef(el),handlers.ref(el)}:handlers.ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(nodeName,_extends({},handlers,{className,style,ref}),children)},Swipeable}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);Swipeable.propTypes={onSwiped:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onSwiping:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onSwipedUp:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onSwipedRight:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onSwipedDown:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onSwipedLeft:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,delta:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,preventDefaultTouchmoveEvent:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,nodeName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,trackMouse:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,trackTouch:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,innerRef:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,rotationAngle:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number},Swipeable.defaultProps=defaultProps},"./src/components/Button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Button/Button.js").A},"./src/components/CreatePortfolioModal/CreatePortfolioModal.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_CreatePortfolioModal__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/CreatePortfolioModal/CreatePortfolioModal.js")),redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/CreatePortfolioModal",component:_CreatePortfolioModal__WEBPACK_IMPORTED_MODULE_2__.A},getStore=()=>{const initialState={viewer:{openElements:{[constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.CREATE_PORTFOLIO_MODAL]:!0},disabledElements:{},tab:{[constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.CREATE_PORTFOLIO_MODAL]:constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.PORTFOLIO_UPLOAD_FILES_TAB},customElementOverrides:{}},featureFlags:{customizableUI:!0}};return(0,redux__WEBPACK_IMPORTED_MODULE_5__.y$)((function rootReducer(state=initialState,action){return state}))};function Basic(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store:getStore(),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_CreatePortfolioModal__WEBPACK_IMPORTED_MODULE_2__.A,{})})}const __namedExportsOrder=["Basic"]},"./src/components/FilePicker/FilePicker.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/FilePicker/FilePicker.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/FilePicker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_FilePicker});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),Icon=__webpack_require__("./src/components/Icon/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),device=__webpack_require__("./src/helpers/device.js"),useFocusOnClose=__webpack_require__("./src/hooks/useFocusOnClose/index.js");__webpack_require__("./src/components/FilePicker/FilePicker.scss");const FilePicker_FilePicker=({onChange=()=>{},onDrop=()=>{},shouldShowIcon=!1,acceptFormats,allowMultiple=!1,errorMessage=""})=>{const[t]=(0,useTranslation.B)(),[isDragging,setIsDragging]=(0,react.useState)(!1),fileInputRef=(0,react.useRef)(null),onClick=()=>{fileInputRef?.current?.click()},handleChange=(0,useFocusOnClose.A)((e=>{const files=e.target.files;files.length>0&&onChange(Array.from(files))}));return(0,jsx_runtime.jsx)("div",{className:"file-picker-component",children:(0,jsx_runtime.jsxs)("div",{className:classnames_default()("file-picker-container",{dragging:isDragging}),onDragEnter:e=>{e.preventDefault(),setIsDragging(!0)},onDragLeave:e=>{e.preventDefault(),e.target.parentNode.contains(e.relatedTarget)||setIsDragging(!1)},onDragOver:e=>{e.preventDefault()},onDrop:async e=>{e.preventDefault(),setIsDragging(!1);const{files}=e.dataTransfer;files.length>0&&onDrop(Array.from(files))},onDragExit:e=>{e.preventDefault(),setIsDragging(!1)},children:[(0,jsx_runtime.jsxs)("div",{className:"file-picker-body",children:[shouldShowIcon&&(0,jsx_runtime.jsx)(Icon.A,{glyph:"icon-open-folder"}),(0,device.Fr)()?(0,jsx_runtime.jsx)("div",{className:"file-picker-separator",children:t("filePicker.selectFile")}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:t("filePicker.dragAndDrop")}),(0,jsx_runtime.jsx)("div",{className:"file-picker-separator",children:t("filePicker.or")})]}),(0,jsx_runtime.jsxs)("div",{className:"md-row modal-btn-file",tabIndex:"0",onKeyDown:event=>{"Enter"===event.key&&onClick()},onClick,children:[t("action.browse"),(0,jsx_runtime.jsx)("input",{ref:fileInputRef,multiple:allowMultiple,style:{display:"none"},type:"file",accept:acceptFormats,onChange:event=>{handleChange(event),event.target.value=null}})]})]}),errorMessage&&(0,jsx_runtime.jsx)("div",{className:"file-picker-error",children:errorMessage})]})})},components_FilePicker_FilePicker=FilePicker_FilePicker;FilePicker_FilePicker.__docgenInfo={description:"",methods:[],displayName:"FilePicker",props:{onChange:{defaultValue:{value:"() => { }",computed:!1},required:!1},onDrop:{defaultValue:{value:"() => { }",computed:!1},required:!1},shouldShowIcon:{defaultValue:{value:"false",computed:!1},required:!1},allowMultiple:{defaultValue:{value:"false",computed:!1},required:!1},errorMessage:{defaultValue:{value:"''",computed:!1},required:!1}}};const components_FilePicker=components_FilePicker_FilePicker},"./src/components/PasswordModal/PasswordModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Pm:()=>setCancelPasswordCheckCallback,mw:()=>setCheckPasswordFunction});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Button/index.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/selectors/index.js"),_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ModalWrapper/index.js"),helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/accessibility.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/constants/dataElement.js");__webpack_require__("./src/components/PasswordModal/PasswordModal.scss");let checkPassword=()=>{};const setCheckPasswordFunction=fn=>{checkPassword=fn};let cancelPasswordCheckCallback=()=>{};const setCancelPasswordCheckCallback=fn=>{cancelPasswordCheckCallback=fn},PasswordModal=()=>{const[isOpen,attempt,maxAttempts]=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_6__.A.isElementOpen(state,constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL),selectors__WEBPACK_IMPORTED_MODULE_6__.A.getPasswordAttempts(state),selectors__WEBPACK_IMPORTED_MODULE_6__.A.getMaxPasswordAttempts(state)]),react_redux__WEBPACK_IMPORTED_MODULE_3__.bN),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.B)(),passwordInput=react__WEBPACK_IMPORTED_MODULE_1__.createRef(),[password,setPassword]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[userCancelled,setUserCancelled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(isOpen?(dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PROGRESS_MODAL)),passwordInput.current?.focus(),window.addEventListener("keydown",(e=>(0,helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__.dy)(e,closeModal)))):(setPassword(""),setUserCancelled(!1)),()=>window.removeEventListener("keydown",helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__.dy))),[dispatch,isOpen,passwordInput]);const handleSubmit=e=>{e.preventDefault(),checkPassword(password)},closeModal=event=>{"Escape"===event.key?setUserCancelled(!0):dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL)),cancelPasswordCheckCallback()},getErrorModal=errorMessage=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__.A,{isOpen,title:"message.error",closeButtonDataElement:"errorModalCloseButton",onCloseClick:closeModal,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-content error-modal-content",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{"aria-live":"assertive",role:"alert",children:t(errorMessage)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-footer footer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_4__.A,{className:"confirm modal-button",dataElement:"passwordSubmitButton",label:t("action.ok"),onClick:closeModal})})]}),onKeyDown=e=>{13===e.which&&handleSubmit(e)},renderEnterPasswordContent=()=>{const wrongPassword=0!==attempt,wrongPasswordMessage=`${t("message.incorrectPassword",{remainingAttempts:maxAttempts-attempt})}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__.A,{isOpen,title:"message.passwordRequired",closeButtonDataElement:"errorModalCloseButton",onCloseClick:()=>{setUserCancelled(!0)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:t("message.enterPassword")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{className:(wrongPassword?"wrong":"correct")+" text-input-modal",type:"password",ref:passwordInput,autoComplete:"current-password",value:password,onKeyDown,onChange:e=>setPassword(e.target.value),placeholder:t("message.enterPasswordPlaceholder"),"aria-label":`${wrongPassword?wrongPasswordMessage:t("message.enterPassword")}`}),wrongPassword&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"incorrect-password",children:wrongPasswordMessage})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-footer footer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_4__.A,{className:"confirm modal-button",dataElement:"passwordSubmitButton",label:t("action.submit"),disabled:!password,onClick:handleSubmit})})]})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({Modal:!0,PasswordModal:!0,open:isOpen,closed:!isOpen}),"data-element":constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL,children:attempt===maxAttempts?getErrorModal("message.encryptedAttemptsExceeded"):userCancelled?getErrorModal("message.encryptedUserCancelled"):renderEnterPasswordContent()})},__WEBPACK_DEFAULT_EXPORT__=PasswordModal;PasswordModal.__docgenInfo={description:"",methods:[],displayName:"PasswordModal"}},"./src/components/PasswordModal/PasswordModal.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PasswordModal/PasswordModal.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PasswordModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,setCancelPasswordCheckCallback:()=>_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.Pm,setCheckPasswordFunction:()=>_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.mw});var _PasswordModal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/PasswordModal/PasswordModal.js");const __WEBPACK_DEFAULT_EXPORT__=_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.Ay},"./src/helpers/loadDocument.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>loadDocument});var PasswordModal=__webpack_require__("./src/components/PasswordModal/index.js"),core=__webpack_require__("./src/core/index.js"),fireEvent=__webpack_require__("./src/helpers/fireEvent.js"),isString=__webpack_require__("./node_modules/lodash/isString.js"),isString_default=__webpack_require__.n(isString);const helpers_getFileExtension=(src,options)=>{if(options?.extension)return options.extension.toLowerCase();if(!src)return null;if(src instanceof File)return src.name.split(".").pop().toLowerCase();if((src instanceof Blob||src instanceof ArrayBuffer)&&options?.filename)return options.filename.split(".").pop().toLowerCase();if(isString_default()(src)){return src.split("?")[0].split("#")[0].split(".").pop().toLowerCase()}return null};var getHashParameters=__webpack_require__("./src/helpers/getHashParameters.js"),actions=__webpack_require__("./src/redux/actions/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),customizationVariables=__webpack_require__("./src/constants/customizationVariables.js");const loadDocument=(dispatch,src,options={},documentViewerKey=1)=>{(options={...getDefaultOptions(),...options}).docId=options.docId||options.documentId||null;const customLoadingProgressFunction=options.onLoadingProgress;if(options.onLoadingProgress=percent=>{customLoadingProgressFunction&&customLoadingProgressFunction(percent),dispatch(actions.A.setLoadingProgress(percent))},options.password=transformPasswordOption(options.password,dispatch),options.xodOptions=extractXodOptions(options),"onError"in options){const userDefinedOnErrorCallback=options.onError;options.onError=function(error){(0,fireEvent.R)(error),userDefinedOnErrorCallback(error)}}else options.onError=fireEvent.R;dispatch(actions.A.closeElement(dataElement.A.PASSWORD_MODAL));const extension=helpers_getFileExtension(src,options),isDOCXEditorMode=options.initialMode===customizationVariables.jq.DOCX_EDITOR||options.enableOfficeEditing,isXLSXEditorMode=options.initialMode===customizationVariables.jq.SPREADSHEET_EDITOR;isDOCXEditorMode&&customizationVariables.rM.includes(extension)||isXLSXEditorMode&&customizationVariables.CG.includes(extension)?options.enableOfficeEditing=!0:options.enableOfficeEditing=!1,src?core.A.loadDocument(src,options,documentViewerKey).catch((()=>{})):isXLSXEditorMode?core.A.loadBlankSpreadsheet(options):isDOCXEditorMode&&core.A.loadBlankOfficeEditorDocument(options),dispatch(actions.A.openElement(dataElement.A.PROGRESS_MODAL))},getDefaultOptions=()=>({startOffline:(0,getHashParameters.A)("startOffline",!1),azureWorkaround:(0,getHashParameters.A)("azureWorkaround",!1),webviewerServerURL:(0,getHashParameters.A)("webviewerServerURL",""),fallbackToClientSide:(0,getHashParameters.A)("fallbackToClientSide",!1),singleServerMode:(0,getHashParameters.A)("singleServerMode",!1),webviewerServerRangeRequests:(0,getHashParameters.A)("wvsRange",!0),forceClientSideInit:(0,getHashParameters.A)("forceClientSideInit",!1),disableWebsockets:(0,getHashParameters.A)("disableWebsockets",!1),cacheKey:(0,getHashParameters.A)("cacheKey",null),officeOptions:JSON.parse((0,getHashParameters.A)("officeOptions",null)),rasterizerOptions:JSON.parse((0,getHashParameters.A)("rasterizerOptions",null)),streaming:(0,getHashParameters.A)("streaming",null),useDownloader:(0,getHashParameters.A)("useDownloader",!0),backendType:(0,getHashParameters.A)("pdf",null),loadAsPDF:(0,getHashParameters.A)("loadAsPDF",null),initialMode:(0,getHashParameters.A)("initialMode",null),enableOfficeEditing:(0,getHashParameters.A)("enableOfficeEditing",!1)}),transformPasswordOption=(password,dispatch)=>{let attempt,passwordChecked=!1;return checkPassword=>{dispatch(actions.A.setPasswordAttempts(attempt++)),password||(password=""),passwordChecked||"string"!=typeof password?(passwordChecked&&1!==attempt&&console.error("Wrong password has been passed as an argument. WebViewer will open password modal."),(0,PasswordModal.setCheckPasswordFunction)(checkPassword),dispatch(actions.A.openElement(dataElement.A.PASSWORD_MODAL))):(checkPassword(password),passwordChecked=!0,attempt=0)}},extractXodOptions=options=>{const xodOptions=options.xodOptions||{};return options.decryptOptions&&(xodOptions.decrypt=window.Core.Encryption.decrypt,xodOptions.decryptOptions=options.decryptOptions),options.decrypt&&(xodOptions.decrypt=options.decrypt),null!==options.streaming&&(xodOptions.streaming="true"===options.streaming||!0===options.streaming),options.azureWorkaround&&(xodOptions.azureWorkaround=options.azureWorkaround),options.startOffline&&(xodOptions.startOffline=options.startOffline),xodOptions}}}]);