(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[10694],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/RibbonItem/RibbonItem.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".RibbonItem{padding:0;border:none;background-color:transparent;cursor:pointer;color:var(--faded-text);white-space:nowrap;height:auto}.RibbonItem .Button{width:100%;padding:8px;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;grid-row-gap:4px;row-gap:4px;color:var(--faded-text);border-color:transparent;border-style:solid}.RibbonItem .Button.active{background-color:transparent}.RibbonItem .Button.active,.RibbonItem .Button.active .Icon{color:var(--ribbon-active-color)}.RibbonItem .Button:hover{background-color:transparent}.RibbonItem .Button:hover,.RibbonItem .Button:hover .Icon{color:var(--ribbon-hover-color)}.RibbonItem:not(.vertical) .Button{border-width:2px 0}.RibbonItem:not(.vertical) .Button.active{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--ribbon-active-color)}.RibbonItem:not(.vertical) .Button:hover{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--ribbon-hover-color)}.RibbonItem.vertical{white-space:wrap}.RibbonItem.vertical .Button{flex-direction:column;height:100%;border-width:0 2px}.RibbonItem.vertical .Button.active{border-bottom-left-radius:0;border-top-left-radius:0;border-inline-start-color:var(--ribbon-active-color)}.RibbonItem.vertical .Button:hover{border-bottom-left-radius:0;border-top-left-radius:0;border-inline-start-color:var(--ribbon-hover-color)}.RibbonItem .Button.focus-visible,.RibbonItem .Button:focus-visible{border-radius:0}",""]),module.exports=exports},"./src/components/Button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Button/Button.js").A},"./src/components/ModularComponents/RibbonItem/RibbonItem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/actions/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),components_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Button/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),helpers_translationKeyMapping__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/helpers/translationKeyMapping.js"),constants_customizationVariables__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/constants/customizationVariables.js"),constants_defaultTool__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/constants/defaultTool.js"),helpers_responsivenessHelper__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./src/components/ModularComponents/RibbonItem/RibbonItem.scss"),__webpack_require__("./src/helpers/responsivenessHelper.js")),core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/core/index.js"),_FlyoutItemContainer__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/ModularComponents/FlyoutItemContainer/index.js");const RibbonItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(((props,ref)=>{const elementRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),{t,ready:tReady}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_13__.B)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),{dataElement,title,disabled,img,label,groupedItems=[],direction,justifyContent,isFlyoutItem,toolbarGroup,ariaCurrent,style,className}=props,activeGroupedItems=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getActiveGroupedItems),activeCustomRibbon=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getActiveCustomRibbon),lastActiveToolForRibbon=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.getLastActiveToolForRibbon(state,dataElement))),isRibbonItemDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,dataElement))),customHeadersAdditionalProperties=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.getCustomHeadersAdditionalProperties(state))),firstRibbonItemTool=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFirstToolForRibbon(state,dataElement))),[isActive,setIsActive]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{elementRef.current&&(helpers_responsivenessHelper__WEBPACK_IMPORTED_MODULE_10__.Ay[dataElement]={width:elementRef.current.clientWidth,height:elementRef.current.clientHeight,visible:!0})}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(activeCustomRibbon===dataElement){setIsActive(!0);const ribbonItemTool=void 0===lastActiveToolForRibbon?firstRibbonItemTool:lastActiveToolForRibbon;core__WEBPACK_IMPORTED_MODULE_11__.A.setToolMode(ribbonItemTool)}else setIsActive(!1)}),[activeCustomRibbon,lastActiveToolForRibbon]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{activeCustomRibbon===dataElement?(dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setActiveGroupedItems(groupedItems)),setIsActive(!0)):setIsActive(!1)}),[activeCustomRibbon,groupedItems]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const hasNoActiveAndAssignedGroupedItems=0===activeGroupedItems.length&&0===groupedItems.length;groupedItems.length>0&&groupedItems.every((item=>activeGroupedItems.includes(item)))||hasNoActiveAndAssignedGroupedItems?setIsActive(!0):setIsActive(!1)}),[activeGroupedItems]);const onClick=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{if(groupedItems.length<1&&core__WEBPACK_IMPORTED_MODULE_11__.A.setToolMode(constants_defaultTool__WEBPACK_IMPORTED_MODULE_8__.A),!isActive){const ribbonItemTool=void 0===lastActiveToolForRibbon?firstRibbonItemTool:lastActiveToolForRibbon;dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setActiveGroupedItems(groupedItems)),dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setActiveCustomRibbon(dataElement)),setIsActive(!0),core__WEBPACK_IMPORTED_MODULE_11__.A.setToolMode(ribbonItemTool),groupedItems.length<1&&(core__WEBPACK_IMPORTED_MODULE_11__.A.getFormFieldCreationManager().endFormFieldCreationMode(),core__WEBPACK_IMPORTED_MODULE_11__.A.getContentEditManager().endContentEditMode())}}),[activeGroupedItems,activeCustomRibbon,isActive]);if(isRibbonItemDisabled)return null;let translatedLabel;return tReady&&(toolbarGroup?translatedLabel=t((0,helpers_translationKeyMapping__WEBPACK_IMPORTED_MODULE_14__.A)(toolbarGroup,customHeadersAdditionalProperties)):label&&(translatedLabel=t(label))),isFlyoutItem?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FlyoutItemContainer__WEBPACK_IMPORTED_MODULE_12__.A,{...props,ref,onClick,label:translatedLabel,title:translatedLabel||title}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()({RibbonItem:!0,vertical:direction===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_7__.M8.COLUMN,horizontal:direction===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_7__.M8.ROW,left:justifyContent!==constants_customizationVariables__WEBPACK_IMPORTED_MODULE_7__.JA.END,right:justifyContent===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_7__.JA.END,[className]:!0}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_5__.A,{isActive,dataElement,img,label:translatedLabel,title:translatedLabel||title,useI18String:!1,onClick,disabled,ariaCurrent:ariaCurrent||isActive,style,className})})}));RibbonItem.propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,title:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,img:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,groupedItems:prop_types__WEBPACK_IMPORTED_MODULE_15___default().array,direction:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,justifyContent:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,isFlyoutItem:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,iconDOMElement:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,toolbarGroup:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,ariaCurrent:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,style:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object,className:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string},RibbonItem.displayName="RibbonItem";const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(RibbonItem);RibbonItem.__docgenInfo={description:"",methods:[],displayName:"RibbonItem",props:{dataElement:{description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"string"},required:!1},groupedItems:{description:"",type:{name:"array"},required:!1},direction:{description:"",type:{name:"string"},required:!1},justifyContent:{description:"",type:{name:"string"},required:!1},isFlyoutItem:{description:"",type:{name:"bool"},required:!1},iconDOMElement:{description:"",type:{name:"any"},required:!1},toolbarGroup:{description:"",type:{name:"string"},required:!1},ariaCurrent:{description:"",type:{name:"string"},required:!1},style:{description:"",type:{name:"object"},required:!1},className:{description:"",type:{name:"string"},required:!1}}}},"./src/components/ModularComponents/RibbonItem/RibbonItem.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/RibbonItem/RibbonItem.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/RibbonItem/RibbonItem.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RibbonItems:()=>RibbonItems,RibbonItemsWithCustomStyleAndClass:()=>RibbonItemsWithCustomStyleAndClass,RibbonItemsWithHoverState:()=>RibbonItemsWithHoverState,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_RibbonItem__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/ModularComponents/RibbonItem/RibbonItem.js")),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_AppStories_mockAppState__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ModularComponents/AppStories/mockAppState.js"),storybook_test__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("storybook/test");const __WEBPACK_DEFAULT_EXPORT__={title:"ModularComponents/RibbonItem",component:_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A},initialState={viewer:{disabledElements:{},customElementOverrides:{},openElements:{},customPanels:[],genericPanels:[],headers:{},lastPickedToolForGroup:{},lastPickedToolGroup:{},toolButtonObjects:{},activeCustomRibbon:"Ribbon Item1",activeGroupedItems:[],customHeadersAdditionalProperties:{},modularComponents:_AppStories_mockAppState__WEBPACK_IMPORTED_MODULE_4__.j2,lastActiveToolForRibbon:{}}};let currentToolbarGroup=initialState.viewer.toolbarGroup;const initialStateActive=toolbarGroup=>(currentToolbarGroup=toolbarGroup,{viewer:{...initialState.viewer,activeCustomRibbon:toolbarGroup}}),store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.U1)({reducer:(state=initialState,action)=>{const{type,payload}=action;switch(type){case"SET_TOOLBAR_GROUP":return initialStateActive(payload.toolbarGroup);case"SET_ACTIVE_GROUPED_ITEMS":return initialStateActive(currentToolbarGroup);default:return initialState}}}),item1Props={dataElement:"Ribbon Item1",img:"icon-header-pan",title:"icon only",activeCustomRibbon:"toolbarGroup-View"},item2Props={dataElement:"Ribbon Item2",label:"label only",activeCustomRibbon:"toolbarGroup-Annotate"},item3Props={dataElement:"Ribbon Item3",label:"icon and label",img:"icon-header-pan",activeCustomRibbon:"toolbarGroup-Shapes"},item4Props={dataElement:"Ribbon Item1",img:"icon-header-pan",title:"icon only",activeCustomRibbon:"toolbarGroup-Insert",direction:"column"},item5Props={dataElement:"Ribbon Item2",label:"label only",activeCustomRibbon:"toolbarGroup-Measure",direction:"column",justifyContent:"end"},item6Props={dataElement:"Ribbon Item3",label:"icon and label",img:"icon-header-pan",activeCustomRibbon:"toolbarGroup-Edit",direction:"column"},horizontalRibbon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"flex",gap:"8px",backgroundColor:"white"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item1Props}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item2Props}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item3Props})]}),verticalRibbon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{margin:"22px",display:"flex",gap:"8px",flexFlow:"column",width:"80px",backgroundColor:"white"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item4Props}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item5Props}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item6Props})]}),RibbonItems=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:[horizontalRibbon(),verticalRibbon()]}),RibbonItemsWithHoverState=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:[verticalRibbon(),horizontalRibbon()]});RibbonItemsWithHoverState.parameters={pseudo:{hover:!0}};const RibbonItemsWithCustomStyleAndClass=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"flex",gap:"8px",backgroundColor:"white"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item1Props,style:{borderStyle:"dotted"},className:"ribbon-class"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item2Props,style:{color:"hotpink"},className:"ribbon-class"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_RibbonItem__WEBPACK_IMPORTED_MODULE_2__.A,{...item3Props,style:{border:"2px dotted blue"},className:"ribbon-class"})]})});RibbonItemsWithCustomStyleAndClass.parameters={pseudo:{hover:!0}},RibbonItemsWithCustomStyleAndClass.play=async({canvasElement})=>{canvasElement.querySelectorAll(".RibbonItem").forEach((item=>{(0,storybook_test__WEBPACK_IMPORTED_MODULE_5__.expect)(item.classList.contains("ribbon-class")).toBe(!0)}))};const __namedExportsOrder=["RibbonItems","RibbonItemsWithHoverState","RibbonItemsWithCustomStyleAndClass"]},"./src/helpers/responsivenessHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AX:()=>ResizingPromises,Ay:()=>__WEBPACK_DEFAULT_EXPORT__,QC:()=>useSizeStore,aG:()=>getCurrentFreeSpace,iG:()=>findItemToResize});var constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constants/customizationVariables.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/getRootNode.js");const sizeManager={},__WEBPACK_DEFAULT_EXPORT__=sizeManager,ResizingPromises={},useSizeStore=({dataElement,elementRef,headerDirection})=>{const store=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.Pj)(),getSize=()=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getCustomElementSize(store.getState(),dataElement),storeWidthWrapper=()=>(({dataElement,element,headerDirection,size})=>{if(element&&element.sizeManagerSize===size){const freeSpace=getCurrentFreeSpace({headerDirection,element});sizeManager[dataElement]||(sizeManager[dataElement]={});const boundingRect=element.getBoundingClientRect();sizeManager[dataElement].sizeToWidth={...sizeManager[dataElement].sizeToWidth?sizeManager[dataElement].sizeToWidth:{},[size]:boundingRect.width-(headerDirection===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.ROW?freeSpace:0)},sizeManager[dataElement].sizeToHeight={...sizeManager[dataElement].sizeToHeight?sizeManager[dataElement].sizeToHeight:{},[size]:boundingRect.height-(headerDirection===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.COLUMN?freeSpace:0)},resolvePromise(dataElement)}})({dataElement,element:elementRef.current,headerDirection,size:getSize()});ResizingPromises[dataElement]||queueResizingPromise(dataElement),(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{elementRef.current&&(elementRef.current.sizeManagerSize=getSize())}),[getSize()]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{sizeManager[dataElement]={...sizeManager[dataElement]?sizeManager[dataElement]:{},dataElement,storeWidth:storeWidthWrapper}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(!window.ResizeObserver||!window.MutationObserver)return console.error("Browser not support for header responsiveness");if(!elementRef.current)return;const resizeObserver=new ResizeObserver(storeWidthWrapper);resizeObserver.observe(elementRef.current);const mutationObserver=new MutationObserver(storeWidthWrapper);return mutationObserver.observe(elementRef.current,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),storeWidthWrapper(),()=>{resizeObserver.disconnect(),mutationObserver.disconnect()}}),[elementRef.current])},cssNonNumberValues=["auto","inherit","initial","unset","normal","revert","revert-layer","none"],getCSSValue=(style,property)=>{const value=style[property];return cssNonNumberValues.includes(value)?0:(pixel=value,Math.ceil(parseFloat(pixel.replace("px",""))));var pixel},getCurrentFreeSpace=({headerDirection=constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.ROW,element,isChild=!1})=>{const isVertical=headerDirection===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.COLUMN,widthOrHeight=isVertical?"height":"width",style=window.getComputedStyle(element),rect=element.getBoundingClientRect();if(isChild&&"0"===style.flexGrow)return 0;let calculatedFreeSpace=rect[widthOrHeight];for(const child of element.children)calculatedFreeSpace-=child.getBoundingClientRect()[widthOrHeight]-getCurrentFreeSpace({headerDirection,element:child,isChild:!0});const leftOrTop=isVertical?"Left":"Top",rightOrBottom=isVertical?"Right":"Bottom";if(calculatedFreeSpace-=getCSSValue(style,`padding${leftOrTop}`)+getCSSValue(style,`padding${rightOrBottom}`),calculatedFreeSpace-=getCSSValue(style,`margin${leftOrTop}`)+getCSSValue(style,`margin${rightOrBottom}`),calculatedFreeSpace-=getCSSValue(style,`border${leftOrTop}Width`)+getCSSValue(style,`border${rightOrBottom}Width`),element.children.length>1){const columnOrRow=isVertical?constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.COLUMN:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.ROW;calculatedFreeSpace-=getCSSValue(style,`${columnOrRow}Gap`)*(element.children.length-1)}return calculatedFreeSpace},SIZE_CHANGE_TYPES_GROW="grow",SIZE_CHANGE_TYPES_SHRINK="shrink",lastSizedElementMap={},findItemToResize=({items,freeSpace,headerDirection,parentDataElement})=>{if(0===freeSpace||!items||0===items.length)return null;const isVertical=headerDirection===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.M8.COLUMN;if(lastSizedElementMap[parentDataElement]){const lastSizedElement=lastSizedElementMap[parentDataElement],element=lastSizedElement.getElement(),hasToShrink=lastSizedElement.changeType===SIZE_CHANGE_TYPES_GROW&&freeSpace<0,hasToGrow=element.canGrow&&lastSizedElement.changeType===SIZE_CHANGE_TYPES_SHRINK&&freeSpace>0;if(hasToGrow&&element.canGrow){if(getGrowSizeIncrease({element,isVertical})>freeSpace)return null}if(hasToShrink||hasToGrow)return()=>{createSizeChange({parentDataElement,item:lastSizedElement,changeType:hasToShrink?SIZE_CHANGE_TYPES_SHRINK:SIZE_CHANGE_TYPES_GROW})}}const[itemList,groupedItemList]=sortResponsiveItems(items,parentDataElement);if(freeSpace>0){const itemToGrow=findItemToGrow(itemList,groupedItemList);if(!itemToGrow)return null;return getGrowSizeIncrease({element:sizeManager[itemToGrow.dataElement],isVertical})>freeSpace?null:()=>{createSizeChange({parentDataElement,item:itemToGrow,changeType:SIZE_CHANGE_TYPES_GROW})}}const itemToShrink=findItemToShrink(itemList,groupedItemList);return itemToShrink?()=>{createSizeChange({parentDataElement,item:itemToShrink,changeType:SIZE_CHANGE_TYPES_SHRINK})}:null},sortResponsiveItems=(items,parentDataElement)=>{const arrayToSearch=[...items],newItems=[],groupedItems=[];for(;arrayToSearch.length>0;){const item=arrayToSearch.pop();if(item.type===constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.Nt.GROUPED_ITEMS){const[innerItemList,innerGroupedItemList]=sortResponsiveItems(item.items,item.dataElement);newItems.push(...innerItemList),groupedItems.push(...innerGroupedItemList),groupedItems.push(item)}else constants_customizationVariables__WEBPACK_IMPORTED_MODULE_0__.YD.includes(item.type)&&newItems.push(item)}return groupedItems.push({dataElement:parentDataElement,type:"header"}),[newItems,groupedItems]},findItemToShrink=(items,groupedItems)=>{let searchIndex=0;for(;searchIndex<items.length;){const rawItem=items[searchIndex],item=sizeManager[rawItem.dataElement];if(item?.canShrink)return rawItem;searchIndex++}for(searchIndex=0;searchIndex<groupedItems.length;){const rawItem=groupedItems[searchIndex],item=sizeManager[rawItem.dataElement];if(item?.canShrink)return rawItem;searchIndex++}},findItemToGrow=(items,groupedItems)=>{let searchIndex=groupedItems.length-1;for(;searchIndex>=0;){const rawItem=groupedItems[searchIndex],item=sizeManager[rawItem.dataElement];if(item?.canGrow)return rawItem;searchIndex--}for(searchIndex=items.length-1;searchIndex>=0;){const rawItem=items[searchIndex],item=sizeManager[rawItem.dataElement];if(item?.canGrow)return rawItem;searchIndex--}},getGrowSizeIncrease=({element,isVertical})=>{const currentSize=element.size,sizeToGet=isVertical?"sizeToHeight":"sizeToWidth";return element[sizeToGet][currentSize-1]-element[sizeToGet][currentSize]},createSizeChange=({parentDataElement,item,changeType})=>{const{dataElement}=item,elementStack=getParentElements(dataElement);queueResizingPromise(dataElement);for(const element of elementStack)queueResizingPromise(element);lastSizedElementMap[parentDataElement]={changeType,getElement:()=>sizeManager[dataElement],dataElement},sizeManager[item.dataElement][changeType]()},getParentElements=dataElement=>{const stack=[];let element=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_4__.Ay)().querySelector(`[data-element="${dataElement}"]`);for(;element?.parentElement;){element=element.parentElement;const dataElement=element.dataset.element;if(dataElement&&stack.push(dataElement),element.classList.contains("ModularHeaderItems"))break}return stack},queueResizingPromise=dataElement=>{const promiseCapability={};promiseCapability.promise=new Promise(((resolve,reject)=>{let timeout=setTimeout((()=>sizeManager[dataElement].storeWidth()),200);promiseCapability.resolve=()=>{clearTimeout(timeout),resolve()},promiseCapability.reject=reject})),ResizingPromises[dataElement]=promiseCapability},resolvePromise=dataElement=>{ResizingPromises[dataElement].resolve()}},"./src/helpers/translationKeyMapping.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getToolbarTranslationString(group,map){const customHeaderProperties=map[group];return customHeaderProperties&&customHeaderProperties.name?customHeaderProperties.name:`option.toolbarGroup.${group}`}__webpack_require__.d(__webpack_exports__,{A:()=>getToolbarTranslationString})}}]);