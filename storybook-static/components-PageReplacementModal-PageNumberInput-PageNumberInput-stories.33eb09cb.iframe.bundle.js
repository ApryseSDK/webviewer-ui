/*! For license information please see components-PageReplacementModal-PageNumberInput-PageNumberInput-stories.33eb09cb.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[37214],{"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType)if(arg.toString===Object.prototype.toString)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key);else classes.push(arg.toString())}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".PageNumberInput{cursor:default}.PageNumberInput .input-wrapper{position:relative;display:flex;align-items:center}.PageNumberInput .input-wrapper .Icon{position:absolute;inset-inline-end:8px;color:var(--error-border-color)}.PageNumberInput .page-number-input{padding:6px!important;width:108px;height:32px}.PageNumberInput .page-number-input.page-number-input--error{padding-inline-end:30px;border-color:var(--error-border-color)!important}.PageNumberInput .page-number-input::-moz-placeholder{color:var(--gray-6)}.PageNumberInput .page-number-input::placeholder{color:var(--gray-6)}.PageNumberInput .page-number-input::-moz-placeholder.error{border-color:var(--error-text-color)}.PageNumberInput .page-number-input::placeholder.error{border-color:var(--error-text-color)}.PageNumberInput .page-number-error{color:var(--error-text-color);margin-top:8px;position:absolute;width:100%}",""]),module.exports=exports},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/components/Icon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Icon/Icon.js").A},"./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),helpers_getPageArrayFromString__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/getPageArrayFromString.js"),components_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Icon/index.js");__webpack_require__("./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.scss");const propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,selectedPageNumbers:prop_types__WEBPACK_IMPORTED_MODULE_6___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default().number),pageCount:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,pageNumberError:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,onBlurHandler:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,onError:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,onSelectedPageNumbersChange:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,customPageLabels:prop_types__WEBPACK_IMPORTED_MODULE_6___default().array,enablePageLabels:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool},noop=()=>{};function PageNumberInput({id,selectedPageNumbers,pageCount,enablePageLabels=!1,customPageLabels=null,placeholder,pageNumberError,onSelectedPageNumbersChange,ariaLabel,onError=noop,onBlurHandler=noop}){let pageLabels=Array.from({length:pageCount},((_,i)=>(i+1).toString()));const[pageString,setPageString]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[hasError,setHasError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{selectedPageNumbers&&setPageString(getPageString(selectedPageNumbers))}),[selectedPageNumbers]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setHasError(!!pageNumberError)}),[pageNumberError]);const getPageString=selectedPageArray=>{let pagesToPrint="";const sortedPages=selectedPageArray.sort(((a,b)=>a-b));let prevIndex=null;for(let i=0;sortedPages.length>i;i++)sortedPages[i+1]===sortedPages[i]+1?prevIndex=null!==prevIndex?prevIndex:sortedPages[i]:null!==prevIndex?(pagesToPrint=`${pagesToPrint}${prevIndex}-${sortedPages[i]}, `,prevIndex=null):pagesToPrint=`${pagesToPrint}${sortedPages[i]}, `;return pagesToPrint.slice(0,-2)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"PageNumberInput",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({"page-number-input":!0,"page-number-input--error":hasError}),id,type:"text",onChange:e=>{const inputValue=e.target.value,lastChar=inputValue[inputValue.length-1];if(","===lastChar||"-"===lastChar||" "===lastChar)return void setPageString(inputValue);setPageString(inputValue),enablePageLabels&&customPageLabels&&(pageLabels=customPageLabels);const selectedPagesString=e.target.value.replace(/ /g,""),pageNumbersArray=selectedPagesString?(0,helpers_getPageArrayFromString__WEBPACK_IMPORTED_MODULE_3__.A)(selectedPagesString,pageLabels,pageCount,onError):[];onSelectedPageNumbersChange&&onSelectedPageNumbersChange(pageNumbersArray)},onBlur:e=>{enablePageLabels&&customPageLabels&&(pageLabels=customPageLabels);const selectedPagesString=e.target.value.replace(/ /g,""),pageNumbersArray=selectedPagesString?(0,helpers_getPageArrayFromString__WEBPACK_IMPORTED_MODULE_3__.A)(selectedPagesString,pageLabels,pageCount,onError):[],pageNumbersString=getPageString(pageNumbersArray);setPageString(pageNumbersString),onBlurHandler&&onBlurHandler(pageNumbersArray)},"aria-label":ariaLabel,value:pageString,placeholder,"aria-describedby":hasError?"PageNumberInputError":void 0}),hasError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{glyph:"icon-alert"})]}),hasError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{id:"PageNumberInputError",className:"page-number-error",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{"aria-live":"assertive",className:"no-margin",children:pageNumberError})})]})}PageNumberInput.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=PageNumberInput;PageNumberInput.__docgenInfo={description:"",methods:[],displayName:"PageNumberInput",props:{enablePageLabels:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},customPageLabels:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"array"},required:!1},onError:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},onBlurHandler:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},id:{description:"",type:{name:"string"},required:!1},selectedPageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},pageCount:{description:"",type:{name:"number"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},pageNumberError:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"",type:{name:"string"},required:!1},onSelectedPageNumbersChange:{description:"",type:{name:"func"},required:!1}}}},"./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,BasicWithError:()=>BasicWithError,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_PageNumberInput__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/PageReplacementModal/PageNumberInput/PageNumberInput.js")),storybook_test__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("storybook/test");function noop(){}const __WEBPACK_DEFAULT_EXPORT__={title:"Components/PageReplacementModal/PageNumberInput",component:_PageNumberInput__WEBPACK_IMPORTED_MODULE_2__.A},PageNumberInputTemplate=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PageNumberInput__WEBPACK_IMPORTED_MODULE_2__.A,{...args}),Basic=PageNumberInputTemplate.bind({});Basic.args={selectedPageNumbers:[],onSelectedPageNumbersChange:noop,pageCount:10},Basic.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const BasicWithError=PageNumberInputTemplate.bind({});BasicWithError.args={selectedPageNumbers:[],onSelectedPageNumbersChange:noop,pageCount:10,pageNumberError:"Error message"},BasicWithError.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}},BasicWithError.play=async()=>{const textInput=await document.querySelector(".page-number-input");(0,storybook_test__WEBPACK_IMPORTED_MODULE_3__.expect)(textInput).toBeInTheDocument(),await storybook_test__WEBPACK_IMPORTED_MODULE_3__.userEvent.type(textInput,"Some text",{delay:100});const pElement=await document.querySelector(".page-number-error p");(0,storybook_test__WEBPACK_IMPORTED_MODULE_3__.expect)(pElement).toBeInTheDocument(),(0,storybook_test__WEBPACK_IMPORTED_MODULE_3__.expect)(pElement.getAttribute("aria-live")).not.toBeNull};const __namedExportsOrder=["Basic","BasicWithError"]},"./src/helpers/getPageArrayFromString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=(customInput,pageLabels,totalPages=core__WEBPACK_IMPORTED_MODULE_0__.A.getTotalPages(),onError=()=>{})=>{const pagesToPrint=[];if(!customInput){for(let i=1;i<=totalPages;i++)pagesToPrint.push(i);return pagesToPrint}return customInput.split(",").forEach((pageGroup=>{const range=pageGroup.split("-"),isSinglePage=1===range.length,isRangeOfPages=2===range.length;if(isSinglePage){const page=getPageNumber(range[0],pageLabels,totalPages,onError);pagesToPrint.push(page)}else isRangeOfPages&&addRangeOfPagesTo(pagesToPrint,range,pageLabels,totalPages,onError)})),pagesToPrint.filter(((pageNumber,index,pagesToPrint)=>pagesToPrint.indexOf(pageNumber)===index&&(pageNumber>0&&pageNumber<=totalPages))).sort(((a,b)=>a-b))},addRangeOfPagesTo=(pagesToPrint,range,pageLabels,totalPages,onError)=>{const start=getPageNumber(range[0],pageLabels,totalPages,onError);let end;end=""===range[1]?core__WEBPACK_IMPORTED_MODULE_0__.A.getTotalPages():getPageNumber(range[1],pageLabels,totalPages,onError);for(let i=start;i<=end;i++)pagesToPrint.push(i)},getPageNumber=(character,pageLabels,totalPages,onError)=>{const pageIndex=pageLabels?.indexOf(character);let pageNumber;return-1===pageIndex&&!isNaN(character)&&+character>0&&+character<=totalPages?+character:(-1===pageIndex?(onError&&onError(character),console.warn(`${character} is not a valid page label`)):pageNumber=pageIndex+1,pageNumber)}}}]);