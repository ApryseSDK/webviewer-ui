"use strict";(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[1873],{"./src/components/PageManipulationOverlay/PageAdditionalControls/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageAdditionalControls});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useTranslation=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js")),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageAdditionalControls(props){const{t}=(0,useTranslation.B)(),{moveToTop,moveToBottom}=props;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:"pageAdditionalControlsHeader",className:"type","aria-label":"presentation",children:t("option.thumbnailsControlOverlay.move")}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:"moveToTop",onClick:moveToTop,children:[(0,jsx_runtime.jsx)(Button.A,{title:"action.movePageToTop",img:"icon-page-move-up",role:"option",onClick:moveToTop}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.moveToTop")})]}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:"moveToBottom",onClick:moveToBottom,children:[(0,jsx_runtime.jsx)(Button.A,{title:"action.movePageToBottom",img:"icon-page-move-down",role:"option",onClick:moveToBottom}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.moveToBottom")})]})]})}const PageAdditionalControls_PageAdditionalControls=PageAdditionalControls;PageAdditionalControls.__docgenInfo={description:"",methods:[],displayName:"PageAdditionalControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),actions=__webpack_require__("./src/redux/actions/index.js"),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");const propTypes={pageIndexes:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageAdditionalControlsContainer(props){const dispatch=(0,es.wA)(),{pageNumbers,warn}=props;return(0,jsx_runtime.jsx)(PageAdditionalControls_PageAdditionalControls,{moveToTop:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gP)(pageNumbers):(0,pageManipulationFunctions.gP)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},moveToBottom:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Iw)(pageNumbers):(0,pageManipulationFunctions.Iw)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageAdditionalControlsContainer.propTypes=propTypes;const PageAdditionalControls_PageAdditionalControlsContainer=PageAdditionalControlsContainer;PageAdditionalControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageAdditionalControlsContainer",props:{pageIndexes:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageAdditionalControls=PageAdditionalControls_PageAdditionalControlsContainer},"./src/components/PageManipulationOverlay/PageManipulationControls/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageManipulationControls});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),es=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js")),selectors=__webpack_require__("./src/redux/selectors/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageManipulationControls(props){const{t}=(0,useTranslation.B)(),{deletePages,extractPages,insertPages,replacePages}=props;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:"pageManipulationHeader",className:"type",children:t("action.pageManipulation")}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:"insertPage",onClick:insertPages,children:[(0,jsx_runtime.jsx)(Button.A,{title:"action.insertPage",img:"icon-page-insertion-insert",role:"option",onClickAnnouncement:`${t("action.insertPage")} ${t("action.modal")} ${t("action.isOpen")}`}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.insert")})]}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:"replacePage",onClick:replacePages,children:[(0,jsx_runtime.jsx)(Button.A,{title:"action.replacePage",img:"icon-page-replacement",role:"option",onClickAnnouncement:`${t("action.replacePage")} ${t("action.modal")} ${t("action.isOpen")}`}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.replace")})]}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:"extractPage",onClick:extractPages,children:[(0,jsx_runtime.jsx)(Button.A,{title:"action.extractPage",img:"icon-page-manipulation-extract",role:"option",onClickAnnouncement:`${t("action.extractPage")} ${t("action.modal")} ${t("action.isOpen")}`}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.extract")})]}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:"deletePage",className:"row",onClick:deletePages,children:[(0,jsx_runtime.jsx)(Button.A,{title:"option.thumbnailPanel.delete",img:"icon-delete-line",role:"option",onClickAnnouncement:`${t("action.delete")} ${t("action.modal")} ${t("action.isOpen")}`}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.delete")})]})]})}const PageManipulationControls_PageManipulationControls=PageManipulationControls;PageManipulationControls.__docgenInfo={description:"",methods:[],displayName:"PageManipulationControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),actions=__webpack_require__("./src/redux/actions/index.js"),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");const propTypes={pageNumbers:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageManipulationControlsContainer(props){const dispatch=(0,es.wA)(),{pageNumbers,warn}=props,[isPageDeletionConfirmationModalEnabled]=(0,es.d4)((state=>[selectors.A.pageDeletionConfirmationModalEnabled(state)])),openInsertPageModal=()=>{dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY)),dispatch(actions.A.openElement("insertPageModal"))};return(0,jsx_runtime.jsx)(PageManipulationControls_PageManipulationControls,{insertPages:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&openInsertPageModal():openInsertPageModal(),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},deletePages:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,isPageDeletionConfirmationModalEnabled):(0,pageManipulationFunctions.Gt)(pageNumbers,dispatch,isPageDeletionConfirmationModalEnabled),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},extractPages:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.ut)(pageNumbers,dispatch):(0,pageManipulationFunctions.ut)(pageNumbers,dispatch),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},replacePages:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.HC)(dispatch):(0,pageManipulationFunctions.HC)(dispatch),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageManipulationControlsContainer.propTypes=propTypes;const PageManipulationControls_PageManipulationControlsContainer=PageManipulationControlsContainer;PageManipulationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageManipulationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageManipulationControls=PageManipulationControls_PageManipulationControlsContainer},"./src/components/PageManipulationOverlay/PageManipulationOverlay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PageManipulationOverlay_PageManipulationOverlay});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),actions=__webpack_require__("./src/redux/actions/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Button=__webpack_require__("./src/components/Button/index.js");function PageRotationControls(props){const{t}=(0,useTranslation.B)(),{rotateClockwise,rotateCounterClockwise}=props;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:"pageRotationHeader",className:"type",children:t("action.rotate")}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:"rotatePageClockwise",className:"row",onClick:rotateClockwise,children:[(0,jsx_runtime.jsx)(Button.A,{title:"option.thumbnailPanel.rotatePageClockwise",img:"icon-header-page-manipulation-page-rotation-clockwise-line",role:"option"}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("option.thumbnailPanel.rotateClockwise")})]}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:"rotatePageCounterClockwise",className:"row",onClick:rotateCounterClockwise,children:[(0,jsx_runtime.jsx)(Button.A,{title:"option.thumbnailPanel.rotatePageCounterClockwise",img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",role:"option"}),(0,jsx_runtime.jsx)("div",{className:"title",children:t("option.thumbnailPanel.rotateCounterClockwise")})]})]})}const PageRotationControls_PageRotationControls=PageRotationControls;PageRotationControls.__docgenInfo={description:"",methods:[],displayName:"PageRotationControls"};var pageManipulationFunctions=__webpack_require__("./src/helpers/pageManipulationFunctions.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");const propTypes={pageNumbers:prop_types_default().arrayOf(prop_types_default().number),warn:prop_types_default().bool};function PageRotationControlsContainer(props){const dispatch=(0,es.wA)(),{pageNumbers,warn}=props;return(0,jsx_runtime.jsx)(PageRotationControls_PageRotationControls,{rotateCounterClockwise:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.cV)(pageNumbers):(0,pageManipulationFunctions.cV)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))},rotateClockwise:()=>{warn?!(0,pageManipulationFunctions.zd)(pageNumbers,dispatch)&&(0,pageManipulationFunctions.gH)(pageNumbers):(0,pageManipulationFunctions.gH)(pageNumbers),(0,device.Fr)()&&dispatch(actions.A.closeElement(dataElement.A.PAGE_MANIPULATION_OVERLAY))}})}PageRotationControlsContainer.propTypes=propTypes;const PageRotationControls_PageRotationControlsContainer=PageRotationControlsContainer;PageRotationControlsContainer.__docgenInfo={description:"",methods:[],displayName:"PageRotationControlsContainer",props:{pageNumbers:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},warn:{description:"",type:{name:"bool"},required:!1}}};const PageManipulationOverlay_PageRotationControls=PageRotationControls_PageRotationControlsContainer;var PageManipulationControls=__webpack_require__("./src/components/PageManipulationOverlay/PageManipulationControls/index.js"),PageAdditionalControls=__webpack_require__("./src/components/PageManipulationOverlay/PageAdditionalControls/index.js");function CustomPageManipulationOperations(props){const{dataElement,pageNumbers,header,operations}=props;function renderIcon(operation){if(operation.img)return(0,jsx_runtime.jsx)(Button.A,{title:operation.title,img:operation.img,role:"option"})}return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement,className:"type",children:header}),operations.map((operation=>(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"row",dataElement:operation.dataElement,onClick:()=>operation.onClick(pageNumbers),children:[renderIcon(operation),(0,jsx_runtime.jsx)("div",{className:"title",children:operation.title})]},operation.dataElement)))]})}const CustomPageManipulationOperations_CustomPageManipulationOperations=CustomPageManipulationOperations;CustomPageManipulationOperations.__docgenInfo={description:"",methods:[],displayName:"CustomPageManipulationOperations"};const PageManipulationOverlay_CustomPageManipulationOperations=CustomPageManipulationOperations_CustomPageManipulationOperations;var types=__webpack_require__("./src/constants/types.js"),core=__webpack_require__("./src/core/index.js");function InitialPageManipulationOverlay({children,pageNumbers,pageManipulationOverlayItems}){const childrenArray=react.Children.toArray(children);return pageManipulationOverlayItems.map(((item,index)=>{const{dataElement,type}=item;let component=childrenArray.find((child=>child.props.dataElement===dataElement));const key=dataElement||`${type}-${index}`;return component||("divider"===type&&(component=(0,jsx_runtime.jsx)("div",{className:"divider"})),"customPageOperation"===type&&(component=(0,jsx_runtime.jsx)(PageManipulationOverlay_CustomPageManipulationOperations,{pageNumbers,...item},dataElement))),component?react.cloneElement(component,{key}):null}))}function PageManipulationOverlay(props){const{pageNumbers,pageManipulationOverlayItems}=props,dispatch=(0,es.wA)(),closeOverlay=(0,react.useCallback)((()=>{dispatch(actions.A.setPageManipulationOverlayAlternativePosition(null)),dispatch(actions.A.closeElements([dataElement.A.PAGE_MANIPULATION_OVERLAY]))}),[dispatch]),document=core.A.getDocument(),documentType=document?.type,isXod=documentType===types._.XOD,isOffice=documentType===types._.OFFICE||documentType===types._.LEGACY_OFFICE;let filteredPageManipulationOverlayItems=pageManipulationOverlayItems;if(isXod||isOffice){const removedIndices=filteredPageManipulationOverlayItems.reduce(((acc,{dataElement},index)=>("pageAdditionalControls"===dataElement&&(acc.push(index),"divider"===filteredPageManipulationOverlayItems[index+1]?.type&&acc.push(index+1)),"pageManipulationControls"===dataElement&&(acc.push(index),"divider"===filteredPageManipulationOverlayItems[index-1]?.type&&acc.push(index-1)),acc)),[]);filteredPageManipulationOverlayItems=filteredPageManipulationOverlayItems.filter(((_,index)=>!removedIndices.includes(index)))}return(0,react.useEffect)((()=>(core.A.addEventListener("documentLoaded",closeOverlay),()=>{core.A.removeEventListener("documentLoaded",closeOverlay)})),[]),(0,jsx_runtime.jsxs)(InitialPageManipulationOverlay,{pageNumbers,pageManipulationOverlayItems:filteredPageManipulationOverlayItems,children:[!isXod&&!isOffice&&(0,jsx_runtime.jsx)(PageAdditionalControls.A,{pageNumbers,dataElement:"pageAdditionalControls"}),(0,jsx_runtime.jsx)(PageManipulationOverlay_PageRotationControls,{pageNumbers,dataElement:"pageRotationControls"}),!isXod&&!isOffice&&(0,jsx_runtime.jsx)(PageManipulationControls.A,{pageNumbers,dataElement:"pageManipulationControls"})]})}const PageManipulationOverlay_PageManipulationOverlay=PageManipulationOverlay;PageManipulationOverlay.__docgenInfo={description:"",methods:[],displayName:"PageManipulationOverlay"}}}]);