(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[3674],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineControls/OutlineControls.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlinesPanel/OutlinesPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}.OutlinesPanel.custom-panel .bookmark-outline-single-container.hover,.OutlinesPanel.custom-panel .bookmark-outline-single-container.selected{border:1px solid var(--outline-selected-border)}.OutlinesPanel.custom-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen{display:block}.OutlinesPanel.custom-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen .Icon{color:var(--blue-5)}.OutlinesPanel.custom-panel .bookmark-outline-single-container.default.hover:not(.selected),.OutlinesPanel.custom-panel .bookmark-outline-single-container.default:hover:not(.selected){background:none}.OutlinesPanel.custom-panel .bookmark-outline-single-container .bookmark-outline-input:active{border-color:var(--focus-border)}.Panel.OutlinesPanel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}",""]),module.exports=exports},"./src/components/OutlineControls/OutlineControls.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineControls/OutlineControls.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/OutlinesPanel/OutlinesPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlinesPanel/OutlinesPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/OutlinesPanel/OutlinesPanel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_OutlinesPanel_OutlinesPanel});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DndProvider=__webpack_require__("./node_modules/react-dnd/dist/esm/core/DndProvider.js"),device=__webpack_require__("./src/helpers/device.js"),esm=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/index.js"),dist_esm=__webpack_require__("./node_modules/react-dnd-touch-backend/dist/esm/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Context=__webpack_require__("./src/components/Outline/Context.js"),core=__webpack_require__("./src/core/index.js"),OutlineUtils=__webpack_require__("./src/helpers/OutlineUtils.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),dataElement=(__webpack_require__("./src/components/OutlineControls/OutlineControls.scss"),__webpack_require__("./src/constants/dataElement.js"));function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var OutlineControls_OutlineControls=function(){var outlines=(0,es.d4)((function(state){return selectors.A.getOutlines(state)})),_useContext=(0,react.useContext)(Context.A),activeOutlinePath=_useContext.activeOutlinePath,setActiveOutlinePath=_useContext.setActiveOutlinePath,updateOutlines=_useContext.updateOutlines,_useState=_sliced_to_array((0,react.useState)({up:!1,down:!1,outward:!1,inward:!1}),2),canMove=_useState[0],setCanMove=_useState[1],nextIndexRef=(0,react.useRef)(null),t=_sliced_to_array((0,useTranslation.B)(),1)[0];(0,react.useEffect)((function(){if(core.A.isFullPDFEnabled()){var _ref,setCanMoveState=(_ref=_async_to_generator((function(){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.getCanMoveState(activeOutlinePath)];case 1:return setCanMove.apply(void 0,[_state.sent()]),[2]}}))})),function setCanMoveState(){return _ref.apply(this,arguments)});setCanMoveState()}}),[activeOutlinePath]),(0,react.useEffect)((function(){null!==nextIndexRef.current&&(setActiveOutlinePath(nextIndexRef.current),nextIndexRef.current=null)}),[outlines,setActiveOutlinePath]);var _ref,moveOutlineUp=(_ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineUp(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))})),function moveOutlineUp(){return _ref.apply(this,arguments)}),moveOutlineDown=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineDown(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineDown(){return _ref.apply(this,arguments)}}(),moveOutlineOutward=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineOutward(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineOutward(){return _ref.apply(this,arguments)}}(),moveOutlineInward=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineInward(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineInward(){return _ref.apply(this,arguments)}}();return react.createElement(DataElementWrapper.A,{className:"OutlineControls",dataElement:dataElement.A.OUTLINE_CONTROLS},react.createElement("span",{className:"reorderText"},t("option.bookmarkOutlineControls.reorder")),react.createElement(Button.A,{img:"icon-arrow-up",disabled:!canMove.up,onClick:moveOutlineUp,dataElement:dataElement.A.OUTLINE_MOVE_UP_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-down",disabled:!canMove.down,onClick:moveOutlineDown,dataElement:dataElement.A.OUTLINE_MOVE_DOWN_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-left",disabled:!canMove.outward,onClick:moveOutlineOutward,dataElement:dataElement.A.OUTLINE_MOVE_OUTWARD_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-right",disabled:!canMove.inward,onClick:moveOutlineInward,dataElement:dataElement.A.OUTLINE_MOVE_INWARD_BUTTON}))};const components_OutlineControls_OutlineControls=OutlineControls_OutlineControls;OutlineControls_OutlineControls.__docgenInfo={description:"",methods:[],displayName:"OutlineControls"};const components_OutlineControls=components_OutlineControls_OutlineControls;components_OutlineControls_OutlineControls.__docgenInfo={description:"",methods:[],displayName:"OutlineControls"};var Outline=__webpack_require__("./src/components/Outline/Outline.js");const components_Outline=Outline.A;Outline.A.__docgenInfo={description:"",methods:[{name:"getNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Outline",props:{outline:{description:"",type:{name:"object"},required:!0},setMultiSelected:{description:"",type:{name:"func"},required:!1},moveOutlineInward:{description:"",type:{name:"func"},required:!0},moveOutlineBeforeTarget:{description:"",type:{name:"func"},required:!0},moveOutlineAfterTarget:{description:"",type:{name:"func"},required:!0},connectDragSource:{description:"",type:{name:"func"},required:!1},connectDragPreview:{description:"",type:{name:"func"},required:!1},connectDropTarget:{description:"",type:{name:"func"},required:!1},isDragging:{description:"",type:{name:"bool"},required:!1},isDraggedUpwards:{description:"",type:{name:"bool"},required:!1},isDraggedDownwards:{description:"",type:{name:"bool"},required:!1}}};var OutlineContent=__webpack_require__("./src/components/OutlineContent/index.js"),defaultTool=__webpack_require__("./src/constants/defaultTool.js"),actions=__webpack_require__("./src/redux/actions/index.js"),useDragLayer=(__webpack_require__("./src/constants/bookmarksOutlinesShared.scss"),__webpack_require__("./src/components/OutlinesPanel/OutlinesPanel.scss"),__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDragLayer.js")),dnd=__webpack_require__("./src/constants/dnd.js"),layerStyles={position:"fixed",pointerEvents:"none",zIndex:99999,left:0,top:0,width:"100%",height:"100%"},getItemStyles=function(initialOffset,currentOffset){if(!initialOffset||!currentOffset)return{display:"none"};var x=currentOffset.x,y=currentOffset.y,transform="translate(calc(".concat(x,"px - 50%), calc(").concat(y,"px - 100%))");return{transform,WebkitTransform:transform}},OutlinesDragLayer=function(){var _useDragLayer=(0,useDragLayer.V)((function(dragLayerState){return{itemType:dragLayerState.getItemType(),item:dragLayerState.getItem(),isDragging:dragLayerState.isDragging(),initialOffset:dragLayerState.getInitialSourceClientOffset(),currentOffset:dragLayerState.getClientOffset()}})),itemType=_useDragLayer.itemType,item=_useDragLayer.item,isDragging=_useDragLayer.isDragging,initialOffset=_useDragLayer.initialOffset,currentOffset=_useDragLayer.currentOffset;return isDragging?react.createElement("div",{style:layerStyles},react.createElement("div",{className:"bookmark-outline-single-container preview",style:getItemStyles(initialOffset,currentOffset)},function(){if(!item)return null;var dragOutline=item.dragOutline;return itemType===dnd.ll.OUTLINE?react.createElement(react.Fragment,null,dragOutline.getName()):null}())):null};OutlinesDragLayer.__docgenInfo={description:"",methods:[],displayName:"OutlinesDragLayer"};var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);function OutlinesPanel_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OutlinesPanel_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function OutlinesPanel_sliced_to_array(arr,i){return function OutlinesPanel_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function OutlinesPanel_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||OutlinesPanel_unsupported_iterable_to_array(arr,i)||function OutlinesPanel_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return OutlinesPanel_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||OutlinesPanel_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OutlinesPanel_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return OutlinesPanel_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OutlinesPanel_array_like_to_array(o,minLen):void 0}}function OutlinesPanel_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var OutlinesPanel_OutlinesPanel=function(){var _useSelector=OutlinesPanel_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementDisabled(state,dataElement.A.OUTLINE_PANEL),selectors.A.getOutlines(state),selectors.A.isOutlineControlVisible(state),selectors.A.getOutlineEditingEnabled(state),selectors.A.shouldAutoExpandOutlines(state),selectors.A.getCurrentPage(state),selectors.A.getPageLabels(state),selectors.A.getFeatureFlags(state)]}),es.bN),8),isDisabled=_useSelector[0],outlines=_useSelector[1],outlineControlVisibility=_useSelector[2],outlineEditingEnabled=_useSelector[3],shouldAutoExpandOutlines=_useSelector[4],currentPage=_useSelector[5],pageLabels=_useSelector[6],featureFlags=_useSelector[7],defaultDestText="Full Page",areaDestinationText="Area Selection",defaultDestCoord={x:0,y:0},_useState=OutlinesPanel_sliced_to_array((0,react.useState)(defaultDestText),2),currentDestText=_useState[0],setCurrentDestText=_useState[1],_useState1=OutlinesPanel_sliced_to_array((0,react.useState)(defaultDestCoord),2),currentDestCoord=_useState1[0],setCurrentDestCoord=_useState1[1],_useState2=OutlinesPanel_sliced_to_array((0,react.useState)(currentPage),2),currentDestPage=_useState2[0],setCurrentDestPage=_useState2[1],_useState3=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isOutlineEditable=_useState3[0],setOutlineEditable=_useState3[1],_useState4=OutlinesPanel_sliced_to_array((0,react.useState)(null),2),activeOutlinePath=_useState4[0],setActiveOutlinePath=_useState4[1],_useState5=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isAddingNewOutline=_useState5[0],setAddingNewOutline=_useState5[1],_useState6=OutlinesPanel_sliced_to_array((0,react.useState)({}),2),editingOutlines=_useState6[0],setEditingOutlines=_useState6[1],_useState7=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isAnyOutlineRenaming=_useState7[0],setAnyOutlineRenaming=_useState7[1],_useState8=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isMultiSelectMode=_useState8[0],setMultiSelectMode=_useState8[1],_useState9=OutlinesPanel_sliced_to_array((0,react.useState)([]),2),selectedOutlines=_useState9[0],setSelectedOutlines=_useState9[1],customizableUI=featureFlags.customizableUI,t=OutlinesPanel_sliced_to_array((0,useTranslation.B)(),1)[0],dispatch=(0,es.wA)(),nextPathRef=(0,react.useRef)(null),TOOL_NAME="OutlineDestinationCreateTool",tool=core.A.getTool(TOOL_NAME),panelRef=(0,react.useRef)();(0,react.useLayoutEffect)((function(){setAddingNewOutline(!1),null!==nextPathRef.current&&(setActiveOutlinePath(nextPathRef.current),nextPathRef.current=null),0===outlines.length&&setMultiSelectMode(!1)}),[outlines]),(0,react.useEffect)((function(){setOutlineEditable(core.A.isFullPDFEnabled()&&outlineEditingEnabled)}),[outlineEditingEnabled]),(0,react.useEffect)((function(){var isAnyEditing=Object.values(editingOutlines).some((function(value){return value}));setAnyOutlineRenaming(isAnyEditing)}),[editingOutlines,outlines]),(0,react.useEffect)((function(){var onSetDestination=function(annotation){setCurrentDestText(annotation.IsText?annotation.getCustomData("trn-annot-preview"):areaDestinationText),setCurrentDestCoord({x:annotation.X,y:annotation.Y}),setCurrentDestPage(annotation.PageNumber)},onOutlinesBookmarksChanged=function(){core.A.getOutlines((function(outlines){dispatch(actions.A.setOutlines(outlines))}))},onDocumentLoaded=function(){setActiveOutlinePath(null)};return core.A.addEventListener("outlineSetDestination",onSetDestination),window.addEventListener("outlineBookmarksChanged",onOutlinesBookmarksChanged),core.A.addEventListener("documentLoaded",onDocumentLoaded),function(){core.A.removeEventListener("outlineSetDestination",onSetDestination),window.removeEventListener("outlineBookmarksChanged",onOutlinesBookmarksChanged),core.A.removeEventListener("documentLoaded",onDocumentLoaded)}}),[]),(0,react.useEffect)((function(){var handlePanelClick=function(event){event.target.classList.contains("bookmark-outline-row")&&(setActiveOutlinePath(null),setSelectedOutlines([]))};return panelRef.current&&panelRef.current.addEventListener("click",handlePanelClick),function(){panelRef.current&&panelRef.current.removeEventListener("click",handlePanelClick)}}),[]);var _ref,getCurrentDestViewerCoord=function(pageNum,param){var x=param.x,y=param.y;return core.A.getDocumentViewer().getDocument().getViewerCoordinates(pageNum,x,y)},addNewOutline=(_ref=OutlinesPanel_async_to_generator((function(name){var _getCurrentDestViewerCoord,x,y,outlineName,doc,pageRotation,tmp;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return _getCurrentDestViewerCoord=getCurrentDestViewerCoord(currentDestPage,currentDestCoord),x=_getCurrentDestViewerCoord.x,y=_getCurrentDestViewerCoord.y,outlineName=name,[defaultDestText,areaDestinationText].includes(currentDestText)||name?name||(outlineName=t("message.untitled")):outlineName=currentDestText.slice(0,40),doc=core.A.getDocumentViewer().getDocument(),(pageRotation=doc.getPageRotation(currentDestPage)/90)!==window.Core.PageRotation.E_90&&pageRotation!==window.Core.PageRotation.E_270||(tmp=x,x=y,y=tmp),0!==outlines.length?[3,2]:[4,OutlineUtils.A.addRootOutline(outlineName,currentDestPage,x,y,0)];case 1:return _state.sent(),[3,4];case 2:return[4,OutlineUtils.A.addNewOutline(outlineName,activeOutlinePath,currentDestPage,x,y,0)];case 3:_state.sent(),_state.label=4;case 4:return updateOutlines(),[2]}}))})),function addNewOutline(name){return _ref.apply(this,arguments)}),updateOutlines=function(){core.A.getOutlines((function(outlines){dispatch(actions.A.setOutlines(outlines))})),clearOutlineDestination(),setEditingOutlines({})},getPath=function(outline){return OutlineUtils.A.getPath(outline)},clearOutlineDestination=function(){core.A.setToolMode(defaultTool.A),setCurrentDestText(defaultDestText),setCurrentDestCoord(defaultDestCoord),setCurrentDestPage(currentPage),tool.clearOutlineDestination()},updateOutlineDest=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinePath){var _getCurrentDestViewerCoord,x,y,doc,pageRotation,tmp;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return _getCurrentDestViewerCoord=getCurrentDestViewerCoord(currentDestPage,currentDestCoord),x=_getCurrentDestViewerCoord.x,y=_getCurrentDestViewerCoord.y,doc=core.A.getDocumentViewer().getDocument(),(pageRotation=doc.getPageRotation(currentDestPage)/90)!==window.Core.PageRotation.E_90&&pageRotation!==window.Core.PageRotation.E_270||(tmp=x,x=y,y=tmp),[4,OutlineUtils.A.setOutlineDestination(outlinePath,currentDestPage,x,y,0)];case 1:return _state.sent(),nextPathRef.current=outlinePath,updateOutlines(),[2]}}))}));return function updateOutlineDest(outlinePath){return _ref.apply(this,arguments)}}();(0,react.useEffect)((function(){currentDestText===defaultDestText&&setCurrentDestPage(currentPage)}),[currentDestText,currentPage]),(0,react.useEffect)((function(){isAddingNewOutline?core.A.setToolMode(TOOL_NAME):clearOutlineDestination()}),[isAddingNewOutline]);var generalMoveOutlineAction=function(dragOutline,dropOutline,moveDirection){var dragPath=getPath(dragOutline),dropPath=getPath(dropOutline);setSelectedOutlines([]),moveDirection.call(OutlineUtils.A,dragPath,dropPath).then((function(path){updateOutlines(),nextPathRef.current=path})),core.A.goToOutline(dragOutline)},moveOutlineAfterTarget=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineAfterTarget)},moveOutlineBeforeTarget=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineBeforeTarget)},moveOutlineInward=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineInTarget)},renameOutline=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinePath,newName){return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.setOutlineName(outlinePath,newName)];case 1:return _state.sent(),updateOutlines(),[2]}}))}));return function renameOutline(outlinePath,newName){return _ref.apply(this,arguments)}}(),removeOutlines=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinesToRemove){var confirmationWarning;return OutlinesPanel_ts_generator(this,(function(_state){return outlinesToRemove.sort().reverse(),confirmationWarning={message:t("warning.deleteOutline.message"),title:t("warning.deleteOutline.title"),confirmBtnText:t("action.delete"),onConfirm:OutlinesPanel_async_to_generator((function(){var i,fullIndex;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:i=0,_state.label=1;case 1:return i<outlinesToRemove.length?(fullIndex=outlinesToRemove[i],[4,OutlineUtils.A.deleteOutline(fullIndex)]):[3,4];case 2:_state.sent(),_state.label=3;case 3:return i++,[3,1];case 4:return updateOutlines(),setActiveOutlinePath(null),setSelectedOutlines([]),[2]}}))}))},dispatch(actions.A.showWarningMessage(confirmationWarning)),[2]}))}));return function removeOutlines(outlinesToRemove){return _ref.apply(this,arguments)}}();return isDisabled?null:react.createElement("div",{className:classnames_default()("Panel OutlinesPanel bookmark-outline-panel",{"custom-panel":customizableUI}),"data-element":dataElement.A.OUTLINE_PANEL,ref:panelRef},react.createElement("div",{className:"bookmark-outline-panel-header"},react.createElement("div",{className:"header-title"},t("component.outlinesPanel")),isOutlineEditable&&(isMultiSelectMode?react.createElement(Button.A,{className:"bookmark-outline-control-button",dataElement:dataElement.A.OUTLINE_MULTI_SELECT,label:t("option.bookmarkOutlineControls.done"),disabled:isAddingNewOutline,onClick:function(){return setMultiSelectMode(!1)}}):react.createElement(Button.A,{className:"bookmark-outline-control-button",dataElement:dataElement.A.OUTLINE_MULTI_SELECT,label:t("option.bookmarkOutlineControls.edit"),disabled:isAddingNewOutline||0===outlines.length,onClick:function(){setMultiSelectMode(!0),setSelectedOutlines([])}}))),react.createElement(Context.A.Provider,{value:{currentDestPage:pageLabels[currentDestPage-1],currentDestText,setActiveOutlinePath,activeOutlinePath,isOutlineActive:function(outline){return getPath(outline)===activeOutlinePath},setAddingNewOutline,isAddingNewOutline,setEditingOutlines,editingOutlines,selectedOutlines,isAnyOutlineRenaming,isMultiSelectMode,shouldAutoExpandOutlines,isOutlineEditable,addNewOutline,updateOutlines,renameOutline,updateOutlineDest,removeOutlines}},outlineControlVisibility&&react.createElement(components_OutlineControls,null),react.createElement(DndProvider.Q,{backend:device.Xb?dist_esm.A:esm.t2},react.createElement(OutlinesDragLayer,null),react.createElement("div",{className:"bookmark-outline-row"},!isAddingNewOutline&&0===outlines.length&&react.createElement("div",{className:"msg msg-no-bookmark-outline"},t("message.noOutlines")),outlines.map((function(outline){return react.createElement(components_Outline,{key:OutlineUtils.A.getOutlineId(outline),outline,setMultiSelected:function(path,value){selectedOutlines.find((function(outline){return outline===path}))?value||setSelectedOutlines(selectedOutlines.filter((function(outline){return outline!==path}))):value&&setSelectedOutlines(_to_consumable_array(selectedOutlines).concat([path]))},moveOutlineInward,moveOutlineBeforeTarget,moveOutlineAfterTarget})})),isAddingNewOutline&&null===activeOutlinePath&&react.createElement(DataElementWrapper.A,{className:"bookmark-outline-single-container editing"},react.createElement(OutlineContent.A,{isAdding:!0,text:"",onCancel:function(){return setAddingNewOutline(!1)}})))),isOutlineEditable&&react.createElement(DataElementWrapper.A,{className:"bookmark-outline-footer",dataElement:dataElement.A.OUTLINE_ADD_NEW_BUTTON_CONTAINER},isMultiSelectMode?react.createElement(react.Fragment,null,react.createElement(Button.A,{className:"multi-selection-button",img:"icon-menu-add",disabled:selectedOutlines.length>0||isAddingNewOutline,onClick:function(){return setAddingNewOutline(!0)}}),react.createElement(Button.A,{className:"multi-selection-button",img:"icon-delete-line",disabled:0===selectedOutlines.length,onClick:function(){return removeOutlines(selectedOutlines)}})):react.createElement(Button.A,{className:"bookmark-outline-control-button add-new-button",img:"icon-menu-add",dataElement:dataElement.A.OUTLINE_ADD_NEW_BUTTON,disabled:isAddingNewOutline,label:"".concat(t("action.add")," ").concat(t("component.outlinePanel")),onClick:function(){return setAddingNewOutline(!0)}}))))};const components_OutlinesPanel_OutlinesPanel=react.memo(OutlinesPanel_OutlinesPanel);OutlinesPanel_OutlinesPanel.__docgenInfo={description:"",methods:[],displayName:"OutlinesPanel"}}}]);