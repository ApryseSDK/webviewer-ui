(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[95465],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteContent/NoteContent.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled span{color:var(--primary-button-text)}.NoteContent{--note-content-right-padding-width:12px;position:relative;display:flex;flex-direction:column;align-items:left;flex:1;color:var(--text-color);padding-bottom:12px;pointer-events:none}.NoteContent.isReply{padding-bottom:0}.NoteContent.unread.isReply{background:rgba(0,165,228,.08)}.NoteContent.unread.clicked .author-and-time span{font-weight:400}.NoteContent.unread .author-and-time span{font-weight:700}.NoteContent .container{margin-top:8px;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text;cursor:text;padding-inline-start:52px;padding-inline-end:var(--note-content-right-padding-width)}.NoteContent .container>*{pointer-events:all}.NoteContent .container-reply{margin-top:8px;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text;cursor:text}.NoteContent .edit-content{margin-top:7px;display:flex;flex-direction:column;position:relative;flex:1;padding-inline-start:52px;padding-inline-end:12px;padding-bottom:12px;pointer-events:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NoteContent .edit-content{flex:none}}.NoteContent .edit-content textarea{width:100%;padding-inline-start:8px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding-top:4px;padding-bottom:4px;resize:none;overflow:hidden;box-sizing:border-box}.NoteContent .edit-content textarea:focus{outline:none;border:1px solid var(--focus-border)}.NoteContent .edit-content textarea::-moz-placeholder{color:var(--placeholder-text)}.NoteContent .edit-content textarea::placeholder{color:var(--placeholder-text)}.NoteContent .edit-content .edit-buttons{display:flex;flex-direction:row;justify-content:flex-end;margin-top:8px}.NoteContent .edit-content .edit-buttons>div{margin-inline-end:4px}.NoteContent .edit-content .edit-buttons .save-button{background-color:transparent;cursor:pointer;flex-shrink:0;background:var(--primary-button);border-radius:4px;width:-moz-fit-content;width:fit-content;border:none;height:28px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);padding:0 13px}:host(:not([data-tabbing=true])) .NoteContent .edit-content .edit-buttons .save-button,html:not([data-tabbing=true]) .NoteContent .edit-content .edit-buttons .save-button{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteContent .edit-content .edit-buttons .save-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteContent .edit-content .edit-buttons .save-button{font-size:13px}}.NoteContent .edit-content .edit-buttons .save-button:hover{background:var(--primary-button-hover);color:var(--primary-button-text)}.NoteContent .edit-content .edit-buttons .save-button.disabled{background:var(--gray-6)!important;border-color:var(--gray-6)!important;cursor:not-allowed}.NoteContent .edit-content .edit-buttons .save-button.disabled span{color:var(--primary-button-text)}.NoteContent .edit-content .edit-buttons .cancel-button{border:none;background-color:transparent;color:var(--secondary-button-text);padding:0 10px;width:-moz-fit-content;width:fit-content;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-inline-end:2px}:host(:not([data-tabbing=true])) .NoteContent .edit-content .edit-buttons .cancel-button,html:not([data-tabbing=true]) .NoteContent .edit-content .edit-buttons .cancel-button{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteContent .edit-content .edit-buttons .cancel-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteContent .edit-content .edit-buttons .cancel-button{font-size:13px}}.NoteContent .edit-content .edit-buttons .cancel-button:hover{color:var(--secondary-button-hover)}.NoteContent .reply-content{padding-inline-start:0}.NoteContent .contents{white-space:pre-wrap;color:var(--text-color);margin-inline-end:5px;padding:0;word-break:normal;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text}.NoteContent .contents .highlight{background:#fffc95;color:#333}.NoteContent .highlight{background:#fffc95}.NoteContent .selected-text-preview{padding-inline-start:52px;padding-top:8px;pointer-events:auto}.NoteContent .reply-attachment-list{margin-bottom:8px}.NoteContent.modular-ui .highlight{font-weight:700;color:var(--blue-5);background:none}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled{border:none}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteHeader/NoteHeader.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NoteHeader{padding-inline-end:12px;position:relative;flex:1;color:var(--text-color);display:flex}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NoteHeader{flex:none}}.NoteHeader .type-icon{margin:2px;width:24px;height:24px}.NoteHeader .type-icon-container{padding-inline-end:13px}.NoteHeader .type-icon-container .unread-notification{position:absolute;width:13px;height:13px;inset-inline-end:-2px;inset-block-start:-2px;border-radius:10000px;border:2px solid var(--component-background);background:#00a5e4}.NoteHeader .author-and-date{flex:1;min-width:0;position:relative}.NoteHeader .author-and-date.isReply{padding-inline-start:0;padding-top:0;font-size:10px}.NoteHeader .author-and-date .author-and-overflow{display:flex;justify-content:space-between}.NoteHeader .author-and-date .author-and-overflow .author-and-time{display:flex;flex-direction:column;word-break:break-word}.NoteHeader .author-and-date .author-and-overflow .author-and-time .author{font-weight:700;font-size:13px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies{display:flex}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px;color:var(--faded-text)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container{display:flex;flex-grow:1;padding-inline-start:10px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-reply-icon{height:12px;width:12px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:10px;color:var(--gray-7)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow{display:flex;flex:1;justify-content:flex-end}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow>*{pointer-events:auto}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper .tracked-change-icon{margin:2px;width:24px;height:24px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.accept{background-color:#d5f5ca}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.reject{background-color:#ffe8e8}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button{width:28px;height:28px;margin:0 8px 0 13px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button .Icon{width:20px;height:20px}.NoteHeader .author-name{font-weight:700}.NoteHeader .note-popup-toggle-trigger{padding:0;margin-inline-end:0!important;margin-inline-start:0!important;min-width:28px!important}.NoteHeader .note-popup-toggle-trigger .Icon{width:24px!important;height:24px!important}.parent{padding-inline-start:12px;padding-top:12px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotePopup/NotePopup.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NotePopup .options.modular-ui .option:hover{cursor:pointer;background:var(--primary-button-hover);color:var(--gray-0)}.NotePopup{flex-grow:0;display:flex;justify-content:flex-end;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:28px;height:28px;position:relative}.NotePopup .Button.overflow{width:28px;height:28px;border-radius:4px;display:flex;justify-content:center;align-items:center}.NotePopup .Button.overflow .Icon{width:24px;height:24px}.NotePopup .Button.overflow:hover{background:var(--blue-1)}.NotePopup .Button.overflow.active{background:var(--popup-button-active)}.NotePopup .options{display:flex;flex-direction:column;box-shadow:0 0 3px 0 var(--box-shadow);z-index:80;position:absolute;border-radius:4px;background:var(--component-background);inset-block-start:40px;width:-moz-max-content;width:max-content}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NotePopup .options{inset-inline-end:0}}.NotePopup .options .note-popup-option{padding:0;border:none;background-color:transparent;align-items:flex-start}:host(:not([data-tabbing=true])) .NotePopup .options .note-popup-option,html:not([data-tabbing=true]) .NotePopup .options .note-popup-option{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .options .note-popup-option{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .options .note-popup-option{font-size:13px}}.NotePopup .options.options-reply{inset-block-start:30px}.NotePopup .options .option{display:flex;flex-direction:column;justify-content:center;height:28px;padding-inline-start:8px;padding-inline-end:17px;border-radius:0}.NotePopup .options .option:hover{background-color:var(--popup-button-hover)}.NotePopup .options .option:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.NotePopup .options .option:last-child{border-bottom-right-radius:4px}.NotePopup .Button{height:28px}.NotePopup .Button.active{background:var(--popup-button-active)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}.NotePopupFlyout{min-width:unset!important;max-width:unset!important}.NotePopupFlyout .flyout-item-container{height:unset!important;margin:unset!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextPreview/NoteTextPreview.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".note-text-preview{font-size:13px;color:var(--gray-7);padding-inline-end:var(--note-content-right-padding-width);-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important;cursor:text;height:-moz-fit-content;height:fit-content;width:calc(100% - var(--note-content-right-padding-width));overflow:hidden}.note-text-preview>*{pointer-events:all}.preview-comment{color:var(--text-color)}.note-text-preview-prompt{cursor:pointer;color:var(--primary-button);text-decoration:underline;position:relative;pointer-events:auto;background:transparent;border:none;padding:0}.note-text-preview-prompt:hover{color:var(--primary-button-hover)}.trackedChangePopup .note-text-preview{max-height:400px;overflow-y:auto;width:calc(100% + var(--note-content-right-padding-width))}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.comment-textarea{position:relative}.comment-textarea .ql-toolbar{display:none}.comment-textarea .ql-container{border:none}.comment-textarea .ql-container .ql-editor{width:100%;padding:4px 6px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);resize:none;overflow:hidden;box-sizing:border-box}.comment-textarea .ql-container .ql-editor:focus{outline:none;border:1px solid var(--focus-border)}.comment-textarea .ql-container .ql-editor.ql-blank:before{inset-inline-start:8px;list-style-type:none;font-style:normal;color:var(--placeholder-text)}.comment-textarea .ql-container .ql-editor p{margin:0;word-break:break-word}.comment-textarea .ql-container .ql-editor ul>li:before{content:none!important}.comment-textarea .ql-container.ql-snow{border:none}.comment-textarea .ql-container.ql-snow:focus{outline:var(--focus-visible-outline);border-radius:4px}.comment-textarea .add-attachment{position:absolute;inset-block-end:2px;inset-inline-end:2px;width:24px;height:24px}.comment-textarea .add-attachment:hover{background-color:var(--blue-1)}.comment-textarea .add-attachment .Icon{padding:3px}.ql-editor ul>li:before{content:none!important}.mention__element{width:170px;z-index:9001!important;max-height:200px;overflow-y:auto;overflow-y:overlay;overflow-x:hidden;background-color:var(--component-background);border:1px solid var(--border);border-radius:4px}.mention__suggestions__list{width:100%;font-size:14px;margin-top:0;padding-inline-start:0!important;list-style:none;word-wrap:break-word;border-radius:4px}.mention__suggestions__item{background-color:var(--component-background);white-space:nowrap;margin-inline-start:0;padding-inline-start:0;text-overflow:clip;padding:7px 5px 1px!important;margin:0;width:100%;cursor:pointer}.mention__suggestions__item .email{margin-top:2px;font-size:12px;white-space:normal;color:var(--faded-text)}.mention__suggestions__item.selected{background-color:var(--view-header-button-active)!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ReplyAttachmentList/ReplyAttachmentList.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".reply-attachment-list{display:flex;flex-direction:column;cursor:default}.reply-attachment-list .reply-attachment{background-color:var(--gray-1);border-radius:4px;cursor:pointer;pointer-events:auto}.reply-attachment-list .reply-attachment:not(:last-child){margin-bottom:8px}.reply-attachment-list .reply-attachment .reply-attachment-preview{width:100%;max-height:80px;display:flex;justify-content:center}.reply-attachment-list .reply-attachment .reply-attachment-preview.dirty{position:relative;margin-bottom:15px}.reply-attachment-list .reply-attachment .reply-attachment-preview img{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.reply-attachment-list .reply-attachment .reply-attachment-preview .reply-attachment-preview-message{font-size:11px;color:var(--error-text-color);position:absolute;inset-block-end:-15px;inset-inline-start:10px}.reply-attachment-list .reply-attachment .reply-attachment-info{display:flex;align-items:center;height:40px;padding:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-attachment-icon{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-file-name{height:16px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-inline-start:8px;margin-inline-end:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button:hover{background-color:var(--blue-1)}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button .Icon{height:16px;width:16px}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/constants/quill.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{inset-inline-start:-100000px;height:1px;overflow-y:hidden;position:absolute;inset-block-start:50%}.ql-clipboard p{margin:0;padding:0}.ql-container .ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;-o-tab-size:4;tab-size:4;-moz-tab-size:4;text-align:start;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor p{margin:0;padding:0}.ql-editor ol,.ql-editor ul{padding-inline-start:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"•"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"☑"}.ql-editor ul[data-checked=false]>li:before{content:"☐"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-inline-start:-1.5em;margin-inline-end:.3em;text-align:end}.ql-editor li.ql-direction-rtl:before{margin-inline-start:.3em;margin-inline-end:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-inline-start:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-inline-end:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-inline-start:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-inline-start:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-inline-end:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-inline-end:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-inline-start:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-inline-start:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-inline-end:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-inline-end:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-inline-start:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-inline-start:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-inline-end:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-inline-end:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-inline-start:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-inline-start:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-inline-end:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-inline-end:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-inline-start:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-inline-start:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-inline-end:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-inline-end:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-inline-start:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-inline-start:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-inline-end:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-inline-end:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-inline-start:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-inline-start:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-inline-end:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-inline-end:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-inline-start:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-inline-start:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-inline-end:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-inline-end:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-inline-start:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-inline-start:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-inline-end:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-inline-end:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:end}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;inset-inline-start:15px;pointer-events:none;position:absolute;inset-inline-end:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:inline-start;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:inline-start;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover{color:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media(pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-inline-start:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-inline-start:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:inline-start;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-inline-start:8px;padding-inline-end:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;inset-block-start:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{inset-inline-end:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:inline-start;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;inset-inline-end:0;inset-block-start:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item:before,.ql-snow .ql-picker.ql-header .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item:before,.ql-snow .ql-picker.ql-font .ql-picker-label:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item:before,.ql-snow .ql-picker.ql-size .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-inline-end:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-inline-end:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-inline-end:1px solid #ccc;content:"Edit";margin-inline-start:16px;padding-inline-end:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-inline-start:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-inline-end:0;content:"Save";padding-inline-end:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}',""]),module.exports=exports},"./src/components/ModularComponents/NoteStateFlyout/NoteStateFlyout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,b:()=>noteStateFlyoutItems});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/dataElement.js"),actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js");const createFlyoutItem=(option,icon,dataElement)=>({icon,label:`option.state.${option.toLowerCase()}`,title:`option.state.${option.toLowerCase()}`,option,dataElement}),noteStateFlyoutItems=[createFlyoutItem("Accepted","icon-annotation-status-accepted","noteStateFlyoutAcceptedOption"),createFlyoutItem("Rejected","icon-annotation-status-rejected","noteStateFlyoutRejectedOption"),createFlyoutItem("Cancelled","icon-annotation-status-cancelled","noteStateFlyoutCancelledOption"),createFlyoutItem("Completed","icon-annotation-status-completed","noteStateFlyoutCompletedOption"),createFlyoutItem("None","icon-annotation-status-none","noteStateFlyoutNoneOption"),createFlyoutItem("Marked","icon-annotation-status-marked","noteStateFlyoutMarkedOption"),createFlyoutItem("Unmarked","icon-annotation-status-unmarked","noteStateFlyoutUnmarkedOption")],NoteStateFlyout=props=>{const{noteId,handleStateChange=()=>{},isMultiSelectMode=!1}=props,dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.wA)(),selectorSuffix=isMultiSelectMode?"":`-${noteId}`,flyoutSelector=`${src_constants_dataElement__WEBPACK_IMPORTED_MODULE_2__.A.NOTE_STATE_FLYOUT}${selectorSuffix}`,currentFlyout=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_4__.A.getFlyout(state,flyoutSelector)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const noteStateFlyout={dataElement:flyoutSelector,className:"NoteStateFlyout",items:noteStateFlyoutItems.map((item=>({...item,onClick:()=>{return noteState=item.option,void handleStateChange(noteState);var noteState}})))};dispatch(currentFlyout?actions__WEBPACK_IMPORTED_MODULE_3__.A.updateFlyout(noteStateFlyout.dataElement,noteStateFlyout):actions__WEBPACK_IMPORTED_MODULE_3__.A.addFlyout(noteStateFlyout))}),[handleStateChange]),null};NoteStateFlyout.propTypes={noteId:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,handleStateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,isMultiSelectMode:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool};const __WEBPACK_DEFAULT_EXPORT__=NoteStateFlyout},"./src/components/ModularComponents/NoteStateFlyout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/NoteStateFlyout/NoteStateFlyout.js").A},"./src/components/Note/Context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext()},"./src/components/NoteContent/NoteContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_NoteContent_NoteContent});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),es2015=__webpack_require__("./node_modules/autolinker/dist/es2015/index.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),localizedFormat=__webpack_require__("./node_modules/dayjs/plugin/localizedFormat.js"),localizedFormat_default=__webpack_require__.n(localizedFormat),isString=__webpack_require__("./node_modules/lodash/isString.js"),isString_default=__webpack_require__.n(isString),lodash_escape=__webpack_require__("./node_modules/lodash/escape.js"),escape_default=__webpack_require__.n(lodash_escape),NoteTextarea=__webpack_require__("./src/components/NoteTextarea/index.js"),Context=__webpack_require__("./src/components/Note/Context.js"),NoteHeader=__webpack_require__("./src/components/NoteHeader/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),NoteTextPreview=__webpack_require__("./src/components/NoteTextPreview/NoteTextPreview.js");function NoteTextPreviewContainer(props){const[notePanelWidth]=(0,es.d4)((state=>[selectors.A.getNotesPanelWidth(state)]),es.bN);return(0,jsx_runtime.jsx)(NoteTextPreview.A,{...props,panelWidth:notePanelWidth})}const NoteTextPreview_NoteTextPreviewContainer=NoteTextPreviewContainer;NoteTextPreviewContainer.__docgenInfo={description:"",methods:[],displayName:"NoteTextPreviewContainer"};const components_NoteTextPreview=NoteTextPreview_NoteTextPreviewContainer;var ReplyAttachmentList=__webpack_require__("./src/components/ReplyAttachmentList/index.js"),getLinkDestination=__webpack_require__("./src/helpers/getLinkDestination.js"),MentionsManager=__webpack_require__("./src/helpers/MentionsManager.js"),getLatestActivityDate=__webpack_require__("./src/helpers/getLatestActivityDate.js"),setAnnotationRichTextStyle=__webpack_require__("./src/helpers/setAnnotationRichTextStyle.js");const getAttributtes=element=>{const attr={};if(element["font-weight"]&&"normal"!==element["font-weight"]&&(attr.bold=!0),element["font-style"]&&"normal"!==element["font-style"]&&(attr.italic=!0),element.color&&(attr.color=element.color),element["text-decoration"]){const decoration=element["text-decoration"].split(" ");decoration.includes("line-through")&&(attr.strike=!0),decoration.includes("word")&&(attr.underline=!0)}return attr},helpers_setReactQuillContent=(annotation,editor)=>{const richTextStyle=annotation.getRichTextStyle(),indexes=Object.keys(richTextStyle),formattedText=MentionsManager.A.getFormattedTextFromDeltas(editor.getContents()),text=MentionsManager.A.extractMentionDataFromStr(formattedText).plainTextValue,ops=[];for(let i=0;i<indexes.length;i++){const element=richTextStyle[indexes[i]],attr=getAttributtes(element);if(isNaN(indexes[i]))continue;const lastIndex=isNaN(indexes[i+1])?text.length:indexes[i+1],textSlice=text.slice(indexes[i],lastIndex);ops.push({insert:textSlice,attributes:attr})}editor.setContents(ops),editor.setSelection(text.length,0)};var color=__webpack_require__("./src/helpers/color.js"),ReplyAttachmentManager=__webpack_require__("./src/helpers/ReplyAttachmentManager.js"),device=__webpack_require__("./src/helpers/device.js"),core=__webpack_require__("./src/core/index.js"),map=__webpack_require__("./src/constants/map.js"),theme=__webpack_require__("./src/constants/theme.js"),useDidUpdate=__webpack_require__("./src/hooks/useDidUpdate.js"),actions=__webpack_require__("./src/redux/actions/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),commonColors=__webpack_require__("./src/constants/commonColors.js"),Button=__webpack_require__("./src/components/Button/index.js");__webpack_require__("./src/components/NoteContent/NoteContent.scss");dayjs_min_default().extend(localizedFormat_default());const propTypes={annotation:prop_types_default().object.isRequired,isEditing:prop_types_default().bool,setIsEditing:prop_types_default().func,noteIndex:prop_types_default().number,isUnread:prop_types_default().bool,isNonReplyNoteRead:prop_types_default().bool,onReplyClicked:prop_types_default().func,isMultiSelected:prop_types_default().bool,isMultiSelectMode:prop_types_default().bool,handleMultiSelect:prop_types_default().func,isGroupMember:prop_types_default().bool,handleNoteClick:prop_types_default().func},NoteContent_NoteContent=({annotation,isEditing,setIsEditing,noteIndex,isUnread,isNonReplyNoteRead,onReplyClicked,isMultiSelected,isMultiSelectMode,handleMultiSelect,isGroupMember,handleNoteClick=()=>{}})=>{const noteDateFormat=(0,es.d4)((state=>selectors.A.getNoteDateFormat(state))),iconColor=(0,es.d4)((state=>selectors.A.getIconColor(state,(0,map.c7)(annotation),es.bN))),isNoteStateDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,"noteStateFlyout"))),language=(0,es.d4)((state=>selectors.A.getCurrentLanguage(state))),notesShowLastUpdatedDate=(0,es.d4)((state=>selectors.A.notesShowLastUpdatedDate(state))),canCollapseTextPreview=(0,es.d4)((state=>selectors.A.isNotesPanelTextCollapsingEnabled(state))),canCollapseReplyPreview=(0,es.d4)((state=>selectors.A.isNotesPanelRepliesCollapsingEnabled(state))),activeTheme=(0,es.d4)((state=>selectors.A.getActiveTheme(state))),timezone=(0,es.d4)((state=>selectors.A.getTimezone(state))),customizableUI=(0,es.d4)((state=>selectors.A.getFeatureFlags(state)?.customizableUI)),{isSelected,searchInput,resize,pendingEditTextMap,onTopNoteContentClicked,sortStrategy,showAnnotationNumbering,setPendingEditText}=(0,react.useContext)(Context.A),dispatch=(0,es.wA)(),[t]=(0,useTranslation.B)(),isReply=annotation.isReply(),isTrackedChange=(0,map.c7)(annotation)===map.oC.TRACKED_CHANGE,[attachments,setAttachments]=(0,react.useState)([]);(0,react.useEffect)((()=>{setAttachments(annotation.getAttachments())}),[annotation]),(0,react.useEffect)((()=>{const annotationChangedListener=(annotations,action)=>{"modify"===action&&annotations.forEach((annot=>{annot.Id===annotation.Id&&setAttachments(annot.getAttachments())}))};return core.A.addEventListener("annotationChanged",annotationChangedListener),()=>{core.A.removeEventListener("annotationChanged",annotationChangedListener)}}),[annotation]),(0,useDidUpdate.A)((()=>{isEditing||dispatch(actions.A.finishNoteEditing()),resize()}),[isEditing]);const renderAuthorName=(0,react.useCallback)((annotation=>{const name=core.A.getDisplayAuthor(annotation.Author);return name?highlightSearchInput(name,searchInput):t("option.notesPanel.noteContent.noName")}),[searchInput]),skipAutoLink=annotation.getSkipAutoLink&&annotation.getSkipAutoLink(),renderContents=(0,react.useCallback)(((contents,richTextStyle,fontColor,skipAutoLink)=>{const autolinkerContent=[];if(skipAutoLink||es2015.Ay.link(contents,{stripPrefix:!1,stripTrailingSlash:!1,replaceFn(match){const href=match.getAnchorHref(),anchorText=match.getAnchorText(),offset=match.getOffset();switch(match.getType()){case"url":case"email":case"phone":autolinkerContent.push({href,text:anchorText,start:offset,end:offset+match.getMatchedText().length})}}}),!autolinkerContent.length){const highlightResult=highlightSearchInput(contents,searchInput,richTextStyle);if(!searchInput&&(!isReply&&canCollapseTextPreview||isReply&&canCollapseReplyPreview)){const beforeContent=()=>{if(!isTrackedChange)return null;const text=1===annotation.TrackedChangeType?t("officeEditor.added"):t("officeEditor.deleted");return(0,jsx_runtime.jsx)("span",{style:{color:annotation.FillColor.toString(),fontWeight:700},children:text})};return(0,jsx_runtime.jsx)(components_NoteTextPreview,{linesToBreak:3,comment:!0,renderRichText,richTextStyle,resize,style:fontColor,beforeContent,children:contents})}return highlightResult}const contentToRender=[];let strIdx=0;return autolinkerContent.forEach(((anchorData,forIdx)=>{const{start,end,href}=anchorData;strIdx<start&&contentToRender.push((0,jsx_runtime.jsx)("span",{children:highlightSearchInput(contents,searchInput,richTextStyle,strIdx,start)},`span_${forIdx}`)),contentToRender.push((0,jsx_runtime.jsx)("a",{href,target:"_blank",rel:"noopener noreferrer",children:highlightSearchInput(contents,searchInput,richTextStyle,start,end)},`a_${forIdx}`)),strIdx=end})),strIdx<contents.length-1&&contentToRender.push(highlightSearchInput(contents,searchInput,richTextStyle,strIdx)),contentToRender}),[searchInput]),icon=(0,map.ap)((0,map.c7)(annotation)).icon;let customData;try{customData=JSON.parse(annotation.getCustomData("trn-mention"))}catch(e){customData=annotation.getCustomData("trn-mention")}let contents=customData?.contents||annotation.getContents();contents=function sanitizeContent(content){return content?escape_default()(content):content}(contents);const contentsToRender=annotation instanceof window.Core.Annotations.Link?(0,getLinkDestination.A)(annotation):annotation.getContents(),richTextStyle=annotation.getRichTextStyle();let textColor=annotation.TextColor;if(activeTheme===theme.A.DARK){if(textColor&&(0,color.lw)(textColor.toHexString())&&(textColor=new window.Core.Annotations.Color(255,255,255,1)),richTextStyle){Object.keys(richTextStyle).forEach((a=>{richTextStyle[a].color&&(0,color.lw)(richTextStyle[a].color)&&(richTextStyle[a].color=commonColors.zb.white)}))}}else if(activeTheme===theme.A.LIGHT&&(textColor&&(0,color.vO)(textColor.toHexString())&&(textColor=new window.Core.Annotations.Color(0,0,0,1)),richTextStyle)){Object.keys(richTextStyle).forEach((a=>{richTextStyle[a].color&&(0,color.vO)(richTextStyle[a].color)&&(richTextStyle[a].color=commonColors.zb.black)}))}const thereIsNoUnpostedEdit=void 0===pendingEditTextMap[annotation.Id];let textAreaValue;textAreaValue=contents&&thereIsNoUnpostedEdit?contents:pendingEditTextMap[annotation.Id];const handleContentsClicked=e=>{window.getSelection()?.toString()&&e?.stopPropagation(),handleNoteClick(e)},noteContentClass=classnames_default()({NoteContent:!0,isReply,unread:isUnread,clicked:isNonReplyNoteRead,"modular-ui":customizableUI}),content=(0,react.useMemo)((()=>{const contentStyle={};return textColor&&(contentStyle.color=textColor.toHexString()),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isEditing&&isSelected?(0,jsx_runtime.jsx)(ContentArea,{annotation,noteIndex,setIsEditing,textAreaValue,onTextAreaValueChange:setPendingEditText,pendingText:pendingEditTextMap[annotation.Id]}):contentsToRender&&(0,jsx_runtime.jsxs)("div",{className:classnames_default()("container",{"reply-content":isReply}),onClick:handleContentsClicked,children:[isReply&&attachments.length>0&&(0,jsx_runtime.jsx)(ReplyAttachmentList.A,{files:attachments,isEditing:!1}),renderContents(contentsToRender,richTextStyle,contentStyle,skipAutoLink)]})})}),[annotation,isSelected,isEditing,setIsEditing,contents,renderContents,textAreaValue,setPendingEditText,attachments]),text=annotation.getCustomData("trn-annot-preview"),textPreview=(0,react.useMemo)((()=>{if(""===text)return null;const highlightSearchResult=highlightSearchInput(text,searchInput),shouldCollapseAnnotationText=!isReply&&canCollapseTextPreview;return isString_default()(highlightSearchResult)&&shouldCollapseAnnotationText?(0,jsx_runtime.jsx)(DataElementWrapper.A,{onClick:handleNoteClick,className:"selected-text-preview",dataElement:"notesSelectedTextPreview",children:(0,jsx_runtime.jsx)(components_NoteTextPreview,{linesToBreak:3,children:`"${highlightSearchResult}"`})}):(0,jsx_runtime.jsx)("div",{className:"selected-text-preview",style:{paddingRight:"12px"},children:highlightSearchResult})}),[text,searchInput]),header=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(NoteHeader.A,{icon,iconColor,annotation,language,noteDateFormat,isSelected,setIsEditing,notesShowLastUpdatedDate,isReply,isUnread,renderAuthorName,isNoteStateDisabled,isEditing,noteIndex,sortStrategy,activeTheme,handleMultiSelect,isMultiSelected,isMultiSelectMode,isGroupMember,showAnnotationNumbering,timezone,isTrackedChange})),[icon,iconColor,annotation,language,noteDateFormat,isSelected,setIsEditing,notesShowLastUpdatedDate,isReply,isUnread,renderAuthorName,core.A.getDisplayAuthor(annotation.Author),isNoteStateDisabled,isEditing,noteIndex,(0,getLatestActivityDate.A)(annotation),sortStrategy,handleMultiSelect,isMultiSelected,isMultiSelectMode,isGroupMember,timezone,isTrackedChange]);return(0,jsx_runtime.jsxs)("div",{className:noteContentClass,onClick:()=>{isGroupMember||(isReply?onReplyClicked(annotation):isEditing||onTopNoteContentClicked())},children:[header,textPreview,content]})};NoteContent_NoteContent.propTypes=propTypes;const components_NoteContent_NoteContent=NoteContent_NoteContent,ContentArea=({annotation,noteIndex,setIsEditing,textAreaValue,onTextAreaValueChange,pendingText})=>{const[autoFocusNoteOnAnnotationSelection,isMentionEnabled,isInlineCommentDisabled,isInlineCommentOpen,isNotesPanelOpen,activeDocumentViewerKey,isAnyCustomPanelOpen]=(0,es.d4)((state=>[selectors.A.getAutoFocusNoteOnAnnotationSelection(state),selectors.A.getIsMentionEnabled(state),selectors.A.isElementDisabled(state,dataElement.A.INLINE_COMMENT_POPUP),selectors.A.isElementOpen(state,dataElement.A.INLINE_COMMENT_POPUP),selectors.A.isElementOpen(state,dataElement.A.NOTES_PANEL),selectors.A.getActiveDocumentViewerKey(state),selectors.A.isAnyCustomPanelOpen(state)])),[t]=(0,useTranslation.B)(),textareaRef=(0,react.useRef)(),isReply=annotation.isReply(),{setCurAnnotId,pendingAttachmentMap,deleteAttachment,clearAttachments,addAttachments}=(0,react.useContext)(Context.A),shouldNotFocusOnInput=!isInlineCommentDisabled&&isInlineCommentOpen&&(0,device.Fr)();(0,react.useEffect)((()=>{if(isAnyCustomPanelOpen||(isNotesPanelOpen||isInlineCommentOpen)&&textareaRef.current){const editor=textareaRef.current.getEditor();annotation&&annotation instanceof window.Core.Annotations.FreeTextAnnotation&&editor.setText(""),pendingText?(0,setAnnotationRichTextStyle.A)(editor,annotation):editor.getContents()&&setTimeout((()=>{if(isMentionEnabled){textAreaValue=MentionsManager.A.getFormattedTextFromDeltas(editor.getContents());const{plainTextValue,ids}=MentionsManager.A.extractMentionDataFromStr(textAreaValue);ids.length&&editor.setText(plainTextValue)}if(!shouldNotFocusOnInput&&autoFocusNoteOnAnnotationSelection){textareaRef.current?.focus();annotation.getRichTextStyle()&&helpers_setReactQuillContent(annotation,editor)}}),100);const lastNewLineCharacterLength=1,textLength=editor.getLength()-lastNewLineCharacterLength;if(shouldNotFocusOnInput)return;setTimeout((()=>{textLength&&editor.setSelection(textLength,textLength)}),100)}}),[isNotesPanelOpen,isInlineCommentOpen,shouldNotFocusOnInput]),(0,react.useEffect)((()=>{if(isReply&&0===pendingAttachments.length){const attachments=annotation.getAttachments();addAttachments(annotation.Id,attachments)}}),[]);const setContents=async e=>{e.preventDefault();const editor=textareaRef.current.getEditor();textAreaValue=MentionsManager.A.getFormattedTextFromDeltas(editor.getContents()),(0,setAnnotationRichTextStyle.A)(editor,annotation);textAreaValue.length>1&&"\n"===textAreaValue[textAreaValue.length-1]&&(textAreaValue=textAreaValue.slice(0,textAreaValue.length-1));if(annotation.getSkipAutoLink&&annotation.getSkipAutoLink()&&annotation.disableSkipAutoLink(),isMentionEnabled){const{plainTextValue,ids}=MentionsManager.A.extractMentionDataFromStr(textAreaValue);MentionsManager.A.extractMentionDataFromAnnot(annotation).mentions.forEach((mention=>{plainTextValue.includes(mention.value)&&ids.push(mention.id)})),annotation.setCustomData("trn-mention",JSON.stringify({contents:textAreaValue,ids})),annotation.setContents(plainTextValue)}else annotation.setContents(textAreaValue);await(0,ReplyAttachmentManager.ET)(annotation,pendingAttachmentMap[annotation.Id]);const source=annotation instanceof window.Core.Annotations.FreeTextAnnotation?"textChanged":"noteChanged";core.A.getAnnotationManager(activeDocumentViewerKey).trigger("annotationChanged",[[annotation],"modify",{source}]),annotation instanceof window.Core.Annotations.FreeTextAnnotation&&core.A.drawAnnotationsFromList([annotation]),setIsEditing(!1,noteIndex),""!==textAreaValue&&onTextAreaValueChange(void 0,annotation.Id),clearAttachments(annotation.Id)},contentClassName=classnames_default()("edit-content",{"reply-content":isReply}),pendingAttachments=pendingAttachmentMap[annotation.Id]||[];return(0,jsx_runtime.jsxs)("div",{className:contentClassName,children:[isReply&&pendingAttachments.length>0&&(0,jsx_runtime.jsx)(ReplyAttachmentList.A,{files:pendingAttachments,isEditing:!0,fileDeleted:file=>deleteAttachment(annotation.Id,file)}),(0,jsx_runtime.jsx)(NoteTextarea.A,{ref:el=>{textareaRef.current=el},value:textAreaValue,onChange:value=>onTextAreaValueChange(value,annotation.Id),onSubmit:setContents,isReply,onBlur:e=>{e.relatedTarget?.getAttribute("data-element")?.includes("annotationCommentButton")?e.target.focus():setCurAnnotId(void 0)},onFocus:()=>{setCurAnnotId(annotation.Id)}}),(0,jsx_runtime.jsxs)("div",{className:"edit-buttons",children:[(0,jsx_runtime.jsx)(Button.A,{className:"cancel-button",label:t("action.cancel"),onClick:e=>{e.stopPropagation(),setIsEditing(!1,noteIndex),onTextAreaValueChange(void 0,annotation.Id),clearAttachments(annotation.Id)}}),(0,jsx_runtime.jsx)(Button.A,{className:"save-button"+(textAreaValue?"":" disabled"),disabled:!textAreaValue,label:t("action.save"),onClick:e=>{e.stopPropagation(),setContents(e)}})]})]})};ContentArea.propTypes={noteIndex:prop_types_default().number.isRequired,annotation:prop_types_default().object.isRequired,setIsEditing:prop_types_default().func.isRequired,textAreaValue:prop_types_default().string,onTextAreaValueChange:prop_types_default().func.isRequired,pendingText:prop_types_default().string};const getRichTextSpan=(text,richTextStyle,key)=>{const style={fontWeight:richTextStyle["font-weight"],fontStyle:richTextStyle["font-style"],textDecoration:richTextStyle["text-decoration"],color:richTextStyle.color};return style.textDecoration&&(style.textDecoration=style.textDecoration.replace("word","underline")),(0,jsx_runtime.jsx)("span",{style,children:text},key)},renderRichText=(text,richTextStyle,start)=>{if(!richTextStyle||!text)return text;const styles={},indices=Object.keys(richTextStyle).map(Number).sort(((a,b)=>a-b));for(let i=0;i<indices.length;i++){let index=indices[i]-start;if(index=Math.min(Math.max(index,0),text.length),styles[index]=richTextStyle[indices[i]],index===text.length)break}const contentToRender=[],styleIndices=Object.keys(styles).map(Number).sort(((a,b)=>a-b));for(let i=1;i<styleIndices.length;i++)contentToRender.push(getRichTextSpan(text.slice(styleIndices[i-1],styleIndices[i]),styles[styleIndices[i-1]],`richtext_span_${i}`));return contentToRender},highlightSearchInput=(fullText,searchInput,richTextStyle,start=0,end=fullText.length)=>{const text=fullText.slice(start,end),loweredText=text.toLowerCase(),loweredSearchInput=searchInput.toLowerCase();richTextStyle&&(richTextStyle[0]=richTextStyle[0]||{},richTextStyle[fullText.length]=richTextStyle[fullText.length]||{});let lastFoundInstance=loweredText.indexOf(loweredSearchInput);if(!loweredSearchInput.trim()||-1===lastFoundInstance)return renderRichText(text,richTextStyle,start);const contentToRender=[],allFoundPositions=[lastFoundInstance],regexSafeSearchInput=loweredSearchInput.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`(${regexSafeSearchInput})`,"gi").test(loweredText))for(;-1!==lastFoundInstance;)lastFoundInstance=loweredText.indexOf(loweredSearchInput,lastFoundInstance+loweredSearchInput.length),-1!==lastFoundInstance&&allFoundPositions.push(lastFoundInstance);return allFoundPositions.forEach(((position,idx)=>{0===idx&&0!==position&&contentToRender.push(renderRichText(text.substring(0,position),richTextStyle,start)),contentToRender.push((0,jsx_runtime.jsx)("span",{className:"highlight",children:renderRichText(text.substring(position,position+loweredSearchInput.length),richTextStyle,start+position)},`highlight_span_${idx}`)),position+loweredSearchInput.length<loweredText.length&&position+loweredSearchInput.length!==allFoundPositions[idx+1]&&contentToRender.push(renderRichText(text.substring(position+loweredSearchInput.length,allFoundPositions[idx+1]),richTextStyle,start+position+loweredSearchInput.length))})),contentToRender};NoteContent_NoteContent.__docgenInfo={description:"",methods:[],displayName:"NoteContent",props:{handleNoteClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},annotation:{description:"",type:{name:"object"},required:!0},isEditing:{description:"",type:{name:"bool"},required:!1},setIsEditing:{description:"",type:{name:"func"},required:!1},noteIndex:{description:"",type:{name:"number"},required:!1},isUnread:{description:"",type:{name:"bool"},required:!1},isNonReplyNoteRead:{description:"",type:{name:"bool"},required:!1},onReplyClicked:{description:"",type:{name:"func"},required:!1},isMultiSelected:{description:"",type:{name:"bool"},required:!1},isMultiSelectMode:{description:"",type:{name:"bool"},required:!1},handleMultiSelect:{description:"",type:{name:"func"},required:!1},isGroupMember:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/NoteContent/NoteContent.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteContent/NoteContent.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteHeader/NoteHeader.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteHeader/NoteHeader.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteHeader/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_NoteHeader});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),core=__webpack_require__("./src/core/index.js"),NotePopup=__webpack_require__("./src/components/NotePopup/NotePopup.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js");function NotePopupContainer(props){const[activeDocumentViewerKey]=(0,es.d4)((state=>[selectors.A.getActiveDocumentViewerKey(state)])),{annotation,setIsEditing,noteIndex}=props,[canModify,setCanModify]=react.useState(core.A.canModify(annotation)),[canModifyContents,setCanModifyContents]=react.useState(core.A.canModifyContents(annotation));react.useEffect((()=>{function onUpdateAnnotationPermission(){setCanModify(core.A.canModify(annotation,activeDocumentViewerKey)),setCanModifyContents(core.A.canModifyContents(annotation,activeDocumentViewerKey))}return onUpdateAnnotationPermission(),core.A.addEventListener("updateAnnotationPermission",onUpdateAnnotationPermission,void 0,activeDocumentViewerKey),()=>core.A.removeEventListener("updateAnnotationPermission",onUpdateAnnotationPermission,activeDocumentViewerKey)}),[annotation,activeDocumentViewerKey]);const passProps={handleEdit:react.useCallback((()=>{annotation instanceof window.Core.Annotations.FreeTextAnnotation&&core.A.getAnnotationManager(activeDocumentViewerKey).isFreeTextEditingEnabled()?core.A.getAnnotationManager(activeDocumentViewerKey).trigger("annotationDoubleClicked",annotation):setIsEditing(!0,noteIndex)}),[annotation,setIsEditing,noteIndex]),handleDelete:react.useCallback((()=>{core.A.deleteAnnotations([annotation,...annotation.getGroupedChildren()],void 0,activeDocumentViewerKey)}),[annotation]),isEditable:canModifyContents,isDeletable:canModify&&!annotation?.NoDelete,noteId:annotation?annotation.Id:""};return(0,jsx_runtime.jsx)(NotePopup.A,{...props,...passProps})}const NotePopup_NotePopupContainer=NotePopupContainer;NotePopupContainer.__docgenInfo={description:"",methods:[],displayName:"NotePopupContainer"};const components_NotePopup=NotePopup_NotePopupContainer;var NoteState=__webpack_require__("./src/components/NoteState/NoteState.js"),NoteStateUtils=__webpack_require__("./src/helpers/NoteStateUtils.js"),useFocusOnClose=__webpack_require__("./src/hooks/useFocusOnClose/index.js");const propTypes={annotation:prop_types_default().object};function NoteStateContainer(props){const activeDocumentViewerKey=(0,es.d4)((state=>selectors.A.getActiveDocumentViewerKey(state))),isNoteStateDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,"noteState"))),{annotation}=props,handleStateChange=(0,useFocusOnClose.A)((0,react.useCallback)((function handleStateChangeCallback(newValue){const stateAnnotation=(0,NoteStateUtils.H)(annotation,newValue,activeDocumentViewerKey);annotation.addReply(stateAnnotation);const annotationManager=core.A.getAnnotationManager(activeDocumentViewerKey);annotationManager.addAnnotation(stateAnnotation),annotationManager.trigger("addReply",[stateAnnotation,annotation,annotationManager.getRootAnnotation(annotation)])}),[annotation,activeDocumentViewerKey]));return!isNoteStateDisabled&&(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(NoteState.A,{handleStateChange,...props})})}NoteStateContainer.propTypes=propTypes;const NoteState_NoteStateContainer=NoteStateContainer;NoteStateContainer.__docgenInfo={description:"",methods:[],displayName:"NoteStateContainer",props:{annotation:{description:"",type:{name:"object"},required:!1}}};const components_NoteState=NoteState_NoteStateContainer;var Icon=__webpack_require__("./src/components/Icon/index.js"),Context=__webpack_require__("./src/components/Note/Context.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),Tooltip=__webpack_require__("./src/components/Tooltip/index.js");const NoteUnpostedCommentIndicator_propTypes={annotationId:prop_types_default().string,ariaLabel:prop_types_default().string,pendingEditTextMap:prop_types_default().object,pendingReplyMap:prop_types_default().object,pendingAttachmentMap:prop_types_default().object},NoteUnpostedCommentIndicator=({annotationId,ariaLabel,pendingEditTextMap,pendingReplyMap,pendingAttachmentMap})=>{const{t}=(0,useTranslation.B)(),[hasUnpostedComment,setHasUnpostedComment]=(0,react.useState)(!1),[hasUnpostedReply,setHasUnpostedReply]=(0,react.useState)(!1),[hasUnpostedAttachment,setHasUnpostedAttachment]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{setHasUnpostedComment(pendingEditTextMap[annotationId]?.length>0),setHasUnpostedReply(pendingReplyMap[annotationId]?.length>0),setHasUnpostedAttachment(pendingAttachmentMap[annotationId]?.length>0)}),[pendingEditTextMap,pendingReplyMap,pendingAttachmentMap]),hasUnpostedComment||hasUnpostedReply||hasUnpostedAttachment?(0,jsx_runtime.jsx)("div",{"data-element":"unpostedCommentIndicator",children:(0,jsx_runtime.jsx)(Tooltip.A,{content:t("message.unpostedComment"),children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Icon.A,{className:"type-icon",glyph:"icon-unposted-comment",ariaLabel})})})}):null};NoteUnpostedCommentIndicator.propTypes=NoteUnpostedCommentIndicator_propTypes;const NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicator=NoteUnpostedCommentIndicator;NoteUnpostedCommentIndicator.__docgenInfo={description:"",methods:[],displayName:"NoteUnpostedCommentIndicator",props:{annotationId:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"",type:{name:"string"},required:!1},pendingEditTextMap:{description:"",type:{name:"object"},required:!1},pendingReplyMap:{description:"",type:{name:"object"},required:!1},pendingAttachmentMap:{description:"",type:{name:"object"},required:!1}}};const NoteUnpostedCommentIndicatorContainer_propTypes={annotationId:prop_types_default().string,ariaLabel:prop_types_default().string},NoteUnpostedCommentIndicatorContainer=({annotationId,ariaLabel})=>{const isDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,"unpostedCommentIndicator"))),{pendingEditTextMap,pendingReplyMap,pendingAttachmentMap}=react.useContext(Context.A);return isDisabled?null:(0,jsx_runtime.jsx)(NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicator,{annotationId,ariaLabel,pendingEditTextMap,pendingReplyMap,pendingAttachmentMap})};NoteUnpostedCommentIndicatorContainer.propTypes=NoteUnpostedCommentIndicatorContainer_propTypes;const NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicatorContainer=NoteUnpostedCommentIndicatorContainer;NoteUnpostedCommentIndicatorContainer.__docgenInfo={description:"",methods:[],displayName:"NoteUnpostedCommentIndicatorContainer",props:{annotationId:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"",type:{name:"string"},required:!1}}};const components_NoteUnpostedCommentIndicator=NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicatorContainer;var Choice=__webpack_require__("./src/components/Choice/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),getLatestActivityDate=__webpack_require__("./src/helpers/getLatestActivityDate.js"),getColor=__webpack_require__("./src/helpers/getColor.js"),helpers_color=__webpack_require__("./src/helpers/color.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),sortStrategies=__webpack_require__("./src/constants/sortStrategies.js"),theme=__webpack_require__("./src/constants/theme.js"),officeEditor=__webpack_require__("./src/constants/officeEditor.js"),commonColors=__webpack_require__("./src/constants/commonColors.js");__webpack_require__("./src/components/NoteHeader/NoteHeader.scss");const NoteHeader_propTypes={icon:prop_types_default().string,iconColor:prop_types_default().string,color:prop_types_default().string,fillColor:prop_types_default().string,annotation:prop_types_default().object,language:prop_types_default().string,noteDateFormat:prop_types_default().string,isSelected:prop_types_default().bool,setIsEditing:prop_types_default().func,notesShowLastUpdatedDate:prop_types_default().bool,isUnread:prop_types_default().bool,renderAuthorName:prop_types_default().func,isNoteStateDisabled:prop_types_default().bool,isEditing:prop_types_default().bool,noteIndex:prop_types_default().number,sortStrategy:prop_types_default().string,activeTheme:prop_types_default().string,isMultiSelected:prop_types_default().bool,isMultiSelectMode:prop_types_default().bool,handleMultiSelect:prop_types_default().func,isGroupMember:prop_types_default().bool,showAnnotationNumbering:prop_types_default().bool,isTrackedChange:prop_types_default().bool};function NoteHeader_NoteHeader(props){const{icon,iconColor,annotation,language,noteDateFormat,isSelected,setIsEditing,notesShowLastUpdatedDate,isReply,isUnread,renderAuthorName,isNoteStateDisabled,isEditing,noteIndex,sortStrategy,activeTheme,isMultiSelected,isMultiSelectMode,handleMultiSelect,isGroupMember,showAnnotationNumbering,timezone,isTrackedChange}=props,[t]=(0,useTranslation.B)();let date;const dateCreated=sortStrategy===sortStrategies.vr.MODIFIED_DATE||notesShowLastUpdatedDate&&sortStrategy!==sortStrategies.vr.CREATED_DATE?(0,getLatestActivityDate.A)(annotation):annotation.DateCreated;if(timezone&&dateCreated){const datetimeStr=dateCreated.toLocaleString("en-US",{timeZone:timezone});date=new Date(datetimeStr)}else date=dateCreated;const noteDateAndTime=date?dayjs_min_default()(date).locale(language).format(noteDateFormat):t("option.notesPanel.noteContent.noDate"),numberOfReplies=annotation.getReplies().length;let color=annotation[iconColor]?.toHexString?.();activeTheme===theme.A.DARK&&color&&(0,helpers_color.lw)(color)?color=commonColors.zb.white:activeTheme===theme.A.LIGHT&&color&&(0,helpers_color.vO)(color)&&(color=commonColors.zb.black);const fillColor=(0,getColor.A)(annotation.FillColor),annotationAssociatedNumber=annotation.getAssociatedNumber(),annotationDisplayedAssociatedNumber=`#${annotationAssociatedNumber} - `,authorAndDateClass=classnames_default()("author-and-date",{isReply}),noteHeaderClass=classnames_default()("NoteHeader",{parent:!isReply&&!isGroupMember});return(0,jsx_runtime.jsxs)("div",{className:noteHeaderClass,children:[!isReply&&(0,jsx_runtime.jsxs)("div",{className:"type-icon-container",children:[isUnread&&(0,jsx_runtime.jsx)("div",{className:"unread-notification"}),(0,jsx_runtime.jsx)(Icon.A,{className:"type-icon",glyph:icon,color,fillColor})]}),(0,jsx_runtime.jsx)("div",{className:authorAndDateClass,children:(0,jsx_runtime.jsxs)("div",{className:"author-and-overflow",children:[(0,jsx_runtime.jsxs)("div",{className:"author-and-time",children:[(0,jsx_runtime.jsxs)("div",{className:"author",children:[showAnnotationNumbering&&void 0!==annotationAssociatedNumber&&(0,jsx_runtime.jsx)("span",{className:"annotation-number",children:annotationDisplayedAssociatedNumber}),renderAuthorName(annotation)]}),(0,jsx_runtime.jsxs)("div",{className:"date-and-num-replies",children:[(0,jsx_runtime.jsxs)("div",{className:"date-and-time",children:[noteDateAndTime,isGroupMember&&` (Page ${annotation.PageNumber})`]}),numberOfReplies>0&&!isSelected&&(0,jsx_runtime.jsxs)("div",{className:"num-replies-container",children:[(0,jsx_runtime.jsx)(Icon.A,{className:"num-reply-icon",glyph:"icon-chat-bubble"}),(0,jsx_runtime.jsx)("div",{className:"num-replies",children:numberOfReplies})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"state-and-overflow",children:[isMultiSelectMode&&!isGroupMember&&!isReply&&(0,jsx_runtime.jsx)(Choice.A,{id:`note-multi-select-toggle_${annotation.Id}`,"aria-label":`${renderAuthorName(annotation)} ${t("option.notesPanel.toggleMultiSelect")}`,checked:isMultiSelected,onClick:e=>{e.preventDefault(),e.stopPropagation(),handleMultiSelect(!isMultiSelected)}}),(0,jsx_runtime.jsx)(components_NoteUnpostedCommentIndicator,{annotationId:annotation.Id,ariaLabel:`Unposted Comment, ${renderAuthorName(annotation)}, ${noteDateAndTime}`}),!isNoteStateDisabled&&!isReply&&!isMultiSelectMode&&!isGroupMember&&!isTrackedChange&&(0,jsx_runtime.jsx)(components_NoteState,{annotation,isSelected}),!isEditing&&isSelected&&!isMultiSelectMode&&!isGroupMember&&!isTrackedChange&&(0,jsx_runtime.jsx)(components_NotePopup,{noteIndex,annotation,setIsEditing,isReply}),isSelected&&isTrackedChange&&!isMultiSelectMode&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.A,{title:t("officeEditor.accept"),img:"icon-menu-checkmark",className:"tracked-change-icon-wrapper accept",onClick:()=>(trackedChangeAnnot=>{const trackedChangeId=trackedChangeAnnot.getCustomData(officeEditor.Rf);core.A.getOfficeEditor().acceptTrackedChange(trackedChangeId)})(annotation),iconClassName:"tracked-change-icon"}),(0,jsx_runtime.jsx)(Button.A,{title:t("officeEditor.reject"),img:"icon-close",className:"tracked-change-icon-wrapper reject",onClick:()=>(trackedChangeAnnot=>{const trackedChangeId=trackedChangeAnnot.getCustomData(officeEditor.Rf);core.A.getOfficeEditor().rejectTrackedChange(trackedChangeId)})(annotation),iconClassName:"tracked-change-icon"})]})]})]})})]})}NoteHeader_NoteHeader.propTypes=NoteHeader_propTypes;const components_NoteHeader_NoteHeader=NoteHeader_NoteHeader;NoteHeader_NoteHeader.__docgenInfo={description:"",methods:[],displayName:"NoteHeader",props:{icon:{description:"",type:{name:"string"},required:!1},iconColor:{description:"",type:{name:"string"},required:!1},color:{description:"",type:{name:"string"},required:!1},fillColor:{description:"",type:{name:"string"},required:!1},annotation:{description:"",type:{name:"object"},required:!1},language:{description:"",type:{name:"string"},required:!1},noteDateFormat:{description:"",type:{name:"string"},required:!1},isSelected:{description:"",type:{name:"bool"},required:!1},setIsEditing:{description:"",type:{name:"func"},required:!1},notesShowLastUpdatedDate:{description:"",type:{name:"bool"},required:!1},isUnread:{description:"",type:{name:"bool"},required:!1},renderAuthorName:{description:"",type:{name:"func"},required:!1},isNoteStateDisabled:{description:"",type:{name:"bool"},required:!1},isEditing:{description:"",type:{name:"bool"},required:!1},noteIndex:{description:"",type:{name:"number"},required:!1},sortStrategy:{description:"",type:{name:"string"},required:!1},activeTheme:{description:"",type:{name:"string"},required:!1},isMultiSelected:{description:"",type:{name:"bool"},required:!1},isMultiSelectMode:{description:"",type:{name:"bool"},required:!1},handleMultiSelect:{description:"",type:{name:"func"},required:!1},isGroupMember:{description:"",type:{name:"bool"},required:!1},showAnnotationNumbering:{description:"",type:{name:"bool"},required:!1},isTrackedChange:{description:"",type:{name:"bool"},required:!1}}};const components_NoteHeader=components_NoteHeader_NoteHeader},"./src/components/NotePopup/NotePopup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,s:()=>notePopupFlyoutItems});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./src/components/NotePopup/NotePopup.scss"),__webpack_require__("./node_modules/react-redux/es/index.js")),components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js");const createFlyoutItem=(option,icon,dataElement)=>({icon,label:`action.${option.toLowerCase()}`,title:`action.${option.toLowerCase()}`,option,dataElement}),notePopupFlyoutItems=[createFlyoutItem("Edit","","notePopupEdit"),createFlyoutItem("Delete","","notePopupDelete")],propTypes={handleEdit:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,handleDelete:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,isEditable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,isDeletable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,noteId:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string};function noop(){}function NotePopup(props){const{handleEdit=noop,handleDelete=noop,isEditable,isDeletable,isReply,noteId}=props,customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFeatureFlags(state)?.customizableUI)),flyoutSelector=`${src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.NOTE_POPUP_FLYOUT}-${noteId}`,[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.B)();if(!isEditable&&!isDeletable)return null;const notePopupButtonClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("overflow note-popup-toggle-trigger"),optionsClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("NotePopup options note-popup-options",{"options-reply":isReply,"modular-ui":customizableUI});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:optionsClass,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_8__.A,{dataElement:`notePopup-${noteId}`,className:notePopupButtonClass,img:"icon-tools-more",title:t("formField.formFieldPopup.options"),toggleElement:flyoutSelector,disabled:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NotePopupFlyout,{flyoutSelector,handleClick:selection=>{"Edit"===selection?handleEdit():"Delete"===selection&&handleDelete()},isEditable,isDeletable})]})}const NotePopupFlyout=({flyoutSelector,handleClick,isEditable,isDeletable})=>{const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.wA)(),currentFlyout=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFlyout(state,flyoutSelector))),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.B)();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{let items=notePopupFlyoutItems;isEditable?isDeletable||(items=items.filter((item=>"Delete"!==item.option))):items=items.filter((item=>"Edit"!==item.option));const notePopupFlyout={dataElement:flyoutSelector,className:"NotePopupFlyout",items:items.map((item=>({...item,label:t(item.label),title:t(item.title),onClick:()=>handleClick(item.option)})))};dispatch(currentFlyout?actions__WEBPACK_IMPORTED_MODULE_5__.A.updateFlyout(notePopupFlyout.dataElement,notePopupFlyout):actions__WEBPACK_IMPORTED_MODULE_5__.A.addFlyout(notePopupFlyout))}),[isEditable,isDeletable]),null};NotePopupFlyout.propTypes={flyoutSelector:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,handleClick:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,isEditable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,isDeletable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool},NotePopup.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=NotePopup;NotePopup.__docgenInfo={description:"",methods:[],displayName:"NotePopup",props:{handleEdit:{description:"",type:{name:"func"},required:!1},handleDelete:{description:"",type:{name:"func"},required:!1},isEditable:{description:"",type:{name:"bool"},required:!1},isDeletable:{description:"",type:{name:"bool"},required:!1},noteId:{description:"",type:{name:"string"},required:!1}}}},"./src/components/NotePopup/NotePopup.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotePopup/NotePopup.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteState/NoteState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/prop-types/index.js")),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_ModularComponents_NoteStateFlyout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ModularComponents/NoteStateFlyout/index.js"),components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js");const propTypes={annotation:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object.isRequired,handleStateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};function NoteState(props){const{annotation,handleStateChange=()=>{}}=props,[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.B)(),annotationState=annotation.getStatus(),icon=`icon-annotation-status-${""===annotationState?"none":annotationState.toLowerCase()}`,id=annotation.Id;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_3__.A,{dataElement:`noteState-${id}`,title:t("option.notesOrder.status"),img:icon,toggleElement:`${constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.NOTE_STATE_FLYOUT}-${id}`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_NoteStateFlyout__WEBPACK_IMPORTED_MODULE_2__.A,{noteId:id,handleStateChange})]})}NoteState.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=NoteState;NoteState.__docgenInfo={description:"",methods:[],displayName:"NoteState",props:{annotation:{description:"",type:{name:"object"},required:!0},handleStateChange:{description:"",type:{name:"func"},required:!1}}}},"./src/components/NoteTextPreview/NoteTextPreview.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__("./src/components/NoteTextPreview/NoteTextPreview.scss");function NoteTextPreview(props){const text=props.children.replace(/\n$/,""),{panelWidth,linesToBreak,renderRichText,richTextStyle,resize,style,comment=!1,beforeContent=()=>{}}=props,[expanded,setExpand]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[previewElementWidth,setPreviewWidth]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[charsPerLine,setCharsperLine]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[showPrompt,setShowPrompt]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),ref=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.B)(),textToDisplay=expanded?text:text.substring(0,charsPerLine*linesToBreak),prompt=t(expanded?"action.showLess":"action.showMore"),noteTextPreviewClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("note-text-preview",{"preview-comment":comment});return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const textNodeWidth=ref.current.clientWidth;setPreviewWidth(textNodeWidth)}),[panelWidth]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{const textWidth=function getTextWidth(text){const context=document.createElement("canvas").getContext("2d");return context.font="13px sans-serif",context.measureText(text).width}(text),averageCharWidth=textWidth/text.length,charsPerLine=Math.floor(previewElementWidth/averageCharWidth);setCharsperLine(charsPerLine);setShowPrompt(textWidth/previewElementWidth>linesToBreak)}),[text,previewElementWidth]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:noteTextPreviewClass,ref,style,"aria-live":"polite",children:[beforeContent(),renderRichText&&richTextStyle?renderRichText(textToDisplay,richTextStyle,0):textToDisplay," ",showPrompt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"note-text-preview-prompt",onClick:event=>{event.stopPropagation(),setExpand(!expanded),resize&&resize()},children:prompt})]})}NoteTextPreview.propTypes={panelWidth:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,linesToBreak:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,renderRichText:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,richTextStyle:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,resize:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,style:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,comment:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,beforeContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=NoteTextPreview;NoteTextPreview.__docgenInfo={description:"",methods:[],displayName:"NoteTextPreview",props:{panelWidth:{description:"",type:{name:"number"},required:!1},linesToBreak:{description:"",type:{name:"number"},required:!1},renderRichText:{description:"",type:{name:"func"},required:!1},richTextStyle:{description:"",type:{name:"any"},required:!1},resize:{description:"",type:{name:"func"},required:!1},style:{description:"",type:{name:"any"},required:!1},comment:{description:"",type:{name:"bool"},required:!1},beforeContent:{description:"",type:{name:"func"},required:!1}}}},"./src/components/NoteTextPreview/NoteTextPreview.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextPreview/NoteTextPreview.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteTextarea/NoteTextarea.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>NoteTextarea_NoteTextarea});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),throttle=__webpack_require__("./node_modules/lodash/throttle.js"),throttle_default=__webpack_require__.n(throttle),Context=__webpack_require__("./src/components/Note/Context.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),lib=__webpack_require__("./node_modules/react-quill-new/lib/index.js"),dist=__webpack_require__("./node_modules/quill-mention/dist/index.mjs"),MentionsManager=__webpack_require__("./src/helpers/MentionsManager.js"),Button=__webpack_require__("./src/components/Button/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js");const helpers_convertNewlinesToParagraphs=function convertNewlinesToParagraphs(value){if(!value)return value;const valueSplit=value.split("\n");return valueSplit.length>1?valueSplit.map((text=>`<p>${text||"<br>"}</p>`)).join(""):value},Clipboard=lib._.import("modules/clipboard"),{quillShadowDOMWorkaround}=window.Core;const Keyboard=lib._.import("modules/keyboard");class CustomKeyboard extends Keyboard{static DEFAULTS={...Keyboard.DEFAULTS,bindings:{...Keyboard.DEFAULTS.bindings,"list autofill":void 0}}}__webpack_require__("./src/constants/quill.scss"),__webpack_require__("./src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss");let globalUserData=[];const formats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","mention"];lib._.register("modules/keyboard",CustomKeyboard,!0),lib._.register("modules/clipboard",class QuillPasteExtra extends Clipboard{constructor(quill,options){quillShadowDOMWorkaround(quill),super(quill,options)}},!0),lib._.register("modules/blurInput",class BlurInputModule{constructor(quill){this.quill=quill,this.noteContainer=quill.root.closest(".Note"),this.shouldSkipInput=!1,this.noteContainer?.addEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown=event=>{"Escape"===event.key?this.blurQuill():"Tab"===event.key&&this.shouldSkipInput&&(event.preventDefault(),this.moveFocus(event.shiftKey))};blurQuill(){this.shouldSkipInput=!0,this.quill.blur(),this.quill.container.tabIndex=0,this.quill.container.focus()}moveFocus(backwards){const focusableElements=Array.from(this.noteContainer.querySelectorAll(".ql-container.ql-snow, button.modular-ui")),currentIndex=focusableElements.indexOf(this.quill.container);if(-1!==currentIndex){const newIndex=backwards?currentIndex-1:currentIndex+1;focusableElements[newIndex]?.focus()}this.shouldSkipInput=!1,this.quill.container.tabIndex=-1}}),lib._.register({"modules/mention":dist.PX,"blots/mention":dist.Yj});const mentionModule={mention:{allowedChars:/^[A-Za-z\sÅÄÖåäö0-9\-_]*$/,mentionDenotationChars:["@","#"],mentionContainerClass:"mention__element",mentionListClass:"mention__suggestions__list",listItemClass:"mention__suggestions__item",renderItem(item){const div=document.createElement("div");if(div.innerText=item.value,item.email){const para=document.createElement("p");para.innerText=item.email,para.className="email",div.appendChild(para)}return div},async source(searchTerm,renderList){const mentionsSearchFunction=MentionsManager.A.getMentionLookupCallback();renderList(await mentionsSearchFunction(globalUserData,searchTerm),searchTerm)}}},CommentTextarea_CommentTextarea=react.forwardRef((({value="",onChange,onKeyDown,onBlur,onFocus,userData,isReply},ref)=>{const[t]=(0,useTranslation.B)(),isAddReplyAttachmentDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,dataElement.A.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON)));globalUserData=userData;value=helpers_convertNewlinesToParagraphs(value);const baseModule={blurInput:{}};return(0,jsx_runtime.jsxs)("div",{className:"comment-textarea",onBlur,onFocus,onClick:e=>{e.preventDefault(),e.stopPropagation()},onScroll:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,jsx_runtime.jsx)(lib.A,{className:"comment-textarea ql-container ql-editor",style:{overflowY:"visible"},ref:ele=>(ele&&(ele.getEditor().root.ariaLabel=`${t(isReply?"action.reply":"action.comment")}`),ref(ele)),modules:userData&&userData.length>0?{...baseModule,...mentionModule}:baseModule,theme:"snow",value,placeholder:`${t(isReply?"action.reply":"action.comment")}...`,onChange,onKeyDown,formats}),isReply&&!isAddReplyAttachmentDisabled&&(0,jsx_runtime.jsx)(Button.A,{className:"add-attachment",dataElement:dataElement.A.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON,img:"ic_fileattachment_24px",title:`${t("action.add")} ${t("option.type.fileattachment")}`,onClick:()=>{(0,getRootNode.Ay)().querySelector("#reply-attachment-picker")?.click()}})]})}));CommentTextarea_CommentTextarea.displayName="CommentTextarea";const NoteTextarea_CommentTextarea_CommentTextarea=CommentTextarea_CommentTextarea;CommentTextarea_CommentTextarea.__docgenInfo={description:"",methods:[],displayName:"CommentTextarea",props:{value:{defaultValue:{value:"''",computed:!1},required:!1}}};const propTypes={value:prop_types_default().string,placeholder:prop_types_default().string,onChange:prop_types_default().func.isRequired,onBlur:prop_types_default().func,onFocus:prop_types_default().func,onSubmit:prop_types_default().func},NoteTextarea=react.forwardRef(((props,forwardedRef)=>{const[userData,canSubmitByEnter]=(0,es.d4)((state=>[selectors.A.getUserData(state),selectors.A.isNoteSubmissionWithEnterEnabled(state),selectors.A.getAutoFocusNoteOnAnnotationSelection(state),selectors.A.getIsNoteEditing(state)]),es.bN),{resize}=(0,react.useContext)(Context.A),textareaRef=(0,react.useRef)(),prevHeightRef=(0,react.useRef)();(0,react.useLayoutEffect)((()=>{const boxDOMElement=textareaRef.current?.editor?.container.firstElementChild,boundingBox=boxDOMElement?.getBoundingClientRect()||{};prevHeightRef.current&&prevHeightRef.current!==boundingBox.height&&resize(),prevHeightRef.current=boundingBox.height}),[props.value,resize]);const textareaProps={...props,ref:el=>{textareaRef.current=el,forwardedRef(el)},onChange:throttle_default()(((content,delta,source,editor)=>{if(content=content.replace(/&nbsp;/g," "),textareaRef.current){let value="";editor&&""===editor.getText().trim()&&"<p><br></p>"===content||(value=content.target?content.target.value:content),props.onChange(value);if(MentionsManager.A.doesDeltaContainMention(delta.ops)){const formattedText=MentionsManager.A.getFormattedTextFromDeltas(delta.ops),mentionData=MentionsManager.A.extractMentionDataFromStr(formattedText),totalTextLength=editor.getText().length+mentionData.plainTextValue.length,textareaEditor=textareaRef.current?.editor;setTimeout((()=>textareaEditor?.setSelection(totalTextLength,totalTextLength)),1)}}}),100),onKeyDown:e=>{if(13===e.which){const isSubmittingByEnter=canSubmitByEnter,isSubmittingByCtrlEnter=e.metaKey||e.ctrlKey;(isSubmittingByEnter||isSubmittingByCtrlEnter)&&props.onSubmit(e)}},userData};return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(NoteTextarea_CommentTextarea_CommentTextarea,{...textareaProps})})}));NoteTextarea.displayName="NoteTextarea",NoteTextarea.propTypes=propTypes;const NoteTextarea_NoteTextarea=NoteTextarea;NoteTextarea.__docgenInfo={description:"",methods:[],displayName:"NoteTextarea",props:{value:{description:"",type:{name:"string"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},onBlur:{description:"",type:{name:"func"},required:!1},onFocus:{description:"",type:{name:"func"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1}}}},"./src/components/NoteTextarea/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/NoteTextarea/NoteTextarea.js").A},"./src/components/ReplyAttachmentList/ReplyAttachmentList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_ReplyAttachmentList_ReplyAttachmentList});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),FileSaver_min=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js"),Button=__webpack_require__("./src/components/Button/index.js"),Icon=__webpack_require__("./src/components/Icon/index.js"),Tooltip=__webpack_require__("./src/components/Tooltip/index.js"),ReplyAttachmentManager=__webpack_require__("./src/helpers/ReplyAttachmentManager.js"),purify_es=__webpack_require__("./node_modules/dompurify/dist/purify.es.mjs");const sanitizeSVG=async file=>{const svgText=await(svg=>new Promise((resolve=>{if(void 0===svg.size)resolve(svg.toString("utf-8"));else{const fileReader=new FileReader;fileReader.onload=()=>resolve(fileReader.result),fileReader.readAsText(svg)}})))(file);if(!svgText)return{svg:file};const forbiddenTags=[];purify_es.A.addHook("uponSanitizeElement",((_,hookEvent)=>{const{tagName,allowedTags}=hookEvent;allowedTags[tagName]||forbiddenTags.push(tagName)}));const clean=purify_es.A.sanitize(svgText);return{svg:new Blob([clean],{type:"image/svg+xml"}),isDirty:forbiddenTags.length>0}};__webpack_require__("./src/components/ReplyAttachmentList/ReplyAttachmentList.scss");const ImagePreview=({file})=>{const[t]=(0,useTranslation.B)(),[src,setSrc]=(0,react.useState)(),[isDirtySVG,setIsDirtySvg]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{(async()=>{setIsDirtySvg(!1);let fileToSanitize=file;const isImageFromPDF=!(file instanceof File||file.url);if(isImageFromPDF&&(fileToSanitize=await(0,ReplyAttachmentManager.jF)(file)),file instanceof File||isImageFromPDF)if((file=>"image/svg+xml"===file.type)(file)){const{svg,isDirty}=await sanitizeSVG(fileToSanitize);setSrc(URL.createObjectURL(svg)),setIsDirtySvg(isDirty)}else setSrc(URL.createObjectURL(fileToSanitize))})()}),[file]),(0,jsx_runtime.jsxs)("div",{className:classnames_default()({"reply-attachment-preview":!0,dirty:isDirtySVG}),children:[(0,jsx_runtime.jsx)("img",{src}),isDirtySVG&&(0,jsx_runtime.jsx)("span",{className:"reply-attachment-preview-message",children:t("message.svgMalicious")})]})},ReplyAttachmentList_ReplyAttachmentList=({files,isEditing,fileDeleted})=>{const[tabManager,previewEnabled]=(0,es.d4)((state=>[selectors.A.getTabManager(state),selectors.A.isReplyAttachmentPreviewEnabled(state)])),[t]=(0,useTranslation.B)();return(0,jsx_runtime.jsx)("div",{className:"reply-attachment-list",children:files.map(((file,i)=>(0,jsx_runtime.jsxs)("div",{className:"reply-attachment",onClick:e=>(async(e,file)=>{if(e.preventDefault(),e.stopPropagation(),!tabManager)return console.warn("Can't open attachment in non-multi-tab mode");let fileData;fileData=file instanceof File?file:file.url?file.url:await(0,ReplyAttachmentManager.jF)(file),fileData&&tabManager.addTab(fileData,{filename:file.name,setActive:!0,saveCurrentActiveTabState:!0})})(e,file),children:[previewEnabled&&(0,ReplyAttachmentManager.wu)(file)&&(0,jsx_runtime.jsx)(ImagePreview,{file}),(0,jsx_runtime.jsxs)("div",{className:"reply-attachment-info",children:[(0,jsx_runtime.jsx)(Icon.A,{className:"reply-attachment-icon",glyph:(0,ReplyAttachmentManager.HY)(file)}),(0,jsx_runtime.jsx)(Tooltip.A,{content:file.name,children:(0,jsx_runtime.jsx)("div",{className:"reply-file-name",children:file.name})}),isEditing?(0,jsx_runtime.jsx)(Button.A,{className:"attachment-button",title:`${t("action.delete")} ${t("option.type.fileattachment")}`,img:"icon-close",onClick:e=>((e,file)=>{e.preventDefault(),e.stopPropagation(),fileDeleted(file)})(e,file)}):(0,jsx_runtime.jsx)(Button.A,{className:"attachment-button",title:`${t("action.download")} ${t("option.type.fileattachment")}`,img:"icon-download",onClick:e=>(async(e,file)=>{e.preventDefault(),e.stopPropagation();const fileData=file.url?file.url:await(0,ReplyAttachmentManager.jF)(file);(0,FileSaver_min.saveAs)(fileData,file.name)})(e,file)})]})]},i)))})},components_ReplyAttachmentList_ReplyAttachmentList=ReplyAttachmentList_ReplyAttachmentList;ReplyAttachmentList_ReplyAttachmentList.__docgenInfo={description:"",methods:[],displayName:"ReplyAttachmentList"}},"./src/components/ReplyAttachmentList/ReplyAttachmentList.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ReplyAttachmentList/ReplyAttachmentList.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ReplyAttachmentList/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ReplyAttachmentList/ReplyAttachmentList.js").A},"./src/constants/quill.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/constants/quill.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/helpers/NoteStateUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>createStateAnnotation});var i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/index.js");function createStateAnnotation(annotation,state,documentViewerKey=1){const stateAnnotation=new window.Core.Annotations.StickyAnnotation;stateAnnotation.InReplyTo=annotation.Id,stateAnnotation.X=annotation.X,stateAnnotation.Y=annotation.Y,stateAnnotation.PageNumber=annotation.PageNumber,stateAnnotation.Subject="Sticky Note",stateAnnotation.Author=core__WEBPACK_IMPORTED_MODULE_1__.A.getCurrentUser(),stateAnnotation.State=state,stateAnnotation.StateModel="Marked"===state||"Unmarked"===state?"Marked":"Review",stateAnnotation.Hidden=!0,stateAnnotation.enableSkipAutoLink();const displayAuthor=core__WEBPACK_IMPORTED_MODULE_1__.A.getDisplayAuthor(stateAnnotation.Author,documentViewerKey),contents=`${i18next__WEBPACK_IMPORTED_MODULE_0__.A.t(`option.state.${state.toLowerCase()}`)} ${i18next__WEBPACK_IMPORTED_MODULE_0__.A.t("option.state.setBy")} ${displayAuthor}`;return stateAnnotation.setContents(contents),stateAnnotation}},"./src/helpers/ReplyAttachmentManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ET:()=>setAnnotationAttachments,HY:()=>getAttachmentIcon,jF:()=>decompressFileContent,wu:()=>isImage});const icons={pdf:"ic-file-pdf",image:"ic-file-img",cad:"ic-file-cad",doc:"ic-file-doc",ppt:"ic-file-ppt",xls:"ic-file-xls",unknown:"ic-file-etc"},FileAttachmentUtils=window.Core.Annotations.FileAttachmentUtils;async function decompressFileContent(file){return FileAttachmentUtils.decompressWithFlateDecode(file.content,file.type)}async function setAnnotationAttachments(annotation,files=[]){await annotation.setAttachments(files)}function isImage(file){return!(!file.type||!file.type.startsWith("image/"))}function getAttachmentIcon(file){if(isImage(file))return icons.image;const extension=file.name?.split(".").pop().toLowerCase();switch(extension){case"pdf":return icons.pdf;case"cad":return icons.cad;case"doc":case"docx":return icons.doc;case"ppt":case"pptx":return icons.ppt;case"xls":case"xlsx":return icons.xls;default:return icons.unknown}}},"./src/helpers/setAnnotationRichTextStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(editor,annotation)=>{const richTextStyle={},ops=editor.getContents().ops;let breakpoint=0;ops.forEach((item=>{const attributes=item.attributes,isMention=item.insert?.mention;let value=item.insert;if(isMention){const mention=item.insert.mention;value=mention.denotationChar+mention.value}const cssStyle={};(null==attributes?void 0:attributes.bold)&&(cssStyle["font-weight"]="bold"),(null==attributes?void 0:attributes.italic)&&(cssStyle["font-style"]="italic"),(null==attributes?void 0:attributes.color)&&(cssStyle.color=attributes.color),(null==attributes?void 0:attributes.underline)&&(cssStyle["text-decoration"]="word"),(null==attributes?void 0:attributes.strike)&&(cssStyle["text-decoration"]?cssStyle["text-decoration"]=`${cssStyle["text-decoration"]} line-through`:cssStyle["text-decoration"]="line-through"),(null==attributes?void 0:attributes.size)&&(cssStyle["font-size"]=attributes.size),(null==attributes?void 0:attributes.font)&&(cssStyle["font-family"]=attributes.font),richTextStyle[breakpoint]=cssStyle,breakpoint+=value.length})),annotation.setRichTextStyle(richTextStyle)}}}]);