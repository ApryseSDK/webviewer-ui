(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[42131],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/CustomModal/CustomModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.CustomModal{visibility:visible}.closed.CustomModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.CustomModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.CustomModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.CustomModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.CustomModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.CustomModal .footer .modal-button.cancel:hover,.CustomModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.CustomModal .footer .modal-button.cancel,.CustomModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.CustomModal .footer .modal-button.cancel.disabled,.CustomModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.CustomModal .footer .modal-button.cancel.disabled span,.CustomModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.CustomModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.CustomModal .modal-container .wrapper .modal-content{padding:10px}.CustomModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.CustomModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.CustomModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.CustomModal .footer .modal-button.confirm{margin-inline-start:4px}.CustomModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomModal .footer .modal-button{padding:23px 8px}}.CustomModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomModal .swipe-indicator{width:32px}}.CustomModal .CustomModal-container{box-shadow:0 0 3px 0 var(--document-box-shadow);overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .CustomModal .CustomModal-container,.CustomModal .App:not(.is-web-component) .CustomModal-container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .CustomModal .CustomModal-container,.CustomModal .App.is-web-component .CustomModal-container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomModal .CustomModal-container,.CustomModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomModal-container{width:100%;position:fixed;inset-inline-start:0;inset-block-end:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomModal .CustomModal-container,.CustomModal .App.is-web-component:not(.is-in-desktop-only-mode) .CustomModal-container{width:100%;position:fixed;inset-inline-start:0;inset-block-end:0;padding-top:4px;min-width:100px}}.CustomModal .CustomModal-container{display:flex;flex-direction:column;width:480px;padding:0;border-radius:4px;box-shadow:0 0 3px var(--document-box-shadow);background:var(--component-background);position:relative}.CustomModal .CustomModal-container .CustomModal-header{padding:20px 16px 16px;box-shadow:inset 0 -1px 0 var(--modal-stroke-and-border)}.CustomModal .CustomModal-container .CustomModal-header p{display:flex;align-items:center;height:24px;font-size:16px;font-weight:700;margin:0 16px 0 0}.CustomModal .CustomModal-container .CustomModal-body{padding:16px}.CustomModal .CustomModal-container .CustomModal-footer{padding:16px;box-shadow:inset 0 1px 0 var(--modal-stroke-and-border);margin:0}.CustomModal .CustomModal-container .CustomModal-footer .modal-button{margin-top:0}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/CustomModal/CustomModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js");__webpack_require__("./src/components/CustomModal/CustomModal.scss");function isDOMNode(element){try{return element instanceof window.Node||element instanceof window.parent.Node}catch(e){return!1}}const CustomModalItemPropTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string.isRequired,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,render:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,element:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,close:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,disableBackdropClick:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,disableEscapeKeyDown:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool};function CustomModalItem(props){const{dataElement,isOpen,element,render,close,disableBackdropClick,disableEscapeKeyDown}=props,[usedElement,setUsedElement]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(element),modalRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef();react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect((function renderCustomModal(){if(render&&isOpen&&modalRef.current){modalRef.current.focus();let el=render();if("string"==typeof el&&(el=document.createTextNode(el)),(element=>react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(element))(el))setUsedElement(el);else if(isDOMNode(el)){for(;modalRef.current.firstChild;)modalRef.current.removeChild(modalRef.current.lastChild);modalRef.current.appendChild(el)}}}),[isOpen,render]);const onClickOutsideModal=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function onClickOutsideModal(){disableBackdropClick||close(dataElement)}),[close,dataElement,disableBackdropClick]),onKeyDownOutsideModal=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function onClickOutsideModal(event){event&&27===event.which&&!disableEscapeKeyDown&&close(dataElement)}),[close,dataElement,disableEscapeKeyDown]);react__WEBPACK_IMPORTED_MODULE_1__.useEffect((()=>{if(isOpen)return document.addEventListener("keydown",onKeyDownOutsideModal),function cleanUp(){document.removeEventListener("keydown",onKeyDownOutsideModal)}}),[onKeyDownOutsideModal,isOpen]);const classNames=["Modal CustomModal"];return classNames.push(dataElement),isOpen?classNames.push("open"):classNames.push("closed"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{role:"button",tabIndex:"-1",className:classNames.join(" "),"data-element":dataElement,onClick:onClickOutsideModal,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:modalRef,className:"CustomModal-container",onClick:e=>e.stopPropagation(),children:usedElement})})}function CustomModal(){const[customModals,openElements,disableElements]=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_4__.A.getCustomModals(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getOpenElements(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getDisabledElements(state)]),react_redux__WEBPACK_IMPORTED_MODULE_2__.bN),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.wA)(),closeCustomModalElement=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function closeCustomModalElementCallback(dataElement){dispatch(actions__WEBPACK_IMPORTED_MODULE_3__.A.closeElement(dataElement))}),[dispatch]);return customModals.map((customModalItem=>{const{dataElement,disableBackdropClick=!1,disableEscapeKeyDown=!1}=customModalItem;let{render}=customModalItem;const isModalOpen=openElements[dataElement],disableElement=disableElements[dataElement];if(disableElement&&!0===disableElement.disabled)return null;const{header,body,footer}=customModalItem;let headerDiv=null,bodyDiv=null,footerDiv=null;const createElementsForModal=(innerHTML,ref,children)=>{innerHTML?((el,ref)=>{isDOMNode(el)&&ref.appendChild(el)})(innerHTML,ref):children&&children.length&&children.forEach(((child,i)=>{let div;if(isDOMNode(child))child.classList.add(`customEl${i}`),div=child;else{const{title,button,style,onClick=null}=child;let{className}=child;div=button?document.createElement("button"):document.createElement("div"),className=button?`Button ${className}`:className,className?.split(" ").forEach((name=>div.classList.add(name))),div.classList.add(`customEl${i}`),div.innerText=title,div.onclick=onClick,style&&(div.style=Object.entries(style).map((([k,v])=>Number.isInteger(v)?`${k}:${v}px`:`${k}:${v}`)).join(";"))}const el=ref.querySelector(`.customEl${i}`);el?ref.replaceChild(div,el):ref.appendChild(div)}))};if(header){const{className,style,innerHTML=null}=header;let{title}=header;title=title&&!innerHTML?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:title}):null,headerDiv=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:ref=>{const{header}=customModalItem,{children=[],innerHTML=null}=header;createElementsForModal(innerHTML,ref,children)},className:`CustomModal-header ${className}`,style,children:title})}if(body){const{className,style,innerHTML=null}=body;let{title}=body;title=title&&!innerHTML?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:title}):null,bodyDiv=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:ref=>{const{body}=customModalItem,{children=[],innerHTML=null}=body;createElementsForModal(innerHTML,ref,children)},className:`CustomModal-body ${className}`,style,children:title})}if(footer){const{className,style,innerHTML=null}=footer;let{title}=footer;title=title&&!innerHTML?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:title}):null,footerDiv=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:ref=>{const{footer}=customModalItem,{children=[],innerHTML=null}=footer;createElementsForModal(innerHTML,ref,children)},className:`CustomModal-footer ${className}`,style,children:title})}let element=null;return(header||body||footer)&&(element=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[headerDiv,bodyDiv,footerDiv]}),render=null),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CustomModalItem,{dataElement,isOpen:isModalOpen,render,element,close:closeCustomModalElement,disableBackdropClick,disableEscapeKeyDown},dataElement)})).filter(Boolean)}CustomModalItem.propTypes=CustomModalItemPropTypes;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(CustomModal)},"./src/components/CustomModal/CustomModal.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/CustomModal/CustomModal.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/CustomModal/CustomModal.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomModalUI:()=>CustomModalUI,CustomModalWithAPI:()=>CustomModalWithAPI,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CustomModal_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),es=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js")),redux=__webpack_require__("./node_modules/redux/es/redux.js"),CustomModal=__webpack_require__("./src/components/CustomModal/CustomModal.js"),external_STORYBOOK_MODULE_TEST_=__webpack_require__("storybook/test"),App=__webpack_require__("./src/components/App/index.js"),storybookHelper=__webpack_require__("./src/helpers/storybookHelper.js");const mockCustomModal={dataElement:"customModal",header:{title:"Custom Modal Test",className:"myCustomModal-header",style:{},children:[{title:"Sub Header Title",className:"sub-header-title"}]},body:{className:"myCustomModal-body",style:{},children:[{title:"Custom Modal Body Test",className:"sub-header-title"}]},footer:{className:"myCustomModal-footer footer",style:{},children:[{title:"Cancel",button:!0,style:{},className:"modal-button cancel-form-field-button"},{title:"OK",button:!0,style:{},className:"modal-button confirm ok-btn"}]}},initialState={viewer:{customModals:[mockCustomModal],openElements:{customModal:!0},disabledElements:{}}};const store=(0,redux.y$)((function rootReducer(state=initialState){return state})),CustomModal_stories={title:"Components/CustomModal",component:[CustomModal.A,App.A],decorators:[Story=>(0,jsx_runtime.jsx)(es.Kq,{store,children:(0,jsx_runtime.jsx)(Story,{})})]},CustomModalUI=(()=>(0,jsx_runtime.jsx)(CustomModal.A,{})).bind({});CustomModalUI.play=async({canvasElement})=>{const canvas=await(0,external_STORYBOOK_MODULE_TEST_.within)(canvasElement);await(0,external_STORYBOOK_MODULE_TEST_.expect)(canvas.getByText("Custom Modal Test")).toBeInTheDocument(),await(0,external_STORYBOOK_MODULE_TEST_.expect)(canvas.getByText("Sub Header Title")).toBeInTheDocument(),await(0,external_STORYBOOK_MODULE_TEST_.expect)(canvas.getByText("Custom Modal Body Test")).toBeInTheDocument(),await(0,external_STORYBOOK_MODULE_TEST_.expect)(canvas.getByRole("button",{name:"OK"})).toBeInTheDocument(),await(0,external_STORYBOOK_MODULE_TEST_.expect)(canvas.getByRole("button",{name:"Cancel"})).toBeInTheDocument()};const CustomModalWithAPI=(0,storybookHelper.Xu)({headers:{},components:{}});CustomModalWithAPI.play=async({canvasElement})=>{const canvas=(0,external_STORYBOOK_MODULE_TEST_.within)(canvasElement);window.instance.UI.addCustomModal(mockCustomModal),window.instance.UI.openElements(["customModal"]);const customModal=await canvas.findByText("Custom Modal Test");(0,external_STORYBOOK_MODULE_TEST_.expect)(customModal).toBeInTheDocument()},CustomModalWithAPI.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const __namedExportsOrder=["CustomModalUI","CustomModalWithAPI"]}}]);