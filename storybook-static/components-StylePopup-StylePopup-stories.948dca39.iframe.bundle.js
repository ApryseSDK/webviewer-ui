"use strict";(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[62415],{"./src/components/StylePopup/StylePopup.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StylePopupForDistanceMeasurementToolInHeaderItem:()=>StylePopupForDistanceMeasurementToolInHeaderItem,StylePopupForFreeTextToolInHeaderItem:()=>StylePopupForFreeTextToolInHeaderItem,StylePopupForRedactionToolInHeaderItem:()=>StylePopupForRedactionToolInHeaderItem,StylePopupInFormBuilder:()=>StylePopupInFormBuilder,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),src_redux_initialState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/initialState.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/StylePopup/index.js"),core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/index.js"),helpers_storybookHelper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/storybookHelper.js"),storybook_test__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./src/components/HeaderItems/HeaderItems.scss"),__webpack_require__("storybook/test"));const __WEBPACK_DEFAULT_EXPORT__={title:"Components/StylePopup",component:___WEBPACK_IMPORTED_MODULE_4__.A},state={...src_redux_initialState__WEBPACK_IMPORTED_MODULE_2__.A,viewer:{openElements:{stylePopup:!0,stylePopupTextStyleContainer:!0,stylePopupColorsContainer:!0,stylePopupLabelTextContainer:!0},disabledElements:{},selectedScale:void 0,colorMap:{textField:{currentStyleTab:"StrokeColor",iconColor:"StrokeColor"}},fonts:["Helvetica","Times New Roman","Arimo"],snapMode:{},customElementOverrides:{}}},noop=()=>{},store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__.U1)({reducer:()=>state}),StylePopupInFormBuilder=(props=>(core__WEBPACK_IMPORTED_MODULE_5__.A.getFormFieldCreationManager=()=>({isInFormFieldCreationMode:()=>!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.A,{...props})}))).bind({});StylePopupInFormBuilder.args={currentStyleTab:"StrokeColor",isInFormBuilderAndNotFreeText:!0,style:{FillColor:new window.Core.Annotations.Color(212,211,211),StrokeColor:new window.Core.Annotations.Color(0,0,0),TextColor:new window.Core.Annotations.Color(0,0,0),Opacity:null,StrokeThickness:1,FontSize:"12pt",Style:"solid"},colorMapKey:"textField",colorPalette:"StrokeColor",disableSeparator:!0,hideSnapModeCheckbox:!0,isFreeText:!1,isEllipse:!1,isTextStyleContainerActive:!0,isLabelTextContainerActive:!0,properties:{StrokeStyle:"solid"},isRedaction:!1,fonts:["Helvetica","Times New Roman","Arimo"],isSnapModeEnabled:!1,onSliderChange:noop,onStyleChange:noop,closeElement:noop,openElement:noop,onPropertyChange:noop,onRichTextStyleChange:noop,onLineStyleChange:noop},StylePopupInFormBuilder.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const StylePopupForRedactionToolInHeaderItem=()=>{const props={currentStyleTab:"TextColor",isInFormBuilderAndNotFreeText:!1,style:{FillColor:new window.Core.Annotations.Color(212,211,211),StrokeColor:new window.Core.Annotations.Color(0,0,0),TextColor:new window.Core.Annotations.Color(0,0,0),Opacity:null,StrokeThickness:1,FontSize:"12pt",Style:"solid"},colorMapKey:"textField",colorPalette:"TextColor",disableSeparator:!0,hideSnapModeCheckbox:!0,isFreeText:!1,isEllipse:!1,isTextStyleContainerActive:!0,isLabelTextContainerActive:!0,properties:{StrokeStyle:"solid"},isRedaction:!0,fonts:["Helvetica","Times New Roman","Arimo"],isSnapModeEnabled:!1,onSliderChange:noop,onStyleChange:noop,closeElement:noop,openElement:noop,onPropertyChange:noop,onRichTextStyleChange:noop,onLineStyleChange:noop},stateForTextTab={...state,viewer:{...state.viewer,colorMap:{textField:{currentStyleTab:"TextColor",iconColor:"TextColor"}}}},store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__.U1)({reducer:()=>stateForTextTab});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"HeaderItems",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.A,{...props})})})};StylePopupForRedactionToolInHeaderItem.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const StylePopupForDistanceMeasurementToolInHeaderItem=()=>{const[shouldRender,setShouldRender]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),props={toolName:"AnnotationCreateDistanceMeasurement",colorMapKey:"distanceMeasurement",style:{StrokeColor:new window.Core.Annotations.Color(212,211,211),FillColor:new window.Core.Annotations.Color(0,0,0),StrokeThickness:1,Opacity:1,StartLineStyle:"OpenArrow",EndLineStyle:"OpenArrow",StrokeStyle:"solid",measurementCaptionOptions:{isEnabled:!0,captionRect:{x1:0,y1:0,x2:0,y2:0},captionStyle:{fontFamily:"sans-serif",color:"",staticSize:"0pt",maximumSize:"0pt"}},initProps:{measurementCaptionOptions:"measurementCaptionOptions",calculateCurrentCaptionSize:"calculateCurrentCaptionSize",setCaptionStyle:"setCaptionStyle",getDefaultCaptionRect:"getDefaultCaptionRect",setDefaultCaptionRect:"setDefaultCaptionRect",getCaptionTopAndLeft:"getCaptionTopAndLeft",isCaptionRectValid:"isCaptionRectValid",drawMeasurementCaption:"drawMeasurementCaption",getCustomAppearance:"getCustomAppearance",getMeasurementText:"getMeasurementText",setMeasurementCaptionOptions:"setMeasurementCaptionOptions",getMeasurementCaptionOptions:"getMeasurementCaptionOptions",isUnitCanBeTransferToImperialMark:"isUnitCanBeTransferToImperialMark",Precision:"Precision",Scale:"Scale",System:"System",DisplayFormat:"DisplayFormat",DisplayUnits:"DisplayUnits"},Precision:.1,Scale:[[1,"in"],[1,"in"]]},isFreeText:!1,isEllipse:!1,hideSnapModeCheckbox:!1,properties:{StartLineStyle:"OpenArrow",EndLineStyle:"OpenArrow",StrokeStyle:"solid"},isRedaction:!1,showLineStyleOptions:!0,isMobile:!1,currentStyleTab:"StrokeColor",isFontSizeSliderDisabled:!1,isTextStyleContainerActive:!0,isColorsContainerActive:!1,isLabelTextContainerActive:!0,fonts:["Helvetica","Times New Roman","Arimo","Caladea","Carlito","Cousine","Liberation Serif","Open Sans","Roboto","Roboto Mono","Tinos"],isSnapModeEnabled:!1,isInFormBuilderAndNotFreeText:!1,onStyleChange:noop,onSliderChange:noop,closeElement:noop,openElement:noop,onPropertyChange:noop,onRichTextStyleChange:noop,onLineStyleChange:noop},basicMockState={...src_redux_initialState__WEBPACK_IMPORTED_MODULE_2__.A,viewer:{...src_redux_initialState__WEBPACK_IMPORTED_MODULE_2__.A.viewer,openElements:{stylePanel:!0,strokeStyleContainer:!0,fillColorContainer:!0,opacityContainer:!0,richTextStyleContainer:!0}},featureFlags:{customizableUI:!0}},mockStore=(0,helpers_storybookHelper__WEBPACK_IMPORTED_MODULE_6__.y$)(basicMockState);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const oldGetToolMode=core__WEBPACK_IMPORTED_MODULE_5__.A.getToolMode,oldGetToolModeMap=core__WEBPACK_IMPORTED_MODULE_5__.A.getToolModeMap,newTool=new window.Core.Tools.DistanceMeasurementCreateTool;newTool.name=props.toolName,newTool.defaults=props.style,core__WEBPACK_IMPORTED_MODULE_5__.A.getToolMode=()=>newTool,core__WEBPACK_IMPORTED_MODULE_5__.A.getToolModeMap=()=>({[props.toolName]:newTool});const oldGetTool=core__WEBPACK_IMPORTED_MODULE_5__.A.getTool;return core__WEBPACK_IMPORTED_MODULE_5__.A.getTool=()=>newTool,setShouldRender(!0),()=>{core__WEBPACK_IMPORTED_MODULE_5__.A.getToolMode=oldGetToolMode,core__WEBPACK_IMPORTED_MODULE_5__.A.getTool=oldGetTool,core__WEBPACK_IMPORTED_MODULE_5__.A.getToolModeMap=oldGetToolModeMap}}),[]),mockStore.dispatch({type:"SET_ACTIVE_TOOL_NAME",payload:{toolName:props.toolName}}),shouldRender?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store:mockStore,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"HeaderItems",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.A,{...props})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:"Loading..."})};StylePopupForDistanceMeasurementToolInHeaderItem.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}},StylePopupForDistanceMeasurementToolInHeaderItem.play=async({canvasElement})=>{const canvas=(0,storybook_test__WEBPACK_IMPORTED_MODULE_8__.within)(canvasElement),checkbox=await canvas.findByRole("checkbox",{name:"Enable snapping for measurement tools"});(0,storybook_test__WEBPACK_IMPORTED_MODULE_8__.expect)(checkbox).toBeInTheDocument(),(0,storybook_test__WEBPACK_IMPORTED_MODULE_8__.expect)(checkbox.checked).toBe(!0),await storybook_test__WEBPACK_IMPORTED_MODULE_8__.userEvent.click(checkbox),(0,storybook_test__WEBPACK_IMPORTED_MODULE_8__.expect)(checkbox.checked).toBe(!1)};const StylePopupForFreeTextToolInHeaderItem=()=>{const props={currentStyleTab:"TextColor",isInFormBuilderAndNotFreeText:!1,style:{FillColor:new window.Core.Annotations.Color(212,211,211),StrokeColor:new window.Core.Annotations.Color(0,0,0),TextColor:new window.Core.Annotations.Color(0,0,0),Opacity:1,StrokeThickness:1,FontSize:"12pt",Style:"solid"},colorMapKey:"textField",colorPalette:"TextColor",disableSeparator:!0,hideSnapModeCheckbox:!0,isFreeText:!0,isEllipse:!1,isTextStyleContainerActive:!0,isLabelTextContainerActive:!1,properties:{StrokeStyle:"solid"},fonts:["Helvetica","Times New Roman","Arimo"],isSnapModeEnabled:!1,onSliderChange:noop,onStyleChange:noop,closeElement:noop,openElement:noop,onPropertyChange:noop,onRichTextStyleChange:noop,onLineStyleChange:noop},stateForTextTab={...state,viewer:{...state.viewer,colorMap:{textField:{currentStyleTab:"TextColor",iconColor:"TextColor"}}}},store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__.U1)({reducer:()=>stateForTextTab});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"HeaderItems",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.A,{...props})})})};StylePopupForFreeTextToolInHeaderItem.parameters={chromatic:{modes:{"Light theme RTL":{disable:!0}}}};const __namedExportsOrder=["StylePopupInFormBuilder","StylePopupForRedactionToolInHeaderItem","StylePopupForDistanceMeasurementToolInHeaderItem","StylePopupForFreeTextToolInHeaderItem"]}}]);