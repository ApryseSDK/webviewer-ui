(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[84263],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/AnnotationStylePopup/AnnotationStylePopup.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationStylePopup{width:100%;margin:0;position:relative;max-width:none;border-radius:4px 4px 0 0;border:0;padding-bottom:24px;box-shadow:none}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationStylePopup{width:100%;margin:0;position:relative;max-width:none;border-radius:4px 4px 0 0;border:0;padding-bottom:24px;box-shadow:none}}.AnnotationStylePopup .back-to-menu-container{margin-top:var(--padding-medium);margin-inline-end:var(--padding-medium);margin-inline-start:var(--padding-medium);padding-bottom:var(--padding-small);border-bottom:1px solid var(--border)}.AnnotationStylePopup .Button.back-to-menu-button{margin:0;width:100%;height:32px;border-radius:0;justify-content:flex-start}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationStylePopup .Button.back-to-menu-button{width:100%;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationStylePopup .Button.back-to-menu-button{width:100%;height:32px}}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ListSeparator/ListSeparator.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ListSeparator{margin-top:16px;margin-bottom:8px;font-family:Lato;font-weight:500;color:var(--list-separator-color);-webkit-user-select:none;-moz-user-select:none;user-select:none}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/MultiSelectControls/MultiSelectControls.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".notes-panel-container .buttons-container{display:flex;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;justify-content:space-between}.notes-panel-container .buttons-container .Button{height:28px;width:28px}.notes-panel-container .buttons-container .Button:hover:enabled{background:var(--view-header-button-hover)}.notes-panel-container .buttons-container .Button.active{background:var(--view-header-button-active)}.notes-panel-container .buttons-container .Button.active .Icon{color:var(--view-header-icon-active-fill)}.notes-panel-container .multi-select-footer{background:var(--panel-background);display:flex;border-top:1px solid var(--gray-5);margin-top:auto;margin-bottom:16px;height:64px;padding:24px 16px;align-items:center;justify-content:center;position:absolute;inset-block-end:0;width:100%;z-index:100}.notes-panel-container .multi-select-footer .close-container{margin-top:auto;inset-inline-end:26px;position:absolute}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/MultiSelectControls/MultiStylePopup.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".multi-style-container{border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);position:relative;inset-inline-end:20px;inset-block-end:52px;pointer-events:auto}.multi-style-container *{box-sizing:border-box}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Note/ReplyArea/ReplyAreaMultiSelect.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.multi-reply-place-holder{height:100px}.reply-area-multi-container{border-top:1px solid var(--divider);display:flex;flex-direction:column;width:100%;position:absolute;inset-block-end:0;z-index:100;background:var(--panel-background)}.reply-area-multi-container form{width:100%;display:flex}.reply-area-multi-container .reply-area-multi-header{display:flex;flex-direction:row;margin-inline-start:16px;margin-top:28px;position:relative;justify-content:space-between}.reply-area-multi-container .reply-area-multi-header .title{font-size:13px;font-weight:700;display:flex;align-items:center}.reply-area-multi-container .reply-area-multi-header .close-icon{display:flex;align-items:center;padding-inline-end:12px;cursor:pointer;position:relative;inset-block-start:1px}.reply-area-multi-container .reply-area-multi-header .close-icon .close-icon{width:22px;height:22px}.reply-area-multi-container .reply-button-container{display:flex;justify-content:flex-end;flex-direction:column}.reply-area-multi-container .reply-button{width:28px;height:28px;padding:0;border:none;background-color:transparent;inset-inline-end:10px;inset-block-end:12px}:host(:not([data-tabbing=true])) .reply-area-multi-container .reply-button,html:not([data-tabbing=true]) .reply-area-multi-container .reply-button{outline:none}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.reply-area-multi-container .reply-button{width:80px}}.reply-area-multi-container .reply-button:hover{background:var(--blue-1)}.reply-area-multi-container .reply-button.disabled{cursor:not-allowed}.reply-area-multi-container .reply-area{position:relative;flex:1;margin:13px 17px 12px 16px;border-radius:4px;align-items:center;background:var(--component-background)}.reply-area-multi-container .reply-area.unread{background:rgba(0,165,228,.08)}.reply-area-multi-container .reply-area .comment-textarea .ql-container .ql-editor.ql-blank{padding:4px}.reply-area-multi-container .reply-area .comment-textarea .ql-container .ql-editor.ql-blank:before{inset-inline-start:4px}.reply-area-multi-container .add-attachment{display:none}.reply-area-multi-container.modular-ui{padding:16px 16px 24px}.reply-area-multi-container.modular-ui form{margin-bottom:0}.reply-area-multi-container.modular-ui .reply-area{margin:13px 16px 24px 0}.reply-area-multi-container.modular-ui .reply-area-multi-header{margin-inline-start:0;margin-top:0}.reply-area-multi-container.modular-ui .reply-area-multi-header .close-icon{width:28px;height:28px}.reply-area-multi-container.modular-ui .close-icon{padding-inline-end:0;margin-inline-end:16px}.reply-area-multi-container.modular-ui .reply-button-container{margin-inline-end:16px;margin-bottom:12px}.reply-area-multi-container.modular-ui .reply-button{inset-inline-start:0;inset-inline-end:0}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotesPanel/NotesPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.notes-panel-container{z-index:65;display:flex;flex-direction:row;position:relative;overflow-y:visible}.notes-panel-container.office-editor{height:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{z-index:95}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{z-index:95}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{border-inline-start:1px solid var(--side-panel-border)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{border-inline-start:1px solid var(--side-panel-border)}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{inset-block-start:0;inset-inline-end:0;height:100%;width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{inset-block-start:0;inset-inline-end:0;height:100%;width:100%}}.notes-panel-container .NotesPanel{width:100%;padding-inline-start:16px;padding-bottom:0;display:flex;flex-direction:column;position:relative;padding-top:16px}.notes-panel-container .NotesPanel .close-container{display:flex;align-items:center;justify-content:flex-end}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .close-container{height:28px;padding-inline-end:16px;margin-bottom:8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .close-container{height:28px;padding-inline-end:16px;margin-bottom:8px}}.notes-panel-container .NotesPanel .close-container .close-icon-container{display:flex;align-items:center;cursor:pointer}.notes-panel-container .NotesPanel .close-container .close-icon-container .close-icon{width:24px;height:24px}.notes-panel-container .NotesPanel .multi-select-place-holder{height:72px}.notes-panel-container .NotesPanel .preview-all-changes{height:57px;display:flex;flex-direction:column;justify-content:center;position:relative;margin-inline-end:16px}.notes-panel-container .NotesPanel .preview-all-changes .divider{height:1px;width:100%;background:var(--divider);position:absolute;inset-block-start:0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.notes-panel-container .NotesPanel .reply-area-container .reply-button{width:28px}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel{width:100%;min-width:100%;padding-top:0}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .normal-notes-container{padding-bottom:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel{width:100%;min-width:100%;padding-top:0}.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .normal-notes-container{padding-bottom:16px}}.notes-panel-container .NotesPanel .no-annotations{display:flex;flex-direction:column;align-items:center}.notes-panel-container .NotesPanel .no-annotations .msg{text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .no-annotations .msg{line-height:15px;width:146px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .no-annotations .msg{line-height:15px;width:146px}}.notes-panel-container .NotesPanel .no-annotations .empty-icon,.notes-panel-container .NotesPanel .no-annotations .empty-icon svg{width:65px;height:83px}.notes-panel-container .NotesPanel .no-annotations .empty-icon *{fill:var(--gray-6);color:var(--gray-6)}.notes-panel-container .NotesPanel .normal-notes-container,.notes-panel-container .NotesPanel .virtualized-notes-container{margin-top:10px;flex:1;padding-inline-end:18px}.notes-panel-container .NotesPanel .virtualized-notes-container{overflow:hidden}.notes-panel-container .NotesPanel .normal-notes-container{overflow:auto;overflow:overlay}.notes-panel-container .NotesPanel .note-wrapper:first-child .ListSeparator{margin-top:0;word-break:break-word}.notes-panel-container .NotesPanel .no-results{display:flex;flex-direction:column;align-items:center;padding-inline-end:18px}.notes-panel-container .NotesPanel .no-results .msg{text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .no-results .msg{line-height:15px;width:92px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .no-results .msg{line-height:15px;width:92px}}.notes-panel-container .NotesPanel .no-results .empty-icon,.notes-panel-container .NotesPanel .no-results .empty-icon svg{width:65px;height:83px}.notes-panel-container .NotesPanel .no-results .empty-icon *{fill:var(--border);color:var(--border)}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotesPanelHeader/NotesPanelHeader.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.comments-counter{height:19px;margin-top:24px;margin-bottom:12px;font-size:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .comments-counter{margin-top:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .comments-counter{margin-top:16px}}.comments-counter span{font-weight:700}.comments-counter h2{font-weight:400;font-size:16px}[data-element=notesPanelHeader]{padding-inline-end:18px}[data-element=notesPanelHeader] .buttons-container{display:flex;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;justify-content:space-between}[data-element=notesPanelHeader] .buttons-container .Button{height:28px;width:28px;cursor:pointer}[data-element=notesPanelHeader] .buttons-container .Button:hover:enabled{background:var(--view-header-button-hover)}[data-element=notesPanelHeader] .buttons-container .Button.active{background:var(--view-header-button-active)}[data-element=notesPanelHeader] .buttons-container .Button.active .Icon{color:var(--view-header-icon-active-fill)}[data-element=notesPanelHeader] .buttons-container .Button:disabled{cursor:default}[data-element=notesPanelHeader] .sort-row{display:flex;justify-content:space-between;margin-bottom:16px}[data-element=notesPanelHeader] .sort-row .sort-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;align-self:flex-end}[data-element=notesPanelHeader] .sort-row .sort-container .label{margin-inline-end:8px}[data-element=notesPanelHeader] .sort-row .sort-container .picked-option{text-align:start}[data-element=notesPanelHeader] .input-container{display:flex;position:relative;flex:1}[data-element=notesPanelHeader] .input-container input{width:100%;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding-top:4px;padding-inline-end:8px;padding-bottom:6px;padding-inline-start:8px}[data-element=notesPanelHeader] .input-container.modular-ui-input{box-sizing:border-box;border:1px solid var(--border);border-radius:4px;height:28px;align-items:center;color:var(--text-color);padding:6px 2px 6px 6px}[data-element=notesPanelHeader] .input-container.modular-ui-input[focus-within]{outline:none;border:1px solid var(--focus-border)}[data-element=notesPanelHeader] .input-container.modular-ui-input:focus-within{outline:none;border:1px solid var(--focus-border)}[data-element=notesPanelHeader] .input-container.modular-ui-input input{padding-inline-start:8px;padding-inline-end:26px;height:20px;border:none;background:transparent}[data-element=notesPanelHeader] .input-button{cursor:pointer;background:var(--primary-button);border-radius:4px;height:100%;width:40px;display:flex;align-items:center;justify-content:center;position:absolute;inset-block-end:0;inset-inline-end:0}[data-element=notesPanelHeader] .input-button .Icon{width:20px;height:20px}[data-element=notesPanelHeader] .input-button svg{color:var(--primary-button-text)}[data-element=notesPanelHeader] .input-button:hover{background:var(--primary-button-hover)}[data-element=notesPanelHeader] .divider{height:1px;width:100%;background:var(--divider);margin:16px 0}.modular-ui-header .input-container.modular-ui-input .Icon{width:16px;height:16px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/AnnotationStylePopup/AnnotationStylePopup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_measure__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-measure/dist/index.esm.js"),react_i18next__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_StylePopup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/StylePopup/index.js"),components_ActionButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ActionButton/index.js"),core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/core/index.js"),helpers_getClassName__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/helpers/getClassName.js"),helpers_setToolStyles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/setToolStyles.js"),helpers_device__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/device.js"),helpers_adjustFreeTextBoundingBox__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/helpers/adjustFreeTextBoundingBox.js"),actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/redux/selectors/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/constants/dataElement.js"),src_helpers_handleFreeTextAutoSizeToggle__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/helpers/handleFreeTextAutoSizeToggle.js");__webpack_require__("./src/components/AnnotationStylePopup/AnnotationStylePopup.scss");const propTypes={annotations:prop_types__WEBPACK_IMPORTED_MODULE_15___default().array.isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object.isRequired,properties:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object.isRequired,isRedaction:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,isFreeText:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,isEllipse:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,hasBackToMenu:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool,onBackToMenu:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func},AnnotationStylePopup=props=>{const{annotations,style,isRedaction,isFreeText,isEllipse,isMeasure,colorMapKey,showLineStyleOptions,properties,hideSnapModeCheckbox,onResize,hasBackToMenu,onBackToMenu}=props,[isDisabled,isToolDefaultStyleUpdateFromAnnotationPopupEnabled,activeDocumentViewerKey]=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_11__.A.isElementDisabled(state,constants_dataElement__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_STYLE_POPUP),selectors__WEBPACK_IMPORTED_MODULE_11__.A.isToolDefaultStyleUpdateFromAnnotationPopupEnabled(state),selectors__WEBPACK_IMPORTED_MODULE_11__.A.getActiveDocumentViewerKey(state)])),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.wA)(),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_16__.B)(),[isAutoSizeFont,setAutoSizeFont]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(properties.isAutoSizeFont),handleSliderChange=(property,value)=>{const annotationManager=core__WEBPACK_IMPORTED_MODULE_6__.A.getAnnotationManager(activeDocumentViewerKey);annotations.forEach((annotation=>{annotation[property]=value,"StrokeThickness"===property&&(0,helpers_adjustFreeTextBoundingBox__WEBPACK_IMPORTED_MODULE_9__.A)(annotation),annotationManager.redrawAnnotation(annotation),annotation instanceof window.Core.Annotations.WidgetAnnotation&&annotation.refresh()}))},handlePropertyChange=(property,value)=>{annotations.forEach((annotation=>{core__WEBPACK_IMPORTED_MODULE_6__.A.setAnnotationStyles(annotation,{[property]:value},activeDocumentViewerKey),isToolDefaultStyleUpdateFromAnnotationPopupEnabled&&(0,helpers_setToolStyles__WEBPACK_IMPORTED_MODULE_7__.A)(annotation.ToolName,property,value),"FontSize"!==property&&"Font"!==property||(0,helpers_adjustFreeTextBoundingBox__WEBPACK_IMPORTED_MODULE_9__.A)(annotation)}))},handleStyleChange=(property,value)=>{annotations.forEach((annotation=>{core__WEBPACK_IMPORTED_MODULE_6__.A.setAnnotationStyles(annotation,{[property]:value},activeDocumentViewerKey),isToolDefaultStyleUpdateFromAnnotationPopupEnabled&&(0,helpers_setToolStyles__WEBPACK_IMPORTED_MODULE_7__.A)(annotation.ToolName,property,value)}))},handleRichTextStyleChange=(property,value)=>{annotations.forEach((annotation=>{core__WEBPACK_IMPORTED_MODULE_6__.A.updateAnnotationRichTextStyle(annotation,{[property]:value},activeDocumentViewerKey)}))},handleLineStyleChange=(section,value)=>{annotations.forEach((annotation=>{let lineStyle="";if("start"===section)annotation.setStartStyle(value),lineStyle="StartLineStyle";else if("end"===section)annotation.setEndStyle(value),lineStyle="EndLineStyle";else if("middle"===section){const dashes=value.split(","),style=dashes.shift();annotation.Style=style,annotation.Dashes=dashes,lineStyle="StrokeStyle"}isToolDefaultStyleUpdateFromAnnotationPopupEnabled&&(0,helpers_setToolStyles__WEBPACK_IMPORTED_MODULE_7__.A)(annotation.ToolName,lineStyle,value),core__WEBPACK_IMPORTED_MODULE_6__.A.getAnnotationManager(activeDocumentViewerKey).redrawAnnotation(annotation)})),core__WEBPACK_IMPORTED_MODULE_6__.A.getAnnotationManager(activeDocumentViewerKey).trigger("annotationChanged",[annotations,"modify",{}])},handleClick=e=>{(0,helpers_device__WEBPACK_IMPORTED_MODULE_8__.Fr)()&&e.target===e.currentTarget&&dispatch(actions__WEBPACK_IMPORTED_MODULE_10__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_POPUP))},className=(0,helpers_getClassName__WEBPACK_IMPORTED_MODULE_17__.A)("Popup AnnotationStylePopup",props);return isDisabled?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_measure__WEBPACK_IMPORTED_MODULE_3__.A,{onResize:()=>{onResize&&onResize()},children:({measureRef})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className,"data-element":constants_dataElement__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_STYLE_POPUP,onClick:handleClick,ref:measureRef,children:[hasBackToMenu&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"back-to-menu-container","data-element":constants_dataElement__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_STYLE_POPUP_BACK_BUTTON_CONTAINER,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ActionButton__WEBPACK_IMPORTED_MODULE_5__.A,{className:"back-to-menu-button",dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_STYLE_POPUP_BACK_BUTTON,label:t("action.backToMenu"),img:"icon-chevron-left",onClick:onBackToMenu})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_StylePopup__WEBPACK_IMPORTED_MODULE_4__.A,{hideSnapModeCheckbox,colorMapKey,style,isFreeText,isFreeTextAutoSize:isAutoSizeFont,onFreeTextSizeToggle:()=>(0,src_helpers_handleFreeTextAutoSizeToggle__WEBPACK_IMPORTED_MODULE_13__.A)(annotations[0],setAutoSizeFont,isAutoSizeFont),isEllipse,isMeasure,onStyleChange:handleStyleChange,onSliderChange:handleSliderChange,onPropertyChange:handlePropertyChange,disableSeparator:!0,properties,onRichTextStyleChange:handleRichTextStyleChange,isRedaction,showLineStyleOptions,onLineStyleChange:handleLineStyleChange})]})})};AnnotationStylePopup.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=AnnotationStylePopup;AnnotationStylePopup.__docgenInfo={description:"",methods:[],displayName:"AnnotationStylePopup",props:{annotations:{description:"",type:{name:"array"},required:!0},style:{description:"",type:{name:"object"},required:!0},properties:{description:"",type:{name:"object"},required:!0},isRedaction:{description:"",type:{name:"bool"},required:!1},isFreeText:{description:"",type:{name:"bool"},required:!1},isEllipse:{description:"",type:{name:"bool"},required:!1},hasBackToMenu:{description:"",type:{name:"bool"},required:!1},onBackToMenu:{description:"",type:{name:"func"},required:!1}}}},"./src/components/AnnotationStylePopup/AnnotationStylePopup.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/AnnotationStylePopup/AnnotationStylePopup.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/AnnotationStylePopup/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/AnnotationStylePopup/AnnotationStylePopup.js").A},"./src/components/ListSeparator/ListSeparator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__("./src/components/ListSeparator/ListSeparator.scss");const propTypes={renderContent:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().node},ListSeparator=function(props){const content=props.renderContent?props.renderContent():props.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"ListSeparator",children:content})};ListSeparator.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(ListSeparator);ListSeparator.__docgenInfo={description:"",methods:[],displayName:"ListSeparator",props:{renderContent:{description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"node"},required:!1}}}},"./src/components/ListSeparator/ListSeparator.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ListSeparator/ListSeparator.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ListSeparator/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ListSeparator/ListSeparator.js").A},"./src/components/MultiSelectControls/MultiSelectControls.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/MultiSelectControls/MultiSelectControls.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/MultiSelectControls/MultiStylePopup.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/MultiSelectControls/MultiStylePopup.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Note/ReplyArea/ReplyAreaMultiSelect.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Note/ReplyArea/ReplyAreaMultiSelect.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NotesPanel/NotesPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotesPanel/NotesPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NotesPanel/NotesPanelContainer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>NotesPanel_NotesPanelContainer});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),core=__webpack_require__("./src/core/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),index_esm=__webpack_require__("./node_modules/react-measure/dist/index.esm.js"),dist_es=__webpack_require__("./node_modules/react-virtualized/dist/es/index.js");const propTypes={notes:prop_types_default().array.isRequired,children:prop_types_default().func.isRequired,onScroll:prop_types_default().func.isRequired,initialScrollTop:prop_types_default().number.isRequired,selectedIndex:prop_types_default().number,sortStrategy:prop_types_default().string},cache=new dist_es.jS({defaultHeight:50,fixedWidth:!0}),VirtualizedList=react.forwardRef((({notes,children,onScroll,initialScrollTop,selectedIndex,sortStrategy},forwardedRef)=>{const listRef=(0,react.useRef)(),[offset,setOffset]=(0,react.useState)(0),[dimension,setDimension]=(0,react.useState)({width:0,height:0});let prevWindowHeight=window.innerHeight;(0,react.useImperativeHandle)(forwardedRef,(()=>({scrollToPosition:scrollTop=>{listRef.current.scrollToPosition(scrollTop)},scrollToRow:index=>{listRef.current.scrollToRow(index)}}))),(0,react.useEffect)((()=>{listRef.current.scrollToPosition(initialScrollTop)}),[initialScrollTop]),(0,react.useEffect)((()=>{cache.clearAll(),listRef?.current?.measureAllRows(),-1!==selectedIndex&&listRef.current?.scrollToRow(selectedIndex)}),[selectedIndex]),(0,react.useEffect)((()=>{cache.clearAll(),listRef?.current?.measureAllRows(),listRef?.current?.forceUpdateGrid()}),[notes.length,sortStrategy]),(0,react.useEffect)((()=>{const windowResizeHandler=()=>{const diff=window.innerHeight-prevWindowHeight;diff&&(window.innerHeight<prevWindowHeight&&setOffset(diff),prevWindowHeight=window.innerHeight)};return window.addEventListener("resize",windowResizeHandler),()=>{window.removeEventListener("resize",windowResizeHandler)}}));const handleScroll=({scrollTop})=>{onScroll(scrollTop)},rowRenderer=({index,key,parent,style})=>{const currNote=notes[index];return(0,jsx_runtime.jsx)(dist_es.dl,{cache,columnIndex:0,parent,rowIndex:index,children:({measure})=>(0,jsx_runtime.jsx)("div",{style:{...style,paddingRight:"12px"},children:children(notes,index,(()=>{(index=>{cache.clear(index),listRef.current?.recomputeRowHeights(index)})(index),measure()}))})},`${key}${currNote.Id}`)};return(0,jsx_runtime.jsx)(index_esm.A,{bounds:!0,offset:!0,onResize:({bounds})=>{setDimension({...bounds,height:bounds.height+2*offset}),setOffset(0)},children:({measureRef})=>(0,jsx_runtime.jsx)("div",{ref:measureRef,className:"virtualized-notes-container",children:(0,jsx_runtime.jsx)(dist_es.B8,{deferredMeasurementCache:cache,style:{outline:"none"},height:dimension.height-offset,width:dimension.width,overscanRowCount:10,ref:listRef,rowCount:notes.length,rowHeight:cache.rowHeight,rowRenderer,onScroll:handleScroll,"aria-label":"presentation",role:"presentation"})})})}));VirtualizedList.displayName="VirtualizedList",VirtualizedList.propTypes=propTypes;const VirtualizedList_VirtualizedList=VirtualizedList;VirtualizedList.__docgenInfo={description:"",methods:[{name:"scrollToPosition",docblock:null,modifiers:[],params:[{name:"scrollTop",optional:!1,type:null}],returns:null},{name:"scrollToRow",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null}],displayName:"VirtualizedList",props:{notes:{description:"",type:{name:"array"},required:!0},children:{description:"",type:{name:"func"},required:!0},onScroll:{description:"",type:{name:"func"},required:!0},initialScrollTop:{description:"",type:{name:"number"},required:!0},selectedIndex:{description:"",type:{name:"number"},required:!1},sortStrategy:{description:"",type:{name:"string"},required:!1}}};const NotesPanel_VirtualizedList=VirtualizedList_VirtualizedList,NormalList_propTypes={notes:prop_types_default().array.isRequired,children:prop_types_default().func.isRequired,onScroll:prop_types_default().func.isRequired,initialScrollTop:prop_types_default().number.isRequired},NormalList=react.forwardRef((({notes,children,onScroll,initialScrollTop},forwardedRef)=>{const listRef=(0,react.useRef)();(0,react.useImperativeHandle)(forwardedRef,(()=>({scrollToPosition:scrollTop=>{listRef.current.scrollTop=scrollTop},scrollToRow:index=>{const parent=listRef.current,child=parent.children[index];if(!child)return;const parentRect=parent.getBoundingClientRect(),childRect=child.getBoundingClientRect();childRect.top>=parentRect.top&&childRect.top<=parentRect.top+parent.clientHeight||(parent.scrollTop=childRect.top+parent.scrollTop-parentRect.top)}}))),(0,react.useEffect)((()=>{listRef.current.scrollTop=initialScrollTop}),[initialScrollTop]);return(0,jsx_runtime.jsx)("div",{ref:listRef,className:"normal-notes-container",onScroll:e=>{onScroll(e.target.scrollTop)},role:"list",children:notes.map(((currNote,index)=>(0,jsx_runtime.jsx)(react.Fragment,{children:children(notes,index)},`${index}_${currNote.Id}`)))})}));NormalList.displayName="NormalList",NormalList.propTypes=NormalList_propTypes;const NormalList_NormalList=NormalList;NormalList.__docgenInfo={description:"",methods:[{name:"scrollToPosition",docblock:null,modifiers:[],params:[{name:"scrollTop",optional:!1,type:null}],returns:null},{name:"scrollToRow",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null}],displayName:"NormalList",props:{notes:{description:"",type:{name:"array"},required:!0},children:{description:"",type:{name:"func"},required:!0},onScroll:{description:"",type:{name:"func"},required:!0},initialScrollTop:{description:"",type:{name:"number"},required:!0}}};const NotesPanel_NormalList=NormalList_NormalList;var Note=__webpack_require__("./src/components/Note/index.js"),Icon=__webpack_require__("./src/components/Icon/index.js"),Context=__webpack_require__("./src/components/Note/Context.js"),ListSeparator=__webpack_require__("./src/components/ListSeparator/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),NoteTextarea=__webpack_require__("./src/components/NoteTextarea/index.js"),MentionsManager=__webpack_require__("./src/helpers/MentionsManager.js"),setAnnotationRichTextStyle=__webpack_require__("./src/helpers/setAnnotationRichTextStyle.js"),selectors=__webpack_require__("./src/redux/selectors/index.js");__webpack_require__("./src/components/Note/ReplyArea/ReplyAreaMultiSelect.scss");const ReplyArea=({annotations,onSubmit,onClose})=>{const[isMentionEnabled,activeDocumentViewerKey,customizableUI]=(0,es.d4)((state=>[selectors.A.getIsMentionEnabled(state),selectors.A.getActiveDocumentViewerKey(state),selectors.A.getFeatureFlags(state)?.customizableUI]),es.bN),[pendingReply,setPendingReply]=(0,react.useState)(""),[t]=(0,useTranslation.B)(),textareaRef=(0,react.useRef)();(0,react.useEffect)((()=>{textareaRef.current.focus()}),[]);const replyAreaClass=classnames_default()({"reply-area":!0});return(0,jsx_runtime.jsxs)("div",{className:classnames_default()({"reply-area-multi-container":!0,"modular-ui":customizableUI}),children:[(0,jsx_runtime.jsxs)("div",{className:"reply-area-multi-header",children:[(0,jsx_runtime.jsx)("div",{className:"title",children:t("action.multiReplyAnnotations",{count:annotations.length})}),(0,jsx_runtime.jsx)(Button.A,{className:"close-icon",onClick:onClose,img:"ic_close_black_24px"})]}),(0,jsx_runtime.jsxs)("form",{onSubmit:e=>{e.preventDefault();const editor=textareaRef.current.getEditor(),replyText=MentionsManager.A.getFormattedTextFromDeltas(editor.getContents());replyText.trim()&&(annotations.forEach((annotation=>{if(isMentionEnabled){const replyAnnotation=MentionsManager.A.createMentionReply(annotation,replyText);core.A.addAnnotations([replyAnnotation],activeDocumentViewerKey),(0,setAnnotationRichTextStyle.A)(editor,replyAnnotation)}else{const replyAnnotation=core.A.createAnnotationReply(annotation,replyText,activeDocumentViewerKey);(0,setAnnotationRichTextStyle.A)(editor,replyAnnotation)}})),onSubmit())},children:[(0,jsx_runtime.jsx)("div",{className:replyAreaClass,onMouseDown:e=>e.stopPropagation(),children:(0,jsx_runtime.jsx)(NoteTextarea.A,{ref:el=>{textareaRef.current=el},value:pendingReply,onChange:value=>(value=>{setPendingReply(value)})(value),isReply:!0})}),(0,jsx_runtime.jsx)("div",{className:"reply-button-container",children:(0,jsx_runtime.jsx)(Button.A,{img:"icon-post-reply",className:"reply-button",title:"action.submit",isSubmitType:!0})})]})]})},ReplyArea_ReplyAreaMultiSelect=ReplyArea;ReplyArea.__docgenInfo={description:"",methods:[],displayName:"ReplyArea"};var getOverlayPositionBasedOn=__webpack_require__("./src/helpers/getOverlayPositionBasedOn.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js");const hooks_usePortal=function usePortal(id){const rootElemRef=(0,react.useRef)(null);return(0,react.useEffect)((function setupElement(){const existingParent=document.querySelector(`#${id}`),parentElem=existingParent||function createRootElement(id){const rootContainer=document.createElement("div");return rootContainer.setAttribute("id",id),rootContainer}(id);return existingParent||function addRootElement(rootElem){const node=window.isApryseWebViewerWebComponent?(0,getRootNode.Ay)():document.body;node.insertBefore(rootElem,node.lastElementChild.nextElementSibling)}(parentElem),parentElem.appendChild(rootElemRef.current),function removeElement(){rootElemRef.current.remove(),parentElem.childElementCount||parentElem.remove()}}),[id]),function getRootElem(){return rootElemRef.current||(rootElemRef.current=document.createElement("div")),rootElemRef.current}()},components_PopupPortal=({id,position,children})=>{const target=hooks_usePortal(id);return target.style.position="absolute",target.style.top="auto"===position.top?position.top:`${position.top}px`,target.style.left="auto"===position.left?position.left:`${position.left}px`,target.style.right="auto"===position.right?position.right:`${position.right}px`,target.style.pointerEvents="none",target.style.zIndex=999,(0,react_dom.createPortal)(children,target)};var AnnotationStylePopup=__webpack_require__("./src/components/AnnotationStylePopup/index.js"),useOnClickOutside=__webpack_require__("./src/hooks/useOnClickOutside.js"),getAnnotationStyles=__webpack_require__("./src/helpers/getAnnotationStyles.js"),getElements=__webpack_require__("./src/helpers/getElements.js"),actions=__webpack_require__("./src/redux/actions/index.js"),map=__webpack_require__("./src/constants/map.js");__webpack_require__("./src/components/MultiSelectControls/MultiStylePopup.scss");const MultiStylePopup_MultiStylePopup=({annotations,triggerElementName,onClose=()=>{}})=>{const dispatch=(0,es.wA)(),popupRef=(0,react.useRef)(),[styleTabs,setStyleTabs]=(0,react.useState)([]),[position,setPosition]=(0,react.useState)({left:"auto",right:"auto",top:"auto"});(0,useOnClickOutside.A)(popupRef,(e=>{const clickedTrigger=document.querySelector(`[data-element=${triggerElementName}]`).contains(e.target),warningModal=(0,getElements.pb)(),colorPicker=(0,getElements.nK)(),datePicker=(0,getElements.nz)();clickedTrigger||warningModal||colorPicker||datePicker||onClose()}));let style={};annotations.forEach((annotation=>{style={...style,...(0,getAnnotationStyles.A)(annotation)}}));const freeTextAnnotation=annotations.find((annotation=>annotation instanceof window.Core.Annotations.FreeTextAnnotation&&(annotation.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeText||annotation.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout)));let properties={};if(freeTextAnnotation){const richTextStyles=freeTextAnnotation.getRichTextStyle();properties={Font:freeTextAnnotation.Font,FontSize:freeTextAnnotation.FontSize,TextAlign:freeTextAnnotation.TextAlign,TextVerticalAlign:freeTextAnnotation.TextVerticalAlign,bold:"bold"===(richTextStyles?.[0]?.["font-weight"]??""),italic:"italic"===(richTextStyles?.[0]?.["font-style"]??""),underline:richTextStyles?.[0]?.["text-decoration"]?.includes("underline")||richTextStyles?.[0]?.["text-decoration"]?.includes("word"),strikeout:richTextStyles?.[0]?.["text-decoration"]?.includes("line-through")??!1}}(0,react.useEffect)((()=>{const availablePalettes=[];style.TextColor&&availablePalettes.push(map.Rc.TEXT_COLOR),style.StrokeColor&&availablePalettes.push(map.Rc.STROKE_COLOR),style.FillColor&&availablePalettes.push(map.Rc.FILL_COLOR);if((0,map.sT)("MultiStyle",availablePalettes,availablePalettes[0])){const newColorMap=(0,map.re)("currentStyleTab","iconColor");dispatch(actions.A.setColorMap(newColorMap));const{styleTabs:_styleTabs}=(0,map.ap)("MultiStyle");setStyleTabs(_styleTabs)}}),[annotations]);return 0===styleTabs.length?null:(0,jsx_runtime.jsx)(components_PopupPortal,{id:"multi-style-popup-portal",position,children:(0,jsx_runtime.jsx)("div",{className:"multi-style-container",ref:popupRef,children:(0,jsx_runtime.jsx)(AnnotationStylePopup.A,{annotations,style,isOpen:!0,onResize:()=>{const position=(0,getOverlayPositionBasedOn.A)(triggerElementName,popupRef);setPosition(position)},isFreeText:!!freeTextAnnotation,colorMapKey:"MultiStyle",properties,isRedaction:!1,isMeasure:!1,showLineStyleOptions:!1,hideSnapModeCheckbox:!1})})})};MultiStylePopup_MultiStylePopup.propTypes={annotations:prop_types_default().array.isRequired,triggerElementName:prop_types_default().string.isRequired,onClose:prop_types_default().func};const MultiSelectControls_MultiStylePopup=MultiStylePopup_MultiStylePopup;MultiStylePopup_MultiStylePopup.__docgenInfo={description:"",methods:[],displayName:"MultiStylePopup",props:{onClose:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},annotations:{description:"",type:{name:"array"},required:!0},triggerElementName:{description:"",type:{name:"string"},required:!0}}};var NoteStateFlyout=__webpack_require__("./src/components/ModularComponents/NoteStateFlyout/index.js"),ToggleElementButton=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js"),NoteStateUtils=__webpack_require__("./src/helpers/NoteStateUtils.js"),constants_dataElement=__webpack_require__("./src/constants/dataElement.js");__webpack_require__("./src/components/MultiSelectControls/MultiSelectControls.scss");const MultiSelectControls_propTypes={showMultiReply:prop_types_default().bool.isRequired,setShowMultiReply:prop_types_default().func.isRequired,setShowMultiState:prop_types_default().func.isRequired,showMultiStyle:prop_types_default().bool.isRequired,setShowMultiStyle:prop_types_default().func.isRequired,setMultiSelectMode:prop_types_default().func.isRequired,isMultiSelectedMap:prop_types_default().object.isRequired,setIsMultiSelectedMap:prop_types_default().func.isRequired,multiSelectedAnnotations:prop_types_default().array.isRequired},getParentAnnotations=(annotations,documentViewerKey=1)=>{const annotSet=new Set;return annotations.forEach((annotation=>{if(annotation.isGrouped()){const parentAnnotation=core.A.getAnnotationById(annotation.InReplyTo,documentViewerKey);parentAnnotation&&annotSet.add(parentAnnotation)}else annotSet.add(annotation)})),Array.from(annotSet)},MultiSelectControls_MultiSelectControls=({showMultiReply,setShowMultiReply,setShowMultiState,showMultiStyle,setShowMultiStyle,setMultiSelectMode,isMultiSelectedMap,setIsMultiSelectedMap,multiSelectedAnnotations})=>{const[modifiableMultiSelectAnnotations,setModifiableMultiSelectAnnotations]=(0,react.useState)([]),dispatch=(0,es.wA)(),[t]=(0,useTranslation.B)(),activeDocumentViewerKey=(0,es.d4)(selectors.A.getActiveDocumentViewerKey),isDocumentReadOnly=(0,es.d4)(selectors.A.isDocumentReadOnly);(0,react.useEffect)((()=>{const getUpdatedMultiSelectedMap=annotations=>{const updatedMap={...isMultiSelectedMap};return annotations.forEach((annot=>{updateGroupAnnotations(annot,updatedMap)})),updatedMap},updateGroupAnnotations=(annot,updatedMap)=>{const groupedAnnots=core.A.getGroupAnnotations(annot,activeDocumentViewerKey);groupedAnnots.some((groupedAnnot=>isMultiSelectedMap[groupedAnnot.Id]))&&groupedAnnots.forEach((groupAnnot=>{updatedMap[groupAnnot.Id]=groupAnnot}))},hasDifferenceInKeys=updatedMap=>{const originalKeys=Object.keys(isMultiSelectedMap),updatedKeys=Object.keys(updatedMap);return originalKeys.some((key=>!updatedKeys.includes(key)))},onAnnotationChanged=(annotations,action)=>{"delete"===action?(annotations=>{const updatedMap={...isMultiSelectedMap};annotations.forEach((annot=>{delete updatedMap[annot.Id]})),setIsMultiSelectedMap(updatedMap)})(annotations):"modify"===action&&(annotations=>{const updatedMap=getUpdatedMultiSelectedMap(annotations);hasDifferenceInKeys(updatedMap)&&setIsMultiSelectedMap(updatedMap)})(annotations)};return core.A.addEventListener("annotationChanged",onAnnotationChanged,void 0,activeDocumentViewerKey),()=>{core.A.removeEventListener("annotationChanged",onAnnotationChanged,activeDocumentViewerKey)}}),[isMultiSelectedMap,activeDocumentViewerKey]),(0,react.useEffect)((()=>()=>{setShowMultiReply(!1),setIsMultiSelectedMap({})}),[]),(0,react.useEffect)((()=>{const _modifiableMultiSelectAnnotations=multiSelectedAnnotations.filter((multiSelectedAnnot=>core.A.canModify(multiSelectedAnnot,activeDocumentViewerKey)));setModifiableMultiSelectAnnotations(_modifiableMultiSelectAnnotations)}),[multiSelectedAnnotations]);const canGroup=core.A.getNumberOfGroups(modifiableMultiSelectAnnotations,activeDocumentViewerKey)>1,canUngroup=!canGroup&&(modifiableMultiSelectAnnotations.length>2||modifiableMultiSelectAnnotations.length>0&&core.A.getGroupAnnotations(modifiableMultiSelectAnnotations[0],activeDocumentViewerKey).length>1),handleStateChange=(0,react.useCallback)((newValue=>{getParentAnnotations(multiSelectedAnnotations,activeDocumentViewerKey).forEach((annot=>{const stateAnnotation=(0,NoteStateUtils.H)(annot,newValue,activeDocumentViewerKey);annot.addReply(stateAnnotation);const annotationManager=core.A.getAnnotationManager(activeDocumentViewerKey);annotationManager.addAnnotation(stateAnnotation),annotationManager.trigger("addReply",[stateAnnotation,annot,annotationManager.getRootAnnotation(annot)])})),setShowMultiState(!1)}),[multiSelectedAnnotations,activeDocumentViewerKey]),memoizedContextValue=(0,react.useMemo)((()=>({resize:()=>{}})));return showMultiReply?(0,jsx_runtime.jsx)(Context.A.Provider,{value:memoizedContextValue,children:(0,jsx_runtime.jsx)(ReplyArea_ReplyAreaMultiSelect,{annotations:getParentAnnotations(multiSelectedAnnotations,activeDocumentViewerKey),onSubmit:()=>setShowMultiReply(!1),onClose:()=>setShowMultiReply(!1)})}):(0,jsx_runtime.jsxs)("div",{className:"multi-select-footer",children:[(0,jsx_runtime.jsxs)("div",{className:"buttons-container",children:[(0,jsx_runtime.jsx)(Button.A,{dataElement:constants_dataElement.A.NOTE_MULTI_REPLY_BUTTON,disabled:isDocumentReadOnly||0===multiSelectedAnnotations.length,img:"icon-header-chat-line",onClick:()=>{setShowMultiReply(!0)},title:"action.comment"}),(0,jsx_runtime.jsx)(ToggleElementButton.A,{dataElement:constants_dataElement.A.NOTE_MULTI_STATE_BUTTON,title:t("option.notesOrder.status"),img:"icon-annotation-status-none",toggleElement:constants_dataElement.A.NOTE_STATE_FLYOUT,disabled:isDocumentReadOnly||0===modifiableMultiSelectAnnotations.length}),(0,jsx_runtime.jsx)(NoteStateFlyout.A,{isMultiSelectMode:!0,handleStateChange}),(0,jsx_runtime.jsx)(Button.A,{dataElement:constants_dataElement.A.NOTE_MULTI_STYLE_BUTTON,img:"icon-menu-style-line",disabled:isDocumentReadOnly||0===modifiableMultiSelectAnnotations.length,onClick:()=>{setShowMultiStyle(!showMultiStyle)},title:"action.style"}),showMultiStyle&&(0,jsx_runtime.jsx)(MultiSelectControls_MultiStylePopup,{annotations:modifiableMultiSelectAnnotations,triggerElementName:"multiStyleButton",onClose:()=>{setShowMultiStyle(!1)}}),!canUngroup&&(0,jsx_runtime.jsx)(Button.A,{dataElement:constants_dataElement.A.NOTE_MULTI_GROUP_BUTTON,disabled:isDocumentReadOnly||!canGroup,img:"group-annotations-icon",onClick:()=>{core.A.groupAnnotations(multiSelectedAnnotations[0],multiSelectedAnnotations,activeDocumentViewerKey)},title:"action.group"}),canUngroup&&(0,jsx_runtime.jsx)(Button.A,{dataElement:constants_dataElement.A.NOTE_MULTI_UNGROUP_BUTTON,img:"ungroup-annotations-icon",onClick:()=>{core.A.ungroupAnnotations(multiSelectedAnnotations,activeDocumentViewerKey)},title:"action.ungroup"}),(0,jsx_runtime.jsx)(Button.A,{dataElement:constants_dataElement.A.NOTE_MULTI_DELETE_BUTTON,disabled:isDocumentReadOnly||0===modifiableMultiSelectAnnotations.length,img:"icon-delete-line",onClick:()=>{const warning={title:t("warning.multiDeleteAnnotation.title"),message:t("warning.multiDeleteAnnotation.message"),confirmBtnText:t("action.delete"),onConfirm:()=>{core.A.deleteAnnotations(modifiableMultiSelectAnnotations,void 0,activeDocumentViewerKey)}};dispatch(actions.A.showWarningMessage(warning))},title:"action.delete"})]}),(0,jsx_runtime.jsx)("div",{className:"close-container",children:(0,jsx_runtime.jsx)(Button.A,{className:"close-icon-container",onClick:()=>{setMultiSelectMode(!1)},img:"ic_close_black_24px",ariaLabel:t("option.documentControls.closeTooltip")})})]})};MultiSelectControls_MultiSelectControls.propTypes=MultiSelectControls_propTypes;const components_MultiSelectControls_MultiSelectControls=MultiSelectControls_MultiSelectControls;MultiSelectControls_MultiSelectControls.__docgenInfo={description:"",methods:[],displayName:"MultiSelectControls",props:{showMultiReply:{description:"",type:{name:"bool"},required:!0},setShowMultiReply:{description:"",type:{name:"func"},required:!0},setShowMultiState:{description:"",type:{name:"func"},required:!0},showMultiStyle:{description:"",type:{name:"bool"},required:!0},setShowMultiStyle:{description:"",type:{name:"func"},required:!0},setMultiSelectMode:{description:"",type:{name:"func"},required:!0},isMultiSelectedMap:{description:"",type:{name:"object"},required:!0},setIsMultiSelectedMap:{description:"",type:{name:"func"},required:!0},multiSelectedAnnotations:{description:"",type:{name:"array"},required:!0}}};const components_MultiSelectControls=components_MultiSelectControls_MultiSelectControls;var CustomElement=__webpack_require__("./src/components/CustomElement/index.js");const components_NotesPanelHeader=__webpack_require__("./src/components/NotesPanelHeader/NotesPanelHeader.js").A;var Choice=__webpack_require__("./src/components/Choice/index.js"),sortStrategies=__webpack_require__("./src/constants/sortStrategies.js"),officeEditor=__webpack_require__("./src/constants/officeEditor.js"),getDeviceSize=__webpack_require__("./src/helpers/getDeviceSize.js"),device=__webpack_require__("./src/helpers/device.js"),ReplyAttachmentPicker=__webpack_require__("./src/components/NotesPanel/ReplyAttachmentPicker.js");__webpack_require__("./src/components/NotesPanel/NotesPanel.scss");const NotesPanel_NotesPanel=({currentLeftPanelWidth,notes,selectedNoteIds,setSelectedNoteIds,searchInput,setSearchInput,isMultiSelectMode,setMultiSelectMode,isMultiSelectedMap,setIsMultiSelectedMap,scrollToSelectedAnnot,setScrollToSelectedAnnot,isCustomPanel,isCustomPanelOpen,isLeftSide,parentDataElement})=>{const sortStrategy=(0,es.d4)(selectors.A.getSortStrategy),isOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,constants_dataElement.A.NOTES_PANEL))),isDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,constants_dataElement.A.NOTES_PANEL))),pageLabels=(0,es.d4)(selectors.A.getPageLabels,es.bN),customNoteFilter=(0,es.d4)(selectors.A.getCustomNoteFilter,es.bN),internalNoteFilter=(0,es.d4)(selectors.A.getInternalNoteFilter,es.bN),currentNotesPanelWidth=(0,es.d4)((state=>parentDataElement?selectors.A.getPanelWidth(state,parentDataElement):selectors.A.getNotesPanelWidth(state)),es.bN),notesInLeftPanel=(0,es.d4)(selectors.A.getNotesInLeftPanel),isDocumentReadOnly=(0,es.d4)(selectors.A.isDocumentReadOnly),showAnnotationNumbering=(0,es.d4)(selectors.A.isAnnotationNumberingEnabled),enableNotesPanelVirtualizedList=(0,es.d4)(selectors.A.getEnableNotesPanelVirtualizedList),isInDesktopOnlyMode=(0,es.d4)(selectors.A.isInDesktopOnlyMode),customEmptyPanel=(0,es.d4)(selectors.A.getNotesPanelCustomEmptyPanel,es.bN),isNotesPanelMultiSelectEnabled=(0,es.d4)(selectors.A.getIsNotesPanelMultiSelectEnabled),activeDocumentViewerKey=(0,es.d4)(selectors.A.getActiveDocumentViewerKey),isOfficeEditorMode=(0,es.d4)(selectors.A.getIsOfficeEditorMode),officeEditorEditMode=(0,es.d4)(selectors.A.getOfficeEditorEditMode),dispatch=(0,es.wA)(),[t]=(0,useTranslation.B)(),currentWidth=currentLeftPanelWidth||currentNotesPanelWidth,isMobile=(0,getDeviceSize.IS)(),[multiSelectedAnnotations,setMultiSelectedAnnotations]=(0,react.useState)([]),[showMultiReply,setShowMultiReply]=(0,react.useState)(!1),[showMultiState,setShowMultiState]=(0,react.useState)(!1),[showMultiStyle,setShowMultiStyle]=(0,react.useState)(!1),[curAnnotId,setCurAnnotId]=(0,react.useState)(void 0),listRef=(0,react.useRef)(),scrollTopRef=(0,react.useRef)(0),VIRTUALIZATION_THRESHOLD=enableNotesPanelVirtualizedList?device.lT?25:100:1/0;(0,react.useEffect)((()=>{const onAnnotationNumberingUpdated=isEnabled=>{dispatch(actions.A.setAnnotationNumbering(isEnabled))},onAnnotationSelected=(annotations,action)=>{"selected"===action&&setCurAnnotId(annotations[0].Id)};return core.A.addEventListener("annotationNumberingUpdated",onAnnotationNumberingUpdated),core.A.addEventListener("annotationSelected",onAnnotationSelected),()=>{core.A.removeEventListener("annotationNumberingUpdated",onAnnotationNumberingUpdated),core.A.removeEventListener("annotationSelected",onAnnotationSelected)}}),[]);let singleSelectedNoteIndex=-1;const handleScroll=scrollTop=>{scrollTop&&(scrollTopRef.current=scrollTop),dispatch(actions.A.closeElement("annotationNoteConnectorLine"))},filterNotesWithSearch=note=>{const content=note.getContents(),authorName=core.A.getDisplayAuthor(note.Author),annotationPreview=note.getCustomData("trn-annot-preview");return content?.toLowerCase().includes(searchInput.toLowerCase())||authorName?.toLowerCase().includes(searchInput.toLowerCase())||annotationPreview?.toLowerCase().includes(searchInput.toLowerCase())},notesToRender=(0,sortStrategies.Qk)()[sortStrategy].getSortedNotes(notes).filter((note=>{let shouldRender=!0;if(customNoteFilter&&(shouldRender=shouldRender&&customNoteFilter(note)),internalNoteFilter&&(shouldRender=shouldRender&&internalNoteFilter(note)),searchInput){const replies=note.getReplies(),noteAndReplies=[note,...replies];shouldRender=shouldRender&&noteAndReplies.some(filterNotesWithSearch)}return shouldRender}));(0,react.useEffect)((()=>{Object.keys(selectedNoteIds).length&&-1!==singleSelectedNoteIndex&&setTimeout((()=>{listRef.current?.scrollToRow(singleSelectedNoteIndex)}),0)}),[selectedNoteIds]);const onlyReplyContainsSearchInput=currNote=>!Object.keys(selectedNoteIds).length&&(searchInput&&notesToRender.filter((note=>note.getReplies().some(filterNotesWithSearch))).some((replies=>replies.Id===currNote.Id))),[pendingEditTextMap,setPendingEditTextMap]=(0,react.useState)({}),setPendingEditText=(0,react.useCallback)(((pendingText,annotationID)=>{setPendingEditTextMap((map=>({...map,[annotationID]:pendingText})))}),[setPendingEditTextMap]),[pendingReplyMap,setPendingReplyMap]=(0,react.useState)({}),setPendingReply=(0,react.useCallback)(((pendingReply,annotationID)=>{setPendingReplyMap((map=>({...map,[annotationID]:pendingReply})))}),[setPendingReplyMap]),[pendingAttachmentMap,setPendingAttachmentMap]=(0,react.useState)({}),addAttachments=(annotationID,attachments)=>{setPendingAttachmentMap((map=>({...map,[annotationID]:[...map[annotationID]||[],...attachments]})))},clearAttachments=annotationID=>{setPendingAttachmentMap((map=>({...map,[annotationID]:[]})))},deleteAttachment=(annotationID,attachment)=>{const attachmentList=pendingAttachmentMap[annotationID];if(attachmentList?.length>0){const index=attachmentList.indexOf(attachment);index>-1&&(attachmentList.splice(index,1),setPendingAttachmentMap((map=>({...map,[annotationID]:[...attachmentList]}))))}};(0,react.useEffect)((()=>{setMultiSelectedAnnotations(Object.values(isMultiSelectedMap))}),[isMultiSelectedMap]);const renderChild=(notes,index,resize=()=>{})=>{let listSeparator=null;const{shouldRenderSeparator,getSeparatorContent}=(0,sortStrategies.Qk)()[sortStrategy],prevNote=0===index?null:notes[index-1],currNote=notes[index];shouldRenderSeparator&&getSeparatorContent&&(!prevNote||shouldRenderSeparator(prevNote,currNote))&&(listSeparator=(0,jsx_runtime.jsx)(ListSeparator.A,{renderContent:()=>getSeparatorContent(prevNote,currNote,{pageLabels})}));const contextValue={searchInput,resize,isSelected:selectedNoteIds[currNote.Id],isContentEditable:core.A.canModifyContents(currNote,activeDocumentViewerKey)&&!currNote.getContents(),pendingEditTextMap,setPendingEditText,pendingReplyMap,setPendingReply,isDocumentReadOnly,onTopNoteContentClicked:()=>{!isMultiSelectMode&&selectedNoteIds[currNote.Id]&&(setSelectedNoteIds((currIds=>{const clone={...currIds};return delete clone[currNote.Id],clone})),core.A.deselectAnnotation(currNote,activeDocumentViewerKey))},isExpandedFromSearch:onlyReplyContainsSearchInput(currNote),scrollToSelectedAnnot,sortStrategy,showAnnotationNumbering,setCurAnnotId,pendingAttachmentMap,clearAttachments,deleteAttachment,addAttachments,documentViewerKey:activeDocumentViewerKey};return index===singleSelectedNoteIndex&&setTimeout((()=>{setScrollToSelectedAnnot(!1),dispatch(actions.A.openElement("annotationNoteConnectorLine"))}),0),(0,jsx_runtime.jsxs)("div",{role:"listitem",className:"note-wrapper",children:[listSeparator,(0,jsx_runtime.jsx)(Context.A.Provider,{value:contextValue,children:(0,jsx_runtime.jsx)(Note.A,{isCustomPanelOpen,shouldHideConnectorLine:isLeftSide,annotation:currNote,isMultiSelected:!!isMultiSelectedMap[currNote.Id],isMultiSelectMode,isMultiSelectEnabled:isNotesPanelMultiSelectEnabled,isInNotesPanel:!0,handleMultiSelect:checked=>{if(checked){const _isMultiSelectedMap={...isMultiSelectedMap},groupAnnots=core.A.getGroupAnnotations(currNote,activeDocumentViewerKey);groupAnnots.forEach((groupAnnot=>{_isMultiSelectedMap[groupAnnot.Id]=groupAnnot})),setIsMultiSelectedMap(_isMultiSelectedMap),core.A.selectAnnotations(groupAnnots)}else{const _isMultiSelectedMap={...isMultiSelectedMap},groupAnnots=core.A.getGroupAnnotations(currNote,activeDocumentViewerKey);groupAnnots.forEach((groupAnnot=>{delete _isMultiSelectedMap[groupAnnot.Id]})),setIsMultiSelectedMap(_isMultiSelectedMap),core.A.deselectAnnotations([currNote,...groupAnnots])}}})})]})},NoResults=(0,jsx_runtime.jsxs)("div",{className:"no-results",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Icon.A,{className:"empty-icon",glyph:"illustration - empty state - outlines"})}),(0,jsx_runtime.jsx)("p",{className:"msg no-margin",children:t("message.noResults")})]}),NoAnnotationsGlyph=customEmptyPanel?.icon?customEmptyPanel.icon:isOfficeEditorMode?"ic-edit-page":"illustration - empty state - outlines",NoAnnotationsMessage=customEmptyPanel?.message?customEmptyPanel.message:t(isOfficeEditorMode?"message.noRevisions":"message.noAnnotations"),NoAnnotationsReadOnlyMessage=customEmptyPanel&&customEmptyPanel.readOnlyMessage?customEmptyPanel.readOnlyMessage:t("message.noAnnotationsReadOnly"),shouldRenderNoAnnotationsIcon=customEmptyPanel&&!customEmptyPanel.hideIcon||!customEmptyPanel,shouldRenderCustomEmptyPanel=customEmptyPanel&&customEmptyPanel.render,NoAnnotations=(0,jsx_runtime.jsx)("div",{className:"no-annotations",children:shouldRenderCustomEmptyPanel?(0,jsx_runtime.jsx)(CustomElement.A,{render:customEmptyPanel.render}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[shouldRenderNoAnnotationsIcon&&(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Icon.A,{className:"empty-icon",glyph:NoAnnotationsGlyph})}),(0,jsx_runtime.jsx)("div",{className:"msg",children:isDocumentReadOnly?NoAnnotationsReadOnlyMessage:NoAnnotationsMessage})]})}),MultiSelectPlaceHolder=(0,jsx_runtime.jsx)("div",{className:"multi-select-place-holder"}),MultiReplyPlaceHolder=(0,jsx_runtime.jsx)("div",{className:"multi-reply-place-holder"}),ids=Object.keys(selectedNoteIds);if(1===ids.length)singleSelectedNoteIndex=notesToRender.findIndex((note=>note.Id===ids[0]));else if(ids.length){notesToRender.filter((note=>selectedNoteIds[note.Id])).length&&(singleSelectedNoteIndex=notesToRender.findIndex((note=>note.Id===curAnnotId)))}let style={};isCustomPanel||!isInDesktopOnlyMode&&isMobile||(style={width:`${currentWidth}px`,minWidth:`${currentWidth}px`});return!isDisabled&&(isOpen||notesInLeftPanel||isCustomPanel)?(0,jsx_runtime.jsxs)("div",{className:classnames_default()({"notes-panel-container":!0,"office-editor":isOfficeEditorMode}),children:[(0,jsx_runtime.jsxs)("div",{className:classnames_default()({Panel:!0,NotesPanel:!0}),style,"data-element":"notesPanel",onMouseUp:()=>core.A.deselectAllAnnotations,children:[!isInDesktopOnlyMode&&isMobile&&!notesInLeftPanel&&(0,jsx_runtime.jsx)("div",{className:"close-container",children:(0,jsx_runtime.jsx)("div",{className:"close-icon-container",onClick:()=>{dispatch(actions.A.closeElements([constants_dataElement.A.NOTES_PANEL]))},children:(0,jsx_runtime.jsx)(Icon.A,{glyph:"ic_close_black_24px",className:"close-icon"})})}),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(components_NotesPanelHeader,{notes:notesToRender,disableFilterAnnotation:0===notes.length,setSearchInputHandler:setSearchInput,isMultiSelectMode,toggleMultiSelectMode:()=>{setMultiSelectMode(!isMultiSelectMode)},isMultiSelectEnabled:isNotesPanelMultiSelectEnabled}),0===notesToRender.length?0===notes.length?NoAnnotations:NoResults:notesToRender.length<=VIRTUALIZATION_THRESHOLD?(0,jsx_runtime.jsx)(NotesPanel_NormalList,{ref:listRef,notes:notesToRender,onScroll:handleScroll,initialScrollTop:scrollTopRef.current,children:renderChild}):(0,jsx_runtime.jsx)(NotesPanel_VirtualizedList,{ref:listRef,notes:notesToRender,sortStrategy,onScroll:handleScroll,initialScrollTop:scrollTopRef.current,selectedIndex:singleSelectedNoteIndex,children:renderChild}),isMultiSelectMode?showMultiReply?MultiReplyPlaceHolder:MultiSelectPlaceHolder:null,isOfficeEditorMode&&!isMultiSelectMode&&notesToRender.length>0&&(0,jsx_runtime.jsxs)("div",{className:"preview-all-changes",children:[(0,jsx_runtime.jsx)("div",{className:"divider"}),(0,jsx_runtime.jsx)(Choice.A,{isSwitch:!0,checked:officeEditorEditMode===officeEditor.r8.PREVIEW,label:t("officeEditor.previewAllChanges"),onChange:e=>core.A.getOfficeEditor().setEditMode(e.target.checked?officeEditor.r8.PREVIEW:officeEditor.r8.REVIEWING)})]})]})]}),isMultiSelectMode&&(0,jsx_runtime.jsx)(components_MultiSelectControls,{showMultiReply,setShowMultiReply,showMultiState,setShowMultiState,showMultiStyle,setShowMultiStyle,setMultiSelectMode,isMultiSelectedMap,setIsMultiSelectedMap,multiSelectedAnnotations}),(0,jsx_runtime.jsx)(ReplyAttachmentPicker.A,{annotationId:curAnnotId,addAttachments}),(()=>{const message=t(isOfficeEditorMode?"officeEditor.reviewing":"component.notesPanel");return(0,jsx_runtime.jsx)("p",{"aria-live":"assertive",style:{position:"absolute",left:"-9999px"},children:notesToRender.length>0?`${message} ${notesToRender.length}`:t("message.noResults")})})()]}):null},components_NotesPanel_NotesPanel=NotesPanel_NotesPanel;NotesPanel_NotesPanel.__docgenInfo={description:"",methods:[],displayName:"NotesPanel"};var MultiViewerWrapper=__webpack_require__("./src/components/MultiViewer/MultiViewerWrapper/index.js");function NotesPanelContainer(props){const{isCustomPanelOpen,parentDataElement,dataElement}=props,[isOpen,notesInLeftPanel,isNotesPanelMultiSelectEnabled,isMultiViewerMode,activeDocumentViewerKey,isOfficeEditorMode]=(0,es.d4)((state=>[selectors.A.isElementOpen(state,parentDataElement||dataElement||constants_dataElement.A.NOTES_PANEL),selectors.A.getNotesInLeftPanel(state),selectors.A.getIsNotesPanelMultiSelectEnabled(state),selectors.A.isMultiViewerMode(state),selectors.A.getActiveDocumentViewerKey(state),selectors.A.getIsOfficeEditorMode(state)]),es.bN),[searchInput,setSearchInput]=(0,react.useState)(""),[isMultiSelectMode,setMultiSelectMode]=(0,react.useState)(!1),[scrollToSelectedAnnot,setScrollToSelectedAnnot]=(0,react.useState)(!1),[noteMap,setNoteMap]=(0,react.useState)({1:[],2:[]}),setNotes=(0,react.useCallback)(((notes,documentViewerKey=activeDocumentViewerKey)=>{noteMap[documentViewerKey]=notes,setNoteMap({...noteMap})}),[activeDocumentViewerKey,noteMap[1],noteMap[2],setNoteMap]),notes=noteMap[activeDocumentViewerKey]||noteMap[1],[selectedNoteIdsMap,setSelectedNoteIdsMap]=(0,react.useState)({1:{},2:{}}),setSelectedNoteIds=(0,react.useCallback)(((selectedNoteIds,documentViewerKey=activeDocumentViewerKey)=>{selectedNoteIdsMap[documentViewerKey]=selectedNoteIds,setSelectedNoteIdsMap({...selectedNoteIdsMap})}),[activeDocumentViewerKey,selectedNoteIdsMap[1],selectedNoteIdsMap[2],setSelectedNoteIdsMap]),selectedNoteIds=selectedNoteIdsMap[activeDocumentViewerKey]||selectedNoteIdsMap[1],[isMultiSelectedViewerMap,setIsMultiSelectedViewerMap]=(0,react.useState)({1:{},2:{}}),setIsMultiSelectedMap=(0,react.useCallback)(((isMultiSelected,documentViewerKey=activeDocumentViewerKey)=>{isMultiSelectedViewerMap[documentViewerKey]=isMultiSelected,setIsMultiSelectedViewerMap({...isMultiSelectedViewerMap})}),[activeDocumentViewerKey,isMultiSelectedViewerMap[1],isMultiSelectedViewerMap[2],setIsMultiSelectedViewerMap]),isMultiSelectedMap=isMultiSelectedViewerMap[activeDocumentViewerKey]||isMultiSelectedViewerMap[1],isValidAnnotation=annot=>{const formFieldCreationManager=core.A.getAnnotationManager().getFormFieldCreationManager(),isWidgetAnnotation=annot instanceof window.Core.Annotations.WidgetAnnotation,isListableAnnotation=annot.Listable&&!isWidgetAnnotation,isInFormCreationMode=isWidgetAnnotation&&formFieldCreationManager.isInFormFieldCreationMode(),isValidForOfficeEditor=!isOfficeEditorMode||(0,map.c7)(annot)===map.oC.TRACKED_CHANGE;return(isListableAnnotation||isInFormCreationMode)&&!annot.isReply()&&!annot.Hidden&&!annot.isGrouped()&&annot.ToolName!==window.Core.Tools.ToolNames.CROP&&!annot.isContentEditPlaceholder()&&isValidForOfficeEditor};function getGroupedAnnots(selectedAnnotations){const mainAnnot=selectedAnnotations.find((annot=>annot.isGrouped())),groupedAnnots=[];return mainAnnot&&selectedAnnotations.forEach((annot=>{mainAnnot.InReplyTo!==annot.InReplyTo&&mainAnnot.InReplyTo!==annot.Id||groupedAnnots.push(annot)})),groupedAnnots}(0,react.useEffect)((()=>{const onDocumentUnloaded=(documentViewerKey=activeDocumentViewerKey)=>()=>{setNotes([],documentViewerKey),setSelectedNoteIds({}),setSearchInput("")},_setNotes=(documentViewerKey=activeDocumentViewerKey)=>()=>{const selectedAnnotations=core.A.getSelectedAnnotations(documentViewerKey),groupedAnnots=getGroupedAnnots(selectedAnnotations);isMultiSelectMode&&groupedAnnots.length===selectedAnnotations.length&&setMultiSelectMode(!1),setNotes(core.A.getAnnotationsList(documentViewerKey).filter(isValidAnnotation),documentViewerKey)},setDocumentUnloaded1=onDocumentUnloaded(1);core.A.addEventListener("documentUnloaded",setDocumentUnloaded1);const setNotes1=_setNotes(1);let setDocumentUnloaded2,setNotes2;return core.A.addEventListener("annotationChanged",setNotes1),core.A.addEventListener("annotationHidden",setNotes1),core.A.addEventListener("updateAnnotationPermission",setNotes1),setNotes1(),isMultiViewerMode&&(setDocumentUnloaded2=onDocumentUnloaded(2),core.A.addEventListener("documentUnloaded",setDocumentUnloaded2,void 0,2),setNotes2=_setNotes(2),core.A.addEventListener("annotationChanged",setNotes2,void 0,2),core.A.addEventListener("annotationHidden",setNotes2,void 0,2),core.A.addEventListener("updateAnnotationPermission",setNotes2,void 0,2),setNotes2()),()=>{isMultiViewerMode&&(core.A.removeEventListener("documentUnloaded",setDocumentUnloaded2,2),core.A.removeEventListener("annotationChanged",setNotes2,2),core.A.removeEventListener("annotationHidden",setNotes2,2),core.A.removeEventListener("updateAnnotationPermission",setNotes2,2)),core.A.removeEventListener("documentUnloaded",setDocumentUnloaded1),core.A.removeEventListener("annotationChanged",setNotes1),core.A.removeEventListener("annotationHidden",setNotes1),core.A.removeEventListener("updateAnnotationPermission",setNotes1)}}),[isMultiViewerMode,isOfficeEditorMode]),(0,react.useEffect)((()=>{const onAnnotationSelected=(documentViewerKey=activeDocumentViewerKey)=>(annotations,action)=>{const selectedAnnotations=core.A.getSelectedAnnotations(documentViewerKey),ids={};selectedAnnotations.forEach((annot=>{ids[annot.Id]=!0})),(isCustomPanelOpen||isOpen||notesInLeftPanel)&&(setSelectedNoteIds(ids,documentViewerKey),setScrollToSelectedAnnot(!0));const groupedAnnots=getGroupedAnnots(selectedAnnotations),shouldDisplayMultiSelect=selectedAnnotations.length>1&&groupedAnnots.length!==selectedAnnotations.length||isMultiSelectMode;isNotesPanelMultiSelectEnabled&&"selected"===action&&shouldDisplayMultiSelect?(setMultiSelectMode(!0),selectedAnnotations.forEach((selectedAnnot=>{isMultiSelectedMap[selectedAnnot.Id]=selectedAnnot})),setIsMultiSelectedMap({...isMultiSelectedMap},documentViewerKey)):"deselected"===action&&(annotations.forEach((a=>{delete isMultiSelectedMap[a.Id]})),setIsMultiSelectedMap({...isMultiSelectedMap},documentViewerKey))},onAnnotationSelected1=onAnnotationSelected(1);let onAnnotationSelected2;return onAnnotationSelected1(),core.A.addEventListener("annotationSelected",onAnnotationSelected1),isMultiViewerMode&&(onAnnotationSelected2=onAnnotationSelected(2),onAnnotationSelected2(),core.A.addEventListener("annotationSelected",onAnnotationSelected2,void 0,2)),()=>{core.A.removeEventListener("annotationSelected",onAnnotationSelected1),isMultiViewerMode&&core.A.removeEventListener("annotationSelected",onAnnotationSelected2,2)}}),[isCustomPanelOpen,isOpen,notesInLeftPanel,isMultiSelectMode,isMultiSelectedMap,isNotesPanelMultiSelectEnabled,isMultiViewerMode]);const passProps={notes,selectedNoteIds,setSelectedNoteIds,searchInput,setSearchInput,isMultiSelectMode,setMultiSelectMode,isMultiSelectedMap,setIsMultiSelectedMap,scrollToSelectedAnnot,setScrollToSelectedAnnot};return(0,jsx_runtime.jsx)(components_NotesPanel_NotesPanel,{...props,...passProps})}function NotesPanelWrapper(props){return(0,jsx_runtime.jsx)(MultiViewerWrapper.A,{wrapOnlyInMultiViewerMode:!0,children:(0,jsx_runtime.jsx)(NotesPanelContainer,{...props})})}const NotesPanel_NotesPanelContainer=NotesPanelWrapper;NotesPanelWrapper.__docgenInfo={description:"",methods:[],displayName:"NotesPanelWrapper"}},"./src/components/NotesPanelHeader/NotesPanelHeader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),prop_types__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_19__),lodash_debounce__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/debounce.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/core/index.js"),components_Dropdown__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Dropdown/index.js"),components_Button__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Button/index.js"),components_DataElementWrapper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/DataElementWrapper/index.js"),components_CustomElement__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/CustomElement/index.js"),constants_events__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/constants/events.js"),constants_sortStrategies__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/constants/sortStrategies.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/constants/dataElement.js"),constants_officeEditor__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/constants/officeEditor.js"),hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/hooks/useFocusHandler/index.js"),_Icon__WEBPACK_IMPORTED_MODULE_18__=(__webpack_require__("./src/components/NotesPanelHeader/NotesPanelHeader.scss"),__webpack_require__("./src/components/Icon/index.js"));const propTypes={notes:prop_types__WEBPACK_IMPORTED_MODULE_19___default().array.isRequired,disableFilterAnnotation:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool,setSearchInputHandler:prop_types__WEBPACK_IMPORTED_MODULE_19___default().func.isRequired,isMultiSelectMode:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool,toggleMultiSelectMode:prop_types__WEBPACK_IMPORTED_MODULE_19___default().func,isMultiSelectEnabled:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool};function NotesPanelHeader({notes,disableFilterAnnotation,setSearchInputHandler,isMultiSelectMode,toggleMultiSelectMode,isMultiSelectEnabled}){const[sortStrategy,isSortContainerDisabled,customHeaderOptions,annotationFilters,isOfficeEditorMode,officeEditorEditMode,customizableUI]=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_4__.A.getSortStrategy(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.isElementDisabled(state,"sortContainer"),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getNotesPanelCustomHeaderOptions(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getAnnotationFilters(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getIsOfficeEditorMode(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getOfficeEditorEditMode(state),selectors__WEBPACK_IMPORTED_MODULE_4__.A.getFeatureFlags(state)?.customizableUI]),react_redux__WEBPACK_IMPORTED_MODULE_2__.bN),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_20__.B)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.wA)(),[filterEnabled,setFilterEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isPreviewingTrackedChanges,setIsPreviewingTrackedChanges]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[searchInput,setSearchInput]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const{authorFilter,colorFilter,statusFilter,typeFilter}=annotationFilters;(authorFilter?.length>0||colorFilter?.length>0||statusFilter?.length>0||typeFilter?.length>0)&&setFilterEnabled(!0);const toggleFilterStyle=e=>{const{types,authors,colors,statuses}=e.detail;types.length>0||authors.length>0||colors.length>0||statuses.length>0?setFilterEnabled(!0):setFilterEnabled(!1)};return window.addEventListener(constants_events__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_FILTER_CHANGED,toggleFilterStyle),()=>{window.removeEventListener(constants_events__WEBPACK_IMPORTED_MODULE_12__.A.ANNOTATION_FILTER_CHANGED,toggleFilterStyle)}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{isOfficeEditorMode&&officeEditorEditMode===constants_officeEditor__WEBPACK_IMPORTED_MODULE_15__.r8.PREVIEW?(setIsPreviewingTrackedChanges(!0),setSearchInputHandler(""),setSearchInput("")):setIsPreviewingTrackedChanges(!1)}),[isOfficeEditorMode,officeEditorEditMode]);const _handleInputChange=lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()((value=>{core__WEBPACK_IMPORTED_MODULE_7__.A.deselectAllAnnotations(),setSearchInputHandler(value)}),500),sortContainer=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sort-container","data-element":"sortContainer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"label",id:"notesSortLabel",children:`${t("message.sort")}:`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Dropdown__WEBPACK_IMPORTED_MODULE_8__.A,{id:"notesOrderDropdown",labelledById:"notesSortLabel",dataElement:"notesOrderDropdown",disabled:0===notes.length||isPreviewingTrackedChanges,ariaLabel:`${t("message.sortBy")} ${sortStrategy}`,items:Object.keys((0,constants_sortStrategies__WEBPACK_IMPORTED_MODULE_13__.Qk)()),translationPrefix:"option.notesOrder",currentSelectionKey:sortStrategy,onClickItem:strategy=>{dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.setNotesPanelSortStrategy(strategy))}})]}),openFilterModalWithFocusTransfer=(0,hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_16__.A)((()=>dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.openElement("filterModal")))),placeholderText=t(isOfficeEditorMode?"message.searchSuggestionsPlaceholder":"message.searchCommentsPlaceholder"),originalHeaderElement=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(components_DataElementWrapper__WEBPACK_IMPORTED_MODULE_10__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()({header:!0,"modular-ui-header":customizableUI}),dataElement:"notesPanelHeader",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(components_DataElementWrapper__WEBPACK_IMPORTED_MODULE_10__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()({"input-container":!0,"modular-ui-input":customizableUI}),dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.NotesPanel.DefaultHeader.INPUT_CONTAINER,children:[customizableUI&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon__WEBPACK_IMPORTED_MODULE_18__.A,{glyph:"icon-header-search"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{disabled:isPreviewingTrackedChanges,type:"text",placeholder:customizableUI?"":placeholderText,"aria-label":placeholderText,onChange:e=>{setSearchInput(e.target.value),_handleInputChange(e.target.value)},id:"NotesPanel__input",value:searchInput})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_DataElementWrapper__WEBPACK_IMPORTED_MODULE_10__.A,{className:"comments-counter",dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.NotesPanel.DefaultHeader.COMMENTS_COUNTER,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2",{className:"main-comment",children:[t(isOfficeEditorMode?"officeEditor.reviewing":"component.notesPanel")," ",`(${notes.length})`]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(components_DataElementWrapper__WEBPACK_IMPORTED_MODULE_10__.A,{className:"sort-row",dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.NotesPanel.DefaultHeader.SORT_ROW,children:[isSortContainerDisabled?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"sort-container"}):sortContainer,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"buttons-container",children:[isMultiSelectEnabled&&!isOfficeEditorMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_9__.A,{dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.NOTE_MULTI_SELECT_MODE_BUTTON,className:classnames__WEBPACK_IMPORTED_MODULE_6___default()({active:isMultiSelectMode}),disabled:0===notes.length,img:"icon-annotation-select-multiple",onClick:()=>{core__WEBPACK_IMPORTED_MODULE_7__.A.deselectAllAnnotations(),toggleMultiSelectMode()},title:t("component.multiSelectButton"),ariaPressed:isMultiSelectMode}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_9__.A,{dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.NotesPanel.DefaultHeader.FILTER_ANNOTATION_BUTTON,className:classnames__WEBPACK_IMPORTED_MODULE_6___default()({active:filterEnabled}),disabled:disableFilterAnnotation,img:"icon-comments-filter",onClick:openFilterModalWithFocusTransfer,title:t("component.filter"),ariaPressed:filterEnabled})]})]})]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[customHeaderOptions&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_CustomElement__WEBPACK_IMPORTED_MODULE_11__.A,{render:customHeaderOptions.render,renderArguments:[notes]}),(!customHeaderOptions||!customHeaderOptions.overwriteDefaultHeader)&&originalHeaderElement]})}NotesPanelHeader.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=NotesPanelHeader;NotesPanelHeader.__docgenInfo={description:"",methods:[],displayName:"NotesPanelHeader",props:{notes:{description:"",type:{name:"array"},required:!0},disableFilterAnnotation:{description:"",type:{name:"bool"},required:!1},setSearchInputHandler:{description:"",type:{name:"func"},required:!0},isMultiSelectMode:{description:"",type:{name:"bool"},required:!1},toggleMultiSelectMode:{description:"",type:{name:"func"},required:!1},isMultiSelectEnabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/NotesPanelHeader/NotesPanelHeader.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotesPanelHeader/NotesPanelHeader.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/helpers/getClassName.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(className,{isOpen})=>[className,isOpen?"open":"closed"].join(" ").trim()}}]);