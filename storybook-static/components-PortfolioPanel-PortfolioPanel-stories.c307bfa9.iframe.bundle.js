(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[40837,56325],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".MobilePanelWrapper{border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .MobilePanelWrapper{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .MobilePanelWrapper{overflow:auto;max-height:100%}}.open.MobilePanelWrapper{visibility:visible}.closed.MobilePanelWrapper{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.MobilePanelWrapper .swipe-indicator-wrapper .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .MobilePanelWrapper .swipe-indicator-wrapper .swipe-indicator,.MobilePanelWrapper .swipe-indicator-wrapper .App:not(.is-in-desktop-only-mode):not(.is-web-component) .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .MobilePanelWrapper .swipe-indicator-wrapper .swipe-indicator,.MobilePanelWrapper .swipe-indicator-wrapper .App.is-web-component:not(.is-in-desktop-only-mode) .swipe-indicator{display:none}}.MobilePanelWrapper{position:fixed;inset-block-end:0;padding-bottom:10px;z-index:100;width:100%;height:100%;display:block;justify-content:center;align-items:center;overflow-y:visible;background-color:var(--panel-background);transition:height,max-height .3s ease-out}.MobilePanelWrapper.full-size{max-height:100%}.MobilePanelWrapper.half-size{max-height:50%}.MobilePanelWrapper.small-size{max-height:140px;overflow:hidden}.MobilePanelWrapper .mobile-panel-body{inset-block-start:-30px;position:relative}.MobilePanelWrapper .swipe-indicator-wrapper{position:relative;width:100%;height:60px;inset-block-start:0;z-index:1;pointer-events:auto}.MobilePanelWrapper .swipe-indicator-wrapper .swipe-indicator{margin:10px auto;inset-block-start:0}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ToggleElementButton .Button:hover:not(:disabled){cursor:pointer;border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active{border:none;box-shadow:inset 0 0 0 1px var(--blue-5);color:var(--blue-5);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active .Icon{color:var(--blue-5)}.ToggleElementButton .Button{width:auto;min-width:32px;height:32px;padding:5px}.ToggleElementButton .Button.active{cursor:default}.ToggleElementButton .Button.active .Icon{color:var(--view-header-icon-active-fill)}.ToggleElementButton .Button.active .Icon svg path:not(.no-fill){fill:var(--view-header-icon-active-fill)}.ToggleElementButton.legacy-ui .Button:hover:not(:disabled){border:none;box-shadow:none;background-color:var(--blue-1)}.ToggleElementButton.is-mobile .Button.modular-ui.icon-only:hover:not(:disabled):not(.active){background-color:transparent;background-color:initial;color:#000;color:initial;box-shadow:none}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PasswordModal/PasswordModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.PasswordModal{visibility:visible}.closed.PasswordModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PasswordModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.PasswordModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.PasswordModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.PasswordModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.PasswordModal .footer .modal-button.cancel:hover,.PasswordModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.PasswordModal .footer .modal-button.cancel,.PasswordModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.PasswordModal .footer .modal-button.cancel.disabled,.PasswordModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.PasswordModal .footer .modal-button.cancel.disabled span,.PasswordModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.PasswordModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.PasswordModal .modal-container .wrapper .modal-content{padding:10px}.PasswordModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.PasswordModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.PasswordModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.PasswordModal .footer .modal-button.confirm{margin-inline-start:4px}.PasswordModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .footer .modal-button{padding:23px 8px}}.PasswordModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PasswordModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PasswordModal .swipe-indicator{width:32px}}.PasswordModal .modal-container{width:480px}.PasswordModal .modal-container .wrapper form{padding:16px;font-size:14px}.PasswordModal .modal-container .wrapper .incorrect-password{margin-top:6px;font-size:13px;color:#cf0101}.PasswordModal .modal-container .wrapper .modal-button{margin-top:0}.PasswordModal .modal-container .wrapper .error-modal-content{padding:2px 16px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/constants/bookmarksOutlinesShared.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".bookmark-outline-panel{display:flex;padding-inline-start:var(--padding);padding-inline-end:var(--padding-small)}.bookmark-outline-control-button{width:auto}.bookmark-outline-control-button span{color:inherit}.bookmark-outline-control-button,.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{color:var(--secondary-button-text)}.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{opacity:.5}.bookmark-outline-control-button.disabled span,.bookmark-outline-control-button[disabled] span{color:inherit}.bookmark-outline-control-button:not(.disabled):active,.bookmark-outline-control-button:not(.disabled):hover,.bookmark-outline-control-button:not([disabled]):active,.bookmark-outline-control-button:not([disabled]):hover{color:var(--secondary-button-hover)}.bookmark-outline-panel-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;padding:var(--padding-tiny);border-bottom:1px solid var(--divider)}.bookmark-outline-panel-header .header-title{font-size:16px}.bookmark-outline-row{flex-grow:1;overflow-y:auto}.msg-no-bookmark-outline{color:var(--placeholder-text);text-align:center}.bookmark-outline-single-container{display:flex;flex-flow:row nowrap;align-items:flex-start;border-radius:4px;margin-inline-start:2px;margin-inline-end:2px}.bookmark-outline-single-container.default{padding:var(--padding-tiny);border:1px solid transparent}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:hover,.bookmark-outline-single-container.default[focus-within]{cursor:pointer}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:focus-within,.bookmark-outline-single-container.default:hover{cursor:pointer}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button,.bookmark-outline-single-container.default[focus-within] .bookmark-outline-more-button{display:flex;background-color:transparent}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:focus-within .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button{display:flex;background-color:transparent}.bookmark-outline-single-container.default[focus-within]{border-color:transparent}.bookmark-outline-single-container.default:focus-within{border-color:transparent}.bookmark-outline-single-container.default .bookmark-outline-label-row{overflow:hidden}.bookmark-outline-single-container.default.focus-visible,.bookmark-outline-single-container.default:focus-visible{outline:var(--focus-visible-outline)!important}.bookmark-outline-single-container.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.bookmark-outline-single-container.editing.focus-visible,.bookmark-outline-single-container.editing:focus-visible{outline:var(--focus-visible-outline)!important}.bookmark-outline-single-container.preview{display:inline-flex;margin-top:0;padding:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--note-box-shadow)}.bookmark-outline-single-container .bookmark-outline-checkbox{flex-grow:0;flex-shrink:0;margin-top:2px;margin-bottom:2px;margin-inline-end:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-label-row{flex-grow:1;flex-shrink:1;display:flex;flex-flow:row wrap;align-items:flex-start;position:relative;overflow:hidden}.bookmark-outline-single-container .bookmark-outline-label{font-weight:600;flex-grow:1;flex-shrink:1;margin-bottom:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-input,.bookmark-outline-single-container .bookmark-outline-text{flex-grow:1;flex-shrink:1;flex-basis:calc(100% - 22px);margin-top:2px;margin-bottom:2px}.bookmark-outline-single-container .bookmark-text-input{margin-inline-start:var(--padding-large)}.bookmark-outline-single-container .bookmark-outline-input{color:var(--text-color);width:calc(100% - var(--padding-large));padding:var(--padding-small);border:1px solid var(--border)}.bookmark-outline-single-container .bookmark-outline-input:focus{border-color:var(--outline-color)}.bookmark-outline-single-container .bookmark-outline-input::-moz-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input::placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-more-button{display:none;flex-grow:0;flex-shrink:0;width:16px;height:16px;margin:2px 2px 2px var(--padding-tiny)}.bookmark-outline-single-container .bookmark-outline-more-button .Icon{width:14px;height:14px}.bookmark-outline-single-container .bookmark-outline-more-button.icon-only:hover:not(:disabled):not(.disabled){box-shadow:none;outline:solid 1px var(--hover-border)}.bookmark-outline-single-container .bookmark-outline-more-button[focus-within].icon-only{border:none;box-shadow:none}.bookmark-outline-single-container .bookmark-outline-more-button:focus-within.icon-only{border:none;box-shadow:none}.bookmark-outline-single-container .bookmark-outline-more-button[focus-within] .Icon{color:var(--focus-border)}.bookmark-outline-single-container .bookmark-outline-more-button:focus-within .Icon{color:var(--focus-border)}.bookmark-outline-single-container .bookmark-outline-editing-controls{padding:2px;flex-basis:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center;margin-top:var(--padding-medium)}.bookmark-outline-single-container .bookmark-outline-cancel-button,.bookmark-outline-single-container .bookmark-outline-save-button{width:auto;padding:6px var(--padding)}.bookmark-outline-single-container .bookmark-outline-cancel-button{color:var(--secondary-button-text)}.bookmark-outline-single-container .bookmark-outline-cancel-button:hover{color:var(--secondary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button{color:var(--primary-button-text);background-color:var(--primary-button);margin-inline-start:var(--padding-tiny);border-radius:4px}.bookmark-outline-single-container .bookmark-outline-save-button:hover{background-color:var(--primary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button.disabled,.bookmark-outline-single-container .bookmark-outline-save-button:disabled{background-color:var(--primary-button)!important;opacity:.5}.bookmark-outline-single-container .bookmark-outline-save-button.disabled span,.bookmark-outline-single-container .bookmark-outline-save-button:disabled span{color:var(--primary-button-text)}.bookmark-outline-footer{border-top:1.5px solid var(--gray-4);padding-top:var(--padding-medium);padding-bottom:var(--padding-medium);display:flex;justify-content:center;align-items:center}.bookmark-outline-footer .add-new-button .Icon{width:14px;height:14px;margin-inline-end:var(--padding-tiny);color:inherit;fill:currentColor}.bookmark-outline-footer .add-new-button.disabled .Icon.disabled,.bookmark-outline-footer .add-new-button.disabled .Icon.disabled path,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled path{color:inherit;fill:currentColor}.bookmark-outline-footer .multi-selection-button{width:auto;padding:7px}.bookmark-outline-footer .multi-selection-button .Icon{width:18px;height:18px}.bookmark-outline-footer .multi-selection-button:not(:first-child){margin-inline-start:var(--padding-tiny)}.bookmark-outline-footer .multi-selection-button:hover{background-color:transparent}.bookmark-outline-footer .multi-selection-button.disabled:hover,.bookmark-outline-footer .multi-selection-button:disabled:hover{box-shadow:none}",""]),module.exports=exports},"./node_modules/lodash/debounce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),now=__webpack_require__("./node_modules/lodash/now.js"),toNumber=__webpack_require__("./node_modules/lodash/toNumber.js"),nativeMax=Math.max,nativeMin=Math.min;module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}},"./node_modules/lodash/isString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/throttle.js":(module,__unused_webpack_exports,__webpack_require__)=>{var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}},"./src/components/ModularComponents/AppStories/mockAppState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PV:()=>uiWithCustomElements,Ue:()=>uiWithCustomElementsFunctions,YG:()=>uiWithCustomStyleAndClass,j2:()=>mockModularComponents,k8:()=>mockHeadersNormalized,zC:()=>mockLeftHeader});var src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/redux/modularComponents.js"),constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/customizationVariables.js");const mockHeadersNormalized={"default-top-header":{dataElement:"default-top-header",placement:"top",grow:0,gap:12,position:"start",float:!1,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{},items:["groupedLeftHeaderButtons","default-ribbon-group","searchPanelToggle","notesPanelToggle"]},"tools-header":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.wY["tools-header"]},"bottomHeader-23ds":{dataElement:"bottomHeader-23ds",placement:"bottom",grow:0,gap:12,position:"center",float:!0,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{background:"var(--gray-1)",padding:"8px",borderStyle:"solid",borderWidth:1,borderColor:"var(--gray-6)"},items:["page-controls-container"]}},mockModularComponents={filePickerButton:{dataElement:"filePickerButton",title:"action.openFile",label:"action.openFile",icon:"icon-header-file-picker-line",type:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.Nt.PRESET_BUTTON,buttonType:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.dQ.FILE_PICKER},downloadButton:{dataElement:"downloadButton",title:"action.download",label:"action.download",icon:"icon-download",type:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.Nt.PRESET_BUTTON,buttonType:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.dQ.DOWNLOAD},saveAsButton:{dataElement:"saveAsButton",title:"saveModal.saveAs",isActive:!1,label:"saveModal.saveAs",icon:"icon-save",type:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.Nt.PRESET_BUTTON,buttonType:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.dQ.SAVE_AS},printButton:{dataElement:"printButton",title:"action.print",isActive:!1,label:"action.print",icon:"icon-header-print-line",type:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.Nt.PRESET_BUTTON,buttonType:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.dQ.PRINT},undefined:{},createPortfolioButton:{dataElement:"createPortfolioButton",title:"portfolio.createPDFPortfolio",isActive:!1,label:"portfolio.createPDFPortfolio",icon:"icon-pdf-portfolio"},settingsButton:{dataElement:"settingsButton",title:"option.settings.settings",isActive:!1,label:"option.settings.settings",icon:"icon-header-settings-line",type:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.Nt.PRESET_BUTTON,buttonType:constants_customizationVariables__WEBPACK_IMPORTED_MODULE_1__.dQ.SETTINGS},"divider-0.1":{dataElement:"divider-0.1",type:"divider"},"divider-0.2":{dataElement:"divider-0.2",type:"divider"},"divider-0.3":{dataElement:"divider-0.3",type:"divider"},"divider-0.4":{dataElement:"divider-0.4",type:"divider"},"divider-0.5":{dataElement:"divider-0.5",type:"divider"},"divider-0.6":{dataElement:"divider-0.6",type:"divider"},leftPanelButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.leftPanelButton},"view-controls":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["view-controls"]},"zoom-container":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["zoom-container"]},panToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.panToolButton},annotationEditToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.annotationEditToolButton},menuButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.menuButton},groupedLeftHeaderButtons:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.groupedLeftHeaderButtons},"toolbarGroup-View":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-View"]},"toolbarGroup-Annotate":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Annotate"]},"toolbarGroup-Shapes":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Shapes"]},"toolbarGroup-Insert":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Insert"]},"toolbarGroup-Redact":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Redact"]},"toolbarGroup-Measure":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Measure"]},"toolbarGroup-Edit":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-Edit"]},"toolbarGroup-FillAndSign":{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX["toolbarGroup-FillAndSign"]},"toolbarGroup-Forms":{dataElement:"toolbarGroup-Forms",title:"Forms",type:"ribbonItem",label:"Forms",groupedItems:["defaultAnnotationUtilities"],toolbarGroup:"toolbarGroup-Forms"},"default-ribbon-group":{dataElement:"default-ribbon-group",items:["toolbarGroup-View","toolbarGroup-Annotate","toolbarGroup-Shapes","toolbarGroup-Insert","toolbarGroup-Measure","toolbarGroup-Redact","toolbarGroup-Edit","toolbarGroup-FillAndSign"],type:"ribbonGroup",justifyContent:"start",grow:2,gap:12,alwaysVisible:!1,style:{}},searchPanelToggle:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.searchPanelToggle},notesPanelToggle:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.notesPanelToggle},underlineToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.underlineToolButton},highlightToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.highlightToolButton},rectangleToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.rectangleToolButton},freeTextToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.freeTextToolButton},squigglyToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.squigglyToolButton},strikeoutToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.strikeoutToolButton},"divider-0.12046025247094039":{dataElement:"divider-0.12046025247094039",type:"divider"},stylePanelToggle:{dataElement:"stylePanelToggle",title:"stylePanel.headings.styles",type:"toggleButton",img:"icon-style-panel-toggle",toggleElement:"stylePanel"},"divider-0.3460871740070717":{dataElement:"divider-0.3460871740070717",type:"divider"},undoButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.undoButton},redoButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.redoButton},eraserToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.eraserToolButton},defaultAnnotationUtilities:{dataElement:"defaultAnnotationUtilities",items:["divider-0.12046025247094039","stylePanelToggle","divider-0.3460871740070717","undoButton","redoButton","eraserToolButton"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},annotateGroupedItems:{dataElement:"annotateGroupedItems",items:["underlineToolButton","highlightToolButton","rectangleToolButton","freeTextToolButton","squigglyToolButton","strikeoutToolButton","defaultAnnotationUtilities"],type:"groupedItems",justifyContent:"center",grow:0,gap:12,alwaysVisible:!1,style:{}},freeHandToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.freeHandToolButton},freeHandHighlightToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.freeHandHighlightToolButton},lineToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.lineToolButton},polylineToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.polylineToolButton},arrowToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.arrowToolButton},arcToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.arcToolButton},ellipseToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.ellipseToolButton},polygonToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.polygonToolButton},cloudToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.cloudToolButton},shapesGroupedItems:{dataElement:"shapesGroupedItems",items:["rectangleToolButton","freeHandToolButton","freeHandHighlightToolButton","lineToolButton","polylineToolButton","arrowToolButton","arcToolButton","ellipseToolButton","polygonToolButton","cloudToolButton","defaultAnnotationUtilities"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},rubberStampToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.rubberStampToolButton},signatureCreateToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.signatureCreateToolButton},insertGroupedItems:{dataElement:"insertGroupedItems",items:["rubberStampToolButton","signatureCreateToolButton","undoButton","redoButton","eraserToolButton"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},redactionToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.redactionToolButton},panel2Button:{dataElement:"panel2Button",type:"toggleButton",img:"icon-redact-panel",toggleElement:"redactPanel_1"},redactionGroupedItems:{dataElement:"redactionGroupedItems",items:["redactionToolButton","panel2Button","defaultAnnotationUtilities"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},distanceMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.distanceMeasurementToolButton},arcMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.arcMeasurementToolButton},perimeterMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.perimeterMeasurementToolButton},areaMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.areaMeasurementToolButton},ellipseMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.ellipseMeasurementToolButton},rectangularAreaMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.rectangularAreaMeasurementToolButton},countMeasurementToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.countMeasurementToolButton},cloudyRectangularAreaMeasurementToolButton:{dataElement:"cloudyRectangularAreaMeasurementToolButton",type:"toolButton",toolName:"AnnotationCreateCloudyRectangularAreaMeasurement"},measureGroupedItems:{dataElement:"measureGroupedItems",items:["distanceMeasurementToolButton","arcMeasurementToolButton","perimeterMeasurementToolButton","areaMeasurementToolButton","ellipseMeasurementToolButton","rectangularAreaMeasurementToolButton","cloudyRectangularAreaMeasurementToolButton","countMeasurementToolButton","defaultAnnotationUtilities"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},cropToolButton:{...src_redux_modularComponents__WEBPACK_IMPORTED_MODULE_0__.AX.cropToolButton},editGroupedItems:{dataElement:"editGroupedItems",items:["cropToolButton","undoButton","redoButton","eraserToolButton"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},fillAndSignGroupedItems:{dataElement:"fillAndSignGroupedItems",items:["rubberStampToolButton","defaultAnnotationUtilities"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1,style:{}},"page-controls-container":{dataElement:"page-controls-container",type:"pageControls"},"grouped-item":{items:["button1","button2"]},group1:{items:["button8","button9"]}},mockLeftHeader={modularComponents:{printButton:{dataElement:"printButton",buttonType:"printButton",title:"action.print",isActive:!1,label:"action.print",icon:"icon-header-print-line",hidden:!1,type:"presetButton"},highlightToolButton:{dataElement:"highlightToolButton",type:"toolButton",toolName:"AnnotationCreateTextHighlight"},underlineToolButton:{dataElement:"underlineToolButton",type:"toolButton",toolName:"AnnotationCreateTextUnderline"},strikeoutToolButton:{dataElement:"strikeoutToolButton",type:"toolButton",toolName:"AnnotationCreateTextStrikeout"},rectangleToolButton:{dataElement:"rectangleToolButton",type:"toolButton",toolName:"AnnotationCreateRectangle"},ellipseToolButton:{dataElement:"ellipseToolButton",type:"toolButton",toolName:"AnnotationCreateEllipse"},arcToolButton:{dataElement:"arcToolButton",type:"toolButton",toolName:"AnnotationCreateArc"},annotateToolsGroupedItems:{dataElement:"annotateToolsGroupedItems",items:["highlightToolButton","underlineToolButton","strikeoutToolButton"],type:"groupedItems",justifyContent:"center",grow:0,gap:12,alwaysVisible:!1},shapesToolsGroupedItems:{dataElement:"shapesToolsGroupedItems",items:["rectangleToolButton","ellipseToolButton","arcToolButton"],type:"groupedItems",grow:0,gap:12,alwaysVisible:!1},"toolbarGroup-View":{dataElement:"toolbarGroup-View",title:"View",type:"ribbonItem",label:"View",groupedItems:[],toolbarGroup:"toolbarGroup-View"},"toolbarGroup-Annotate":{dataElement:"toolbarGroup-Annotate",title:"Annotate",type:"ribbonItem",label:"Annotate",groupedItems:["annotateToolsGroupedItems"],toolbarGroup:"toolbarGroup-Annotate"},"toolbarGroup-Shapes":{dataElement:"toolbarGroup-Shapes",title:"Shapes",type:"ribbonItem",label:"Shapes",groupedItems:["shapesToolsGroupedItems"],toolbarGroup:"toolbarGroup-Shapes"},"default-ribbon-group":{dataElement:"default-ribbon-group",items:["toolbarGroup-View","toolbarGroup-Annotate","toolbarGroup-Shapes"],type:"ribbonGroup",justifyContent:"start",grow:2,gap:12,alwaysVisible:!1}},modularHeaders:{"default-left-header":{dataElement:"default-left-header",placement:"left",grow:0,gap:12,position:"start",float:!1,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{},items:["printButton","default-ribbon-group"]},"tools-header":{dataElement:"tools-header",placement:"top",justifyContent:"center",grow:0,gap:12,position:"end",float:!1,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{},items:["annotateToolsGroupedItems","shapesToolsGroupedItems"]}},panels:{},flyouts:{}},uiWithCustomElements={modularComponents:{customElement1:{dataElement:"customElement1",title:"Test",disabled:!1,type:"customElement",render:"customElement1Render",renderArguments:["Test Args"]},customPanelToggleButton:{dataElement:"customPanelToggleButton",title:"Test Panel",label:"Test Panel",type:"toggleButton",img:"icon-header-sidebar-line",toggleElement:"customPanel"}},modularHeaders:{"default-top-header":{dataElement:"default-top-header",placement:"top",grow:0,gap:12,position:"start",float:!1,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{},items:["customElement1","customPanelToggleButton"]}},panels:{customPanel:{dataElement:"customPanel",render:"customPanelRender",location:"start"}},flyouts:{}},uiWithCustomElementsFunctions={customElement1Render:args=>{const element=document.createElement("div");return element.style.backgroundColor="darkgrey",element.style.color="white",element.style.textWrap="nowrap",element.style.textAlign="center",element.innerText=args,element},customPanelRender:()=>{const div=document.createElement("div");return div.innerHTML="My custom panel",div}},uiWithCustomStyleAndClass={modularComponents:{leftPanelButton:{dataElement:"leftPanelButton",title:"Left Panel",type:"toggleButton",img:"icon-header-sidebar-line",toggleElement:"tabPanel",style:{border:"3px solid green",borderRadius:"8px"}},panToolButton:{dataElement:"panToolButton",type:"toolButton",toolName:"Pan",style:{border:"2px solid hotpink",borderRadius:"20px",width:"32px",height:"32px"},className:"my-new-class-for-tools"},"toolbarGroup-Annotate":{dataElement:"toolbarGroup-Annotate",title:"Annotate",type:"ribbonItem",className:"annotate-ribbon",style:{border:"2px dotted blue"},label:"Annotate",groupedItems:["annotateGroupedItems"],toolbarGroup:"toolbarGroup-Annotate"},"default-ribbon-group":{dataElement:"default-ribbon-group",items:["toolbarGroup-Annotate"],type:"ribbonGroup",justifyContent:"start",grow:2,gap:12,alwaysVisible:!1}},modularHeaders:{"default-top-header":{dataElement:"default-top-header",placement:"top",grow:0,gap:12,position:"start",float:!1,stroke:!0,dimension:{paddingTop:8,paddingBottom:8,borderWidth:1},style:{},items:["leftPanelButton","default-ribbon-group","panToolButton"]}},panels:{},flyouts:{}}},"./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_swipeable__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.scss"),__webpack_require__("./node_modules/react-swipeable/es/index.js")),helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/getDeviceSize.js"),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/selectors/index.js"),actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/redux/actions/index.js"),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),constants_panel__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/constants/panel.js"),hooks_useResizeObserver__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/hooks/useResizeObserver/index.js");const propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node},minimumSizeForPanel={notesPanel:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE,stylePanel:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE,textEditingPanel:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE,tabPanel:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE,[constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.FORM_FIELD]:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE,[constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.INDEX]:constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE},MobilePanelWrapper=({children})=>{const isMobile=(0,helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_4__.IS)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.wA)(),contentElement=children?.props?.dataElement,isOpen=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_6__.A.isElementOpen(state,"MobilePanelWrapper"))),isContentOpen=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_6__.A.isElementOpen(state,contentElement))),mobilePanelSize=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.d4)(selectors__WEBPACK_IMPORTED_MODULE_6__.A.getMobilePanelSize),isSearchAndReplaceDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_6__.A.isElementDisabled(state,"searchAndReplace"))),[wrapperBodyStyle,setWrapperBodyStyle]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),setMobilePanelSize=size=>{dispatch(actions__WEBPACK_IMPORTED_MODULE_7__.A.setMobilePanelSize(size))},[wrapperRef,dimensions]=(0,hooks_useResizeObserver__WEBPACK_IMPORTED_MODULE_10__.A)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const panelsStartingAtHalfSize=[constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.RUBBER_STAMP,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.STYLE,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.NOTES,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.SEARCH,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.TABS,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.TEXT_EDITING,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.REDACTION,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.FORM_FIELD,constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.INDEX];isOpen&&(panelsStartingAtHalfSize.includes(contentElement)?setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE):setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.SMALL_SIZE))}),[isOpen]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{isContentOpen||dispatch(actions__WEBPACK_IMPORTED_MODULE_7__.A.closeElement("MobilePanelWrapper"))}),[isContentOpen]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{null!==dimensions.height&&setWrapperBodyStyle({display:"flex",flexDirection:"column",height:dimensions.height-16})}),[dimensions]);const closePanel=()=>{dispatch(actions__WEBPACK_IMPORTED_MODULE_7__.A.closeElement("MobilePanelWrapper")),dispatch(actions__WEBPACK_IMPORTED_MODULE_7__.A.closeElement(contentElement))};if(!isMobile||!isOpen)return null;const onContainerClick=e=>{e.stopPropagation()};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"data-element":"MobilePanelWrapper",className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("MobilePanelWrapper",{[mobilePanelSize]:!0}),ref:wrapperRef,role:"none",onClick:onContainerClick,onKeyDown:onContainerClick,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_swipeable__WEBPACK_IMPORTED_MODULE_3__.Hx,{onSwipedUp:()=>{switch(mobilePanelSize){case constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.SMALL_SIZE:setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE);break;case constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE:setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.FULL_SIZE)}},onSwipedDown:()=>{let currentMobilePanelSize=mobilePanelSize;currentMobilePanelSize===minimumSizeForPanel[contentElement]&&(currentMobilePanelSize=constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.SMALL_SIZE);const isSearchPanelActiveWithSearchAndReplace=!isSearchAndReplaceDisabled&&contentElement===constants_panel__WEBPACK_IMPORTED_MODULE_9__.BB.SEARCH;switch(currentMobilePanelSize){case constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.FULL_SIZE:setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE);break;case constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.HALF_SIZE:isSearchPanelActiveWithSearchAndReplace?closePanel():setMobilePanelSize(constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.SMALL_SIZE);break;case constants_panel__WEBPACK_IMPORTED_MODULE_9__.WA.SMALL_SIZE:closePanel()}},trackMouse:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"swipe-indicator-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"swipe-indicator"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mobile-panel-body",style:wrapperBodyStyle,children:react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children,(child=>react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(child,{panelSize:mobilePanelSize})))})]})};MobilePanelWrapper.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=MobilePanelWrapper;MobilePanelWrapper.__docgenInfo={description:"",methods:[],displayName:"MobilePanelWrapper",props:{children:{description:"",type:{name:"node"},required:!1}}}},"./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/actions/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),components_Button__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss"),__webpack_require__("./src/components/Button/index.js")),hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useFocusHandler/index.js"),helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/getDeviceSize.js"),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);const ToggleElementButton=props=>{const buttonRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),isMobile=(0,helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__.IS)(),{dataElement,title,disabled,img,label,toggleElement,setFlyoutTriggerRef=null,onToggle,className,onClick:customOnClick=null}=props,isActive=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementOpen(state,toggleElement))),flyoutMap=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFlyoutMap,react_redux__WEBPACK_IMPORTED_MODULE_3__.bN),isToggleElementDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,toggleElement))),isButtonDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,dataElement))),customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFeatureFlags)?.customizableUI,[isElementActive,setIsElementActive]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isActive),[isElementDisabled,setIsElementDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(disabled),isFlyoutItem=!!flyoutMap?.[toggleElement];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementActive(isActive),onToggle&&onToggle(isActive)}),[isActive]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementDisabled(isToggleElementDisabled||disabled)}),[isToggleElementDisabled,disabled]);const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),onClickFocusWrapped=(0,hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__.A)((event=>{event.stopPropagation(),customOnClick&&customOnClick(event),isFlyoutItem&&(setFlyoutTriggerRef?setFlyoutTriggerRef():dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setFlyoutToggleElement(dataElement))),dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.toggleElement(toggleElement))}));return isButtonDisabled?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()({ToggleElementButton:!0,"legacy-ui":!customizableUI,"is-mobile":isMobile}),ref:buttonRef,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_6__.A,{isActive:isElementActive,dataElement,img,label,title,onClick:onClickFocusWrapped,disabled:isElementDisabled,className,ariaPressed:isFlyoutItem?void 0:isElementActive,ariaExpanded:isFlyoutItem?isElementActive:void 0,...props,children:props.children})})};ToggleElementButton.propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,img:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number]),toggleElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,setFlyoutTriggerRef:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=ToggleElementButton;ToggleElementButton.__docgenInfo={description:"",methods:[],displayName:"ToggleElementButton",props:{dataElement:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},toggleElement:{description:"",type:{name:"string"},required:!0},setFlyoutTriggerRef:{description:"",type:{name:"func"},required:!1},className:{description:"",type:{name:"string"},required:!1},onToggle:{description:"",type:{name:"func"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/ToggleElementButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js").A},"./src/components/Panel/Panel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_Panel_Panel});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),selectors=__webpack_require__("./src/redux/selectors/index.js"),getDeviceSize=__webpack_require__("./src/helpers/getDeviceSize.js"),Icon=__webpack_require__("./src/components/Icon/index.js"),actions=__webpack_require__("./src/redux/actions/index.js"),panel=(__webpack_require__("./src/components/Panel/Panel.scss"),__webpack_require__("./src/constants/panel.js")),ResizeBar=__webpack_require__("./src/components/ResizeBar/index.js"),device=__webpack_require__("./src/helpers/device.js");const ModularComponents_MobilePanelWrapper=__webpack_require__("./src/components/ModularComponents/MobilePanelWrapper/MobilePanelWrapper.js").A;var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),rightToLeft=__webpack_require__("./src/helpers/rightToLeft.js");const DesktopPanel=({children})=>{const{dataElement,isCustom,location}=children.props,isMobile=(0,getDeviceSize.IS)(),currentWidth=(0,es.d4)((state=>selectors.A.getPanelWidth(state,dataElement))),isInDesktopOnlyMode=(0,es.d4)(selectors.A.isInDesktopOnlyMode),isOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,dataElement))),isDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,dataElement))),currentToolbarGroup=(0,es.d4)(selectors.A.getCurrentToolbarGroup),isHeaderOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,"header"))),isToolsHeaderOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,"toolsHeader"))),isLogoBarEnabled=(0,es.d4)((state=>!selectors.A.isElementDisabled(state,"logoBar"))),featureFlags=(0,es.d4)(selectors.A.getFeatureFlags),activeTopHeaders=(0,es.d4)(selectors.A.getActiveTopHeaders),activeBottomHeaders=(0,es.d4)(selectors.A.getActiveBottomHeaders),isMultiTabActive=(0,es.d4)(selectors.A.getIsMultiTab),dispatch=(0,es.wA)(),isRightToLeft="rtl"===i18next.A.dir();let style={};if(!currentWidth||!isInDesktopOnlyMode&&isMobile)style={minWidth:`${panel.fz}px`};else{const widthStyle=isCustom?currentWidth-panel.Yj:currentWidth;style={width:`${widthStyle}px`,minWidth:`${widthStyle}px`}}const isVisible=!(!isOpen||isDisabled),isPanelOnLeftSide=(0,rightToLeft.cF)(location),isPanelOnRightSide=(0,rightToLeft.Fd)(location),legacyToolsHeaderOpen=isToolsHeaderOpen&&"toolbarGroup-View"!==currentToolbarGroup,legacyAllHeadersHidden=!isHeaderOpen&&!legacyToolsHeaderOpen,customizableUI=featureFlags?.customizableUI,onResize=_width=>{let maxAllowedWidth=window.innerWidth;device.lT&&(maxAllowedWidth-=30);const newPanelWidth=Math.min(_width,maxAllowedWidth);dispatch(actions.A.setPanelWidth(dataElement,newPanelWidth))},isModularToolsHeaderOpen=2===activeTopHeaders.length||1===activeTopHeaders.length&&1===activeBottomHeaders.length||2===activeBottomHeaders.length;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()({ModularPanel:!0,closed:!isVisible,left:isPanelOnLeftSide,right:isPanelOnRightSide,"tools-header-open":customizableUI?isModularToolsHeaderOpen:legacyToolsHeaderOpen,"tools-header-and-header-hidden":customizableUI?0===activeTopHeaders.length&&0===activeBottomHeaders.length:legacyAllHeadersHidden,"logo-bar-enabled":isLogoBarEnabled,"modular-ui-panel":customizableUI,"multi-tab-active":isMultiTabActive,"right-to-left":isRightToLeft}),"data-element":dataElement,onDragOver:e=>{e.preventDefault()},children:[isCustom&&isPanelOnRightSide&&!isInDesktopOnlyMode&&!isMobile&&(0,jsx_runtime.jsx)(ResizeBar.A,{minWidth:panel.fz,dataElement:`${dataElement}ResizeBar`,onResize,leftDirection:!0}),(0,jsx_runtime.jsxs)("div",{className:`ModularPanel-container ${dataElement}`,style,children:[!isInDesktopOnlyMode&&isMobile&&(0,jsx_runtime.jsx)("div",{className:"close-container",children:(0,jsx_runtime.jsx)("div",{className:"close-icon-container",onClick:()=>{dispatch(actions.A.closeElements([dataElement]))},children:(0,jsx_runtime.jsx)(Icon.A,{glyph:"ic_close_black_24px",className:"close-icon"})})}),children]}),isCustom&&isPanelOnLeftSide&&!isInDesktopOnlyMode&&!isMobile&&(0,jsx_runtime.jsx)(ResizeBar.A,{minWidth:panel.fz,dataElement:`${dataElement}ResizeBar`,onResize})]})};DesktopPanel.propTypes={children:prop_types_default().shape({props:prop_types_default().shape({dataElement:prop_types_default().string.isRequired,isCustom:prop_types_default().bool,location:prop_types_default().string})})};const Panel_Panel=props=>{const{isCustom,dataElement,location}=props,isMobile=(0,getDeviceSize.IS)(),[isOpen]=(0,es.d4)((state=>[selectors.A.isElementOpen(state,dataElement)])),dispatch=(0,es.wA)(),children=react.cloneElement(props.children,{dataElement,isCustom,location}),panelsWithMobileVersion=[panel.BB.SIGNATURE_LIST,panel.BB.RUBBER_STAMP,panel.BB.STYLE,panel.BB.NOTES,panel.BB.SEARCH,panel.BB.TEXT_EDITING,panel.BB.TABS,panel.BB.REDACTION,panel.BB.FORM_FIELD,panel.BB.INDEX];return isOpen?isMobile&&panelsWithMobileVersion.includes(dataElement)?(dispatch(actions.A.openElement("MobilePanelWrapper")),(0,jsx_runtime.jsx)(ModularComponents_MobilePanelWrapper,{children:props.children})):(0,jsx_runtime.jsx)(DesktopPanel,{children}):null};Panel_Panel.propTypes={children:prop_types_default().node,isCustom:prop_types_default().bool,dataElement:prop_types_default().string,location:prop_types_default().string};const components_Panel_Panel=Panel_Panel;Panel_Panel.__docgenInfo={description:"",methods:[],displayName:"Panel",props:{children:{description:"",type:{name:"node"},required:!1},isCustom:{description:"",type:{name:"bool"},required:!1},dataElement:{description:"",type:{name:"string"},required:!1},location:{description:"",type:{name:"string"},required:!1}}}},"./src/components/Panel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Panel/Panel.js").A},"./src/components/PasswordModal/PasswordModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Pm:()=>setCancelPasswordCheckCallback,mw:()=>setCheckPasswordFunction});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Button/index.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/selectors/index.js"),_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ModalWrapper/index.js"),helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/accessibility.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/constants/dataElement.js");__webpack_require__("./src/components/PasswordModal/PasswordModal.scss");let checkPassword=()=>{};const setCheckPasswordFunction=fn=>{checkPassword=fn};let cancelPasswordCheckCallback=()=>{};const setCancelPasswordCheckCallback=fn=>{cancelPasswordCheckCallback=fn},PasswordModal=()=>{const[isOpen,attempt,maxAttempts]=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_6__.A.isElementOpen(state,constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL),selectors__WEBPACK_IMPORTED_MODULE_6__.A.getPasswordAttempts(state),selectors__WEBPACK_IMPORTED_MODULE_6__.A.getMaxPasswordAttempts(state)]),react_redux__WEBPACK_IMPORTED_MODULE_3__.bN),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.B)(),passwordInput=react__WEBPACK_IMPORTED_MODULE_1__.createRef(),[password,setPassword]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[userCancelled,setUserCancelled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(isOpen?(dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PROGRESS_MODAL)),passwordInput.current?.focus(),window.addEventListener("keydown",(e=>(0,helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__.dy)(e,closeModal)))):(setPassword(""),setUserCancelled(!1)),()=>window.removeEventListener("keydown",helpers_accessibility__WEBPACK_IMPORTED_MODULE_8__.dy))),[dispatch,isOpen,passwordInput]);const handleSubmit=e=>{e.preventDefault(),checkPassword(password)},closeModal=event=>{"Escape"===event.key?setUserCancelled(!0):dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL)),cancelPasswordCheckCallback()},getErrorModal=errorMessage=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__.A,{isOpen,title:"message.error",closeButtonDataElement:"errorModalCloseButton",onCloseClick:closeModal,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-content error-modal-content",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{"aria-live":"assertive",role:"alert",children:t(errorMessage)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-footer footer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_4__.A,{className:"confirm modal-button",dataElement:"passwordSubmitButton",label:t("action.ok"),onClick:closeModal})})]}),onKeyDown=e=>{13===e.which&&handleSubmit(e)},renderEnterPasswordContent=()=>{const wrongPassword=0!==attempt,wrongPasswordMessage=`${t("message.incorrectPassword",{remainingAttempts:maxAttempts-attempt})}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ModalWrapper__WEBPACK_IMPORTED_MODULE_7__.A,{isOpen,title:"message.passwordRequired",closeButtonDataElement:"errorModalCloseButton",onCloseClick:()=>{setUserCancelled(!0)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:t("message.enterPassword")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{className:(wrongPassword?"wrong":"correct")+" text-input-modal",type:"password",ref:passwordInput,autoComplete:"current-password",value:password,onKeyDown,onChange:e=>setPassword(e.target.value),placeholder:t("message.enterPasswordPlaceholder"),"aria-label":`${wrongPassword?wrongPasswordMessage:t("message.enterPassword")}`}),wrongPassword&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"incorrect-password",children:wrongPasswordMessage})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-footer footer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_4__.A,{className:"confirm modal-button",dataElement:"passwordSubmitButton",label:t("action.submit"),disabled:!password,onClick:handleSubmit})})]})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({Modal:!0,PasswordModal:!0,open:isOpen,closed:!isOpen}),"data-element":constants_dataElement__WEBPACK_IMPORTED_MODULE_9__.A.PASSWORD_MODAL,children:attempt===maxAttempts?getErrorModal("message.encryptedAttemptsExceeded"):userCancelled?getErrorModal("message.encryptedUserCancelled"):renderEnterPasswordContent()})},__WEBPACK_DEFAULT_EXPORT__=PasswordModal;PasswordModal.__docgenInfo={description:"",methods:[],displayName:"PasswordModal"}},"./src/components/PasswordModal/PasswordModal.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PasswordModal/PasswordModal.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PasswordModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,setCancelPasswordCheckCallback:()=>_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.Pm,setCheckPasswordFunction:()=>_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.mw});var _PasswordModal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/PasswordModal/PasswordModal.js");const __WEBPACK_DEFAULT_EXPORT__=_PasswordModal__WEBPACK_IMPORTED_MODULE_0__.Ay},"./src/components/PortfolioPanel/PortfolioPanel.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PortfolioPanelLeft:()=>PortfolioPanelLeft,PortfolioPanelRight:()=>PortfolioPanelRight,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_PortfolioPanel__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/PortfolioPanel/PortfolioPanel.js")),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),components_Panel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Panel/index.js"),_ModularComponents_AppStories_mockAppState__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ModularComponents/AppStories/mockAppState.js"),src_redux_initialState__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/initialState.js");const __WEBPACK_DEFAULT_EXPORT__={title:"ModularComponents/PortfolioPanel",component:_PortfolioPanel__WEBPACK_IMPORTED_MODULE_2__.A},mockInitialState={...src_redux_initialState__WEBPACK_IMPORTED_MODULE_6__.A,viewer:{...src_redux_initialState__WEBPACK_IMPORTED_MODULE_6__.A.viewer,activeCustomRibbon:"toolbarGroup-Insert",modularHeaders:_ModularComponents_AppStories_mockAppState__WEBPACK_IMPORTED_MODULE_5__.k8,modularComponents:_ModularComponents_AppStories_mockAppState__WEBPACK_IMPORTED_MODULE_5__.j2,isInDesktopOnlyMode:!1,openElements:{...src_redux_initialState__WEBPACK_IMPORTED_MODULE_6__.A.viewer.openElements,contextMenuPopup:!1,portfolioPanel:!0,panel:!0},panelWidths:{panel:300},activeGroupedItems:["insertGroupedItems"],activeTabInPanel:{tabPanel:"portfolioPanel"}},featureFlags:{customizableUI:!0}},store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.U1)({reducer:()=>mockInitialState});function PortfolioPanelLeft(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Panel__WEBPACK_IMPORTED_MODULE_4__.A,{location:"left",dataElement:"panel",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PortfolioPanel__WEBPACK_IMPORTED_MODULE_2__.A,{})})})}function PortfolioPanelRight(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Panel__WEBPACK_IMPORTED_MODULE_4__.A,{location:"right",dataElement:"panel",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PortfolioPanel__WEBPACK_IMPORTED_MODULE_2__.A,{})})})}const __namedExportsOrder=["PortfolioPanelLeft","PortfolioPanelRight"]},"./src/constants/bookmarksOutlinesShared.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/constants/bookmarksOutlinesShared.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/helpers/TabManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>TabManager,Cf:()=>enableMultiTab,IT:()=>prepareMultiTab,T3:()=>removeFileNameExtension});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),constants_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/types.js"),helpers_loadDocument__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/loadDocument.js"),actions_internalActions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/internalActions.js"),actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/selectors/index.js"),helpers_getHashParameters__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/getHashParameters.js"),helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/fireEvent.js"),helpers_downloadPdf__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/downloadPdf.js"),constants_events__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/constants/events.js"),lodash_isString__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/lodash/isString.js"),lodash_isString__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_10__),constants_dataElement__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/constants/dataElement.js"),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/helpers/getRootNode.js");const FILE_DATA_OPTIONS={flags:window.Core.SaveOptions.INCREMENTAL},enableMultiTab=()=>(dispatch,getState)=>{const state=getState();if(selectors__WEBPACK_IMPORTED_MODULE_5__.A.getIsMultiTab(state)&&selectors__WEBPACK_IMPORTED_MODULE_5__.A.getTabManager(state))return;const doc=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument();let docArr=[];if(doc)docArr.push(doc);else{let initialDoc=(0,helpers_getHashParameters__WEBPACK_IMPORTED_MODULE_6__.A)("d","");initialDoc=initialDoc?JSON.parse(initialDoc):"",initialDoc&&(Array.isArray(initialDoc)?docArr=docArr.concat(initialDoc):docArr.push(initialDoc))}const tabManager=new TabManager(docArr,[],{dispatch,getState});dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setMultiTab(!0)),dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabManager(tabManager)),setTimeout((()=>{(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.TAB_MANAGER_READY)}),300),core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentLoaded",(function docLoadedEvent(){const doc=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument();selectors__WEBPACK_IMPORTED_MODULE_5__.A.getTabs(state).some((item=>item.options?.filename===doc.filename))||doc.getFileData(FILE_DATA_OPTIONS).then((data=>{try{tabManager.addTab(new File([data],doc.getFilename()))}catch(error){console.error(error)}})),core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("documentLoaded",docLoadedEvent)}))};function prepareMultiTab(initialDoc,store){const extensions=(0,helpers_getHashParameters__WEBPACK_IMPORTED_MODULE_6__.A)("extension",null)?.split(",");if(extensions&&1!==extensions.length&&extensions.length!==initialDoc.length)throw new Error("'initialDoc' array length doesn't match 'extension' array length.\n          Please add an extension for each document or add one for all documents.\n          ex:\n          Webviewer({ initialDoc: ['pdf_doc', 'word_doc'], extension: ['pdf', 'docx'] })\n          OR\n          Webviewer({ initialDoc: ['pdf_doc1', 'pdf_doc2', 'pdf_doc3'], extension: ['pdf'] })");extensions&&1===extensions.length&&console.warn(`Extension option '${extensions[0]}' will be applied to all tabs from the constructor.`),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setMultiTab(!0));const tabManager=new TabManager(initialDoc,extensions,store);store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabManager(tabManager)),tabManager.listenForAnnotChanges(),setTimeout((()=>{(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.TAB_MANAGER_READY)}),300)}function removeFileNameExtension(filename,shouldRemoveSpace=!0){if(!filename)return;const lastDotIndex=filename.lastIndexOf(".");return-1!==lastDotIndex&&(filename=filename.substring(0,lastDotIndex)),shouldRemoveSpace?filename.replace(/\s+/g,"").toLowerCase():filename}async function writeToDB(db,arrBuff,tabId){const tx=db.transaction("files","readwrite");tx.objectStore("files").put(arrBuff,tabId),await tx.commit()}class TabManager{db;store;useDB;constructor(docArr,extensionArr,store){this.store=store;const state=this.store.getState();this.useDB=!state.advanced.disableIndexedDB;const{tabs,isMultiTab}=state.viewer;if(this.useDB){const req=indexedDB.open("WebViewer Files",1);req.onerror=TabManager.indexedDBNotSupported,req.onsuccess=async()=>{this.db=req.result,this.db.onerror=TabManager.throwError},req.onupgradeneeded=e=>{e.target.result.createObjectStore("files")}}isMultiTab&&selectors__WEBPACK_IMPORTED_MODULE_5__.A.getTabManager(state)||(docArr.forEach(((doc,index)=>{const extension=extensionArr&&lodash_isString__WEBPACK_IMPORTED_MODULE_10___default()(doc)?extensionArr[extensionArr.length>1?index:0]:void 0;let filename=`Document ${tabs.length+1}`;lodash_isString__WEBPACK_IMPORTED_MODULE_10___default()(doc)?filename=doc.substring(doc.lastIndexOf("/")+1):doc instanceof window.Core.Document&&doc.getFilename&&doc.getFilename()&&(filename=doc.getFilename()),tabs.push(new Tab(tabs.length,doc,this,{filename,extension},this.useDB))})),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabs(tabs)),this.prepareTabEventListeners(),core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentLoaded",(async()=>{const state=this.store.getState(),{tabs,activeTab}=state.viewer,{dispatch}=store,currentTab=tabs.find((tab=>tab.id===activeTab)),documentType=await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getType();if(documentType===constants_types__WEBPACK_IMPORTED_MODULE_1__._.PDF||documentType===constants_types__WEBPACK_IMPORTED_MODULE_1__._.OFFICE){await writeToDB(this.db,await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getFileData(FILE_DATA_OPTIONS),currentTab.id);const nextUntitledDocumentNumber=function getNextNumberForUntitledDocument(tabs){const untitledTabs=tabs.filter((tab=>tab.options.filename.includes("untitled-")));if(0===untitledTabs.length)return 1;const untitledNumbers=untitledTabs.map((tab=>{const untitledNumber=tab.options.filename.match(/\d+/);return untitledNumber?parseInt(untitledNumber[0]):0}));return Math.max(...untitledNumbers)+1}(tabs);currentTab.options.filename=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getFilename()||`untitled-${nextUntitledDocumentNumber}`;const refreshedTab=new Tab(activeTab,core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument(),currentTab.tabManager,currentTab.options,currentTab.useDB);refreshedTab.saveData.docInDB=!0;const indexOfTabToBeReplaced=tabs.findIndex((tab=>tab.id===currentTab.id));tabs[indexOfTabToBeReplaced]=refreshedTab;const newTabs=[...tabs];dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabs(newTabs))}})))}prepareTabEventListeners(){const documentViewer=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer(1);documentViewer.addEventListener("finishedRendering",(()=>{this.listenForAnnotChanges(),this.listenToDocumentDownloaded(documentViewer)}),{once:!0})}async setActiveTab(id,saveCurrentActiveTabState=!0){this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.openElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.PROGRESS_MODAL)),this.store.dispatch((0,actions_internalActions__WEBPACK_IMPORTED_MODULE_3__.setLoadingProgress)(0));const state=this.store.getState(),{tabs,activeTab}=state.viewer,currentTab=tabs.find((tab=>tab.id===activeTab)),isEmptyPageOpen=selectors__WEBPACK_IMPORTED_MODULE_5__.A.isElementOpen(state,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.MULTITABS_EMPTY_PAGE);this.prepareTabEventListeners();const newTab=tabs.find((tab=>tab.id===id));if(!newTab)return console.error(`Tab id not found: ${id}`);currentTab&&(await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().getAnnotationManager().exportAnnotations(),await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().getAnnotationsLoadedPromise()),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.BEFORE_TAB_CHANGED,{currentTab:currentTab?{src:currentTab.src,options:currentTab.options,id:currentTab.id,annotationsChanged:currentTab.changes.annotations,hasUnsavedChanges:currentTab.changes.hasUnsavedChanges}:null,nextTab:{src:newTab.src,options:newTab.options,id:newTab.id}}),setTimeout((async()=>{currentTab&&(saveCurrentActiveTabState&&await currentTab.saveCurrentActiveTabState(this.db),core__WEBPACK_IMPORTED_MODULE_0__.A.closeDocument()),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setActiveTab(id)),isEmptyPageOpen&&this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.MULTITABS_EMPTY_PAGE)),await newTab.load(this.store.dispatch,this.db,this.getViewerState(state))}),400)}getViewerState=state=>{const currentViewerState={},viewerState=state.viewer;return currentViewerState.documentContainerWidth=viewerState.documentContainerWidth,currentViewerState.documentContainerHeight=viewerState.documentContainerHeight,currentViewerState.isNotesPanelOpen=selectors__WEBPACK_IMPORTED_MODULE_5__.A.isElementOpen(state,"notesPanel"),currentViewerState.isLeftPanelOpen=selectors__WEBPACK_IMPORTED_MODULE_5__.A.isElementOpen(state,"leftPanel"),currentViewerState.isSearchPanelOpen=selectors__WEBPACK_IMPORTED_MODULE_5__.A.isElementOpen(state,"searchPanel"),currentViewerState.activeToolName=viewerState.activeToolName,currentViewerState};showDeleteWarning(tabToDelete){const confirmationWarning={message:"warning.closeFile.message",title:"warning.closeFile.title",onConfirm:()=>{(0,helpers_downloadPdf__WEBPACK_IMPORTED_MODULE_8__.A)(this.store.dispatch).then((()=>{tabToDelete.changes.hasUnsavedChanges=!1,this.deleteTab(tabToDelete.id)}))},onSecondary:()=>{tabToDelete.changes.hasUnsavedChanges=!1,this.deleteTab(tabToDelete.id)},confirmBtnText:"action.download",secondaryBtnText:"warning.closeFile.rejectDownloadButton",secondaryBtnClass:"secondary-btn-custom",showAskAgainCheckbox:!0,onClose:disableWarning=>{disableWarning&&this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.disableDeleteTabWarning())}};this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.showWarningMessage(confirmationWarning))}deleteTab(id){const state=this.store.getState(),{tabs,activeTab}=state.viewer,tabToDelete=tabs.find((tab=>tab.id===id));if(selectors__WEBPACK_IMPORTED_MODULE_5__.A.getShowDeleteTabWarning(state)&&tabToDelete.changes.hasUnsavedChanges)this.showDeleteWarning(tabToDelete);else{const[deletedTab]=tabs.splice(tabs.findIndex((tab=>tab.id===id)),1);deletedTab.delete(this.db),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.TAB_DELETED,{src:deletedTab.src,options:deletedTab.options,id:deletedTab.id}),id===activeTab&&tabs.length?this.setActiveTab(tabs[0].id):tabs.length||(core__WEBPACK_IMPORTED_MODULE_0__.A.closeDocument(),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setActiveTab(null))),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabs(tabs))}}async addTab(src,options={}){const saveCurrentTabState=options.saveCurrentActiveTabState||options.saveCurrent,useDB=!1===options.useDB?options.useDB&&this.useDB:this.useDB,shouldLoadTab=options.setActive||options.load,{tabs}=this.store.getState().viewer,currId=tabs.reduce(((highestId,tab)=>tab.id>highestId?tab.id:highestId),0);"filename"in options||(options.filename=`Document ${currId+2}`,lodash_isString__WEBPACK_IMPORTED_MODULE_10___default()(src)?options.filename=src.substring(src.lastIndexOf("/")+1):src instanceof window.Core.Document&&src.getFilename&&src.getFilename()?options.filename=src.getFilename():(src instanceof File||"[object File]"===Object.prototype.toString.call(src))&&(options.filename=src.name));const tab=new Tab(currId+1,src,this,options,useDB);return tabs.push(tab),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.TAB_ADDED,{src:tab.src,options:tab.options,id:tab.id}),shouldLoadTab&&await this.setActiveTab(tab.id,saveCurrentTabState),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabs(tabs)),tab.id}moveTab(from,to){const{tabs}=this.store.getState().viewer,tab=tabs.splice(from,1)[0];tabs.splice(to,0,tab),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_7__.A)(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.TAB_MOVED,{src:tab.src,options:tab.options,id:tab.id,prevIndex:from,newIndex:to}),this.store.dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setTabs(tabs))}listenForAnnotChanges(){const onAnnotChange=(_,__,info)=>{if(info.imported)return;const{tabs,activeTab}=this.store.getState().viewer,tab=tabs.find((t=>t.id===activeTab));tab&&(tab.changes.annotations=!0,tab.changes.hasUnsavedChanges=!0),removeListeners()},onFieldChange=()=>{const{tabs,activeTab}=this.store.getState().viewer,tab=tabs.find((t=>t.id===activeTab));tab&&(tab.changes.annotations=!0,tab.changes.hasUnsavedChanges=!0),removeListeners()};core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("annotationChanged",onAnnotChange),core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("fieldChanged",onFieldChange,{once:!0});const removeListeners=()=>{core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("annotationChanged",onAnnotChange),core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("fieldChanged",onFieldChange)};core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentUnloaded",removeListeners,{once:!0})}listenToDocumentDownloaded=async documentViewer=>{const{tabs,activeTab}=this.store.getState().viewer,currentTab=tabs.find((tab=>tab.id===activeTab)),onFileDownloaded=()=>{currentTab.changes.hasUnsavedChanges=!1},onPagesUpdated=info=>{"refresh"!==info.source&&(currentTab.changes.hasUnsavedChanges=!0)};(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Iv)().addEventListener(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.FILE_DOWNLOADED,onFileDownloaded),documentViewer.addEventListener("pagesUpdated",onPagesUpdated);core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentUnloaded",(()=>{(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Iv)().removeEventListener(constants_events__WEBPACK_IMPORTED_MODULE_9__.A.FILE_DOWNLOADED,onFileDownloaded),documentViewer.removeEventListener("pagesUpdated",onPagesUpdated)}),{once:!0})};*[Symbol.iterator](){const{tabs}=this.store.getState().viewer;for(const tab of tabs)yield tab}map(cb){const mapped=[];let index=0;const{tabs}=this.store.getState().viewer;for(const tab of tabs)mapped.push(cb(tab,index++));return mapped}static throwError(){console.warn("File database has encountered an error. File data will not be saved when switching tabs")}static indexedDBNotSupported(){console.warn("IndexedDB is not supported, file data will not be saved")}static MAX_FILE_SIZE=25e7}class Tab{disabled=!1;saveData={annotInDB:!1,docInDB:!1,scrollTop:void 0,scrollLeft:void 0,page:null,annots:null};changes={annotations:!1,hasUnsavedChanges:!1};id;src;options;useDB;tabManager;constructor(id,src,tabManager,options={},useDB=!0){this.id=id,this.src=src,this.options=options,this.useDB=useDB,this.tabManager=tabManager}async preLoad(db){if(!this.useDB)return console.error("Cant preload tab with useDB = false");const file=await fetch(this.src);this.saveData.docInDB=!0,await writeToDB(db,await file.arrayBuffer(),this.id)}async load(dispatch,db,viewerState){const annotsChanged=this.saveData.annotInDB||this.saveData.annots;if(this.options.loadAnnotations=!annotsChanged,core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentUnloaded",(async()=>{this.restorePageDataOnLoad(viewerState,dispatch),annotsChanged&&await this.restoreAnnotDataOnLoad(db)}),{once:!0}),this.useDB&&this.saveData.docInDB){const tx=db.transaction("files","readonly"),req=tx.objectStore("files").get(this.id);req.onsuccess=async()=>{const doc=req.result;(0,helpers_loadDocument__WEBPACK_IMPORTED_MODULE_2__.A)(dispatch,doc,this.options)},tx.commit()}else(0,helpers_loadDocument__WEBPACK_IMPORTED_MODULE_2__.A)(dispatch,this.src,this.options)}async saveCurrentActiveTabState(db){this.disabled=!0,this.savePageData();const document=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument();this.useDB&&(document?.type===constants_types__WEBPACK_IMPORTED_MODULE_1__._.PDF&&document.arePagesAltered()||this.src instanceof window.Core.Document)?await this.saveFileData(db,document):this.changes.annotations&&(this.useDB?await this.saveAnnotDataInDB(db):await this.saveAnnotData()),this.disabled=!1}async saveFileData(db,document){this.saveData.annotInDB=!1;const xfdfString=await core__WEBPACK_IMPORTED_MODULE_0__.A.exportAnnotations(),data=await document.getFileData({xfdfString,finishedWithDocument:!0,...FILE_DATA_OPTIONS});this.saveData.docInDB=!0,await writeToDB(db,data,this.id)}async saveAnnotData(){this.saveData.annotInDB=!1;const annotData=await core__WEBPACK_IMPORTED_MODULE_0__.A.exportAnnotations({options:{fields:!0,widgets:!0,links:!0}});annotData&&(this.saveData.annots=annotData)}async saveAnnotDataInDB(db){const annotData=await core__WEBPACK_IMPORTED_MODULE_0__.A.exportAnnotations({options:{fields:!0,widgets:!0,links:!0}});if(annotData){const annots=annotData,tx=db.transaction("files","readwrite");tx.objectStore("files").put(annots,`${this.id}-annots`),await tx.commit(),this.saveData.annotInDB=!0}}savePageData(){const docContainer=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().getElementById("app").getElementsByClassName("DocumentContainer")[0];this.saveData.scrollTop=docContainer.scrollTop,this.saveData.scrollLeft=docContainer.scrollLeft,this.saveData.page=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentPage();this.saveData.zoom=Math.floor(1e4*core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom())/1e4}restorePageDataOnLoad(viewerState,dispatch){const docContainer=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_12__.Ay)().getElementById("app").getElementsByClassName("DocumentContainer")[0],updateScroll=async()=>{await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getDocumentCompletePromise(),docContainer.scrollTo({top:this.saveData.scrollTop,left:this.saveData.scrollLeft})};viewerState.isNotesPanelOpen&&dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.openElement("notesPanel")),viewerState.isLeftPanelOpen&&dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.openElement("leftPanel")),viewerState.isSearchPanelOpen&&dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.openElement("searchPanel")),viewerState.activeToolName&&core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode(viewerState.activeToolName);const updateViewer=async()=>{await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getDocumentCompletePromise(),this.saveData.zoom&&await core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(this.saveData.zoom),this.saveData.page&&await core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(this.saveData.page)};core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentLoaded",updateViewer,{once:!0}),!isNaN(this.saveData.scrollTop)&&core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("finishedRendering",updateScroll,{once:!0});core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentUnloaded",(()=>{core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("documentLoaded",updateViewer),core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("finishedRendering",updateScroll)}),{once:!0})}async updateAnnotations(db){const state=this.tabManager.store.getState(),activeTabId=selectors__WEBPACK_IMPORTED_MODULE_5__.A.getActiveTab(state);if(activeTabId!==this.id)return selectors__WEBPACK_IMPORTED_MODULE_5__.A.getTabs(state).find((tab=>tab.id===activeTabId)).updateAnnotations(db);if(this.saveData.annotInDB){const tx=db.transaction("files","readwrite"),annotReq=tx.objectStore("files").get(`${this.id}-annots`);annotReq.onsuccess=async()=>{await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getDocumentCompletePromise(),await core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().importAnnotations(annotReq.result)},await tx.commit()}else this.saveData.annots&&(await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocument().getDocumentCompletePromise(),await core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().importAnnotations(this.saveData.annots))}async restoreAnnotDataOnLoad(db){const updateAnnotations=()=>this.updateAnnotations(db);core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentLoaded",updateAnnotations,{once:!0}),core__WEBPACK_IMPORTED_MODULE_0__.A.addEventListener("documentUnloaded",(()=>{core__WEBPACK_IMPORTED_MODULE_0__.A.removeEventListener("documentLoaded",updateAnnotations)}),{once:!0})}async delete(db){if(this.useDB){const tx=db.transaction("files","readwrite"),store=tx.objectStore("files");store.delete(this.id),store.delete(`${this.id}-annot-states`),store.delete(`${this.id}-annots`),await tx.commit()}}}},"./src/helpers/downloadPdf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var file_saver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js"),core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/index.js"),helpers_device__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/device.js"),helpers_fireEvent__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/fireEvent.js"),constants_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/events.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),helpers_rasterPrint__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/rasterPrint.js"),selectors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/redux/selectors/index.js"),blob_stream__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/blob-stream/index.js"),blob_stream__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(blob_stream__WEBPACK_IMPORTED_MODULE_8__),constants_sortStrategies__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/constants/sortStrategies.js"),constants_map__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/constants/map.js"),lodash_range__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/lodash/range.js"),lodash_range__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_11__),helpers_getRootNode__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/helpers/getRootNode.js"),constants_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/constants/types.js"),_officeEditor__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/helpers/officeEditor.js"),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/constants/dataElement.js"),constants_commonColors__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/constants/commonColors.js");let isDownloaded=!1,previousWatermarkSettings={},previousFileName="";const __WEBPACK_DEFAULT_EXPORT__=async(dispatch,options={},documentViewerKey=1)=>{let temporaryModifiedDoc,doc=core__WEBPACK_IMPORTED_MODULE_1__.A.getDocument(documentViewerKey);if(!doc)return void console.warn("Document is not loaded");previousFileName!==doc?.getFilename()&&(previousFileName=doc?.getFilename(),isDownloaded=!1);const documentViewer=core__WEBPACK_IMPORTED_MODULE_1__.A.getDocumentViewer();previousWatermarkSettings=await documentViewer.getWatermark(),isDownloaded?documentViewer.setWatermark():(isDownloaded=!0,doc.enableWatermarkApplied());const{filename=doc?.getFilename()||"document",includeAnnotations=!0,externalURL,useDisplayAuthor=!1,store}=options;let pages=options.pages,includeComments=!!options.includeComments;const downloadAllPages=!pages||pages.length===doc.getPageCount(),downloadDataAsFile=(data,extension,options)=>{const arr=new Uint8Array(data),{downloadName}=options;let file,downloadType="application/pdf";if(options.downloadType===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE||options.downloadType===constants_types__WEBPACK_IMPORTED_MODULE_12__._.SPREADSHEET_EDITOR){downloadType=function reverseObject(obj){return Object.assign({},...Object.entries(obj).map((([key,value])=>({[value]:key}))))}(window.Core.mimeTypeToExtension)[extension]}file=helpers_device__WEBPACK_IMPORTED_MODULE_2__.lT?new Blob([arr],{type:downloadType}):new File([arr],filename,{type:downloadType}),(0,file_saver__WEBPACK_IMPORTED_MODULE_0__.saveAs)(file,downloadName||filename),dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL)),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_3__.A)(constants_events__WEBPACK_IMPORTED_MODULE_4__.A.FILE_DOWNLOADED),temporaryModifiedDoc&&temporaryModifiedDoc.unloadResources(),documentViewer.setWatermark(previousWatermarkSettings)};(0,_officeEditor__WEBPACK_IMPORTED_MODULE_13__.pb)()&&(includeComments=!1),options.downloadType||(options.downloadType=constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF);const downloadAsImage="png"===options.downloadType;if(dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.openElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL)),downloadAsImage){pages?.length||(pages=lodash_range__WEBPACK_IMPORTED_MODULE_11___default()(1,doc.getPageCount()+1,1));const state=store.getState(),[sortStrategy,dateFormat,language,printQuality,colorMap]=[selectors__WEBPACK_IMPORTED_MODULE_7__.A.getSortStrategy(state),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getPrintedNoteDateFormat(state),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getCurrentLanguage(state),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getPrintQuality(state),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getColorMap(state)],id="download-handler-css";if(!(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_16__.Ay)().querySelector(`#${id}`)){const style=window.document.createElement("style");style.id=id,style.textContent="\n        img {\n          display: block !important;\n          max-width: 100%;\n          max-height: 100%;\n          height: 100%;\n          width: 100%;\n          object-fit: contain;\n          page-break-after: always;\n          padding: 0;\n          margin: 0;\n        }\n\n        .page__container {\n          margin: 10px;\n          box-sizing: border-box;\n          display: flex !important;\n          flex-direction: column;\n          padding: 10px;\n          min-height: 100%;\n          min-width: 100%;\n          font-size: 10px;\n        }\n\n        .page__container .page__header {\n          margin-top: 2rem;\n          display: block !important;\n          align-self: flex-start;\n          font-size: 2rem;\n          margin-bottom: 2rem;\n          padding-bottom: 0.6rem;\n          border-bottom: 0.1rem solid black;\n        }\n\n        .page__container .note {\n          display: flex !important;\n          flex-direction: column;\n          padding: 0.6rem;\n          border: 0.1rem lightgray solid;\n          border-radius: 0.4rem;\n          margin-bottom: 0.5rem;\n        }\n\n        .page__container .note .note__info {\n          display: block !important;\n          font-size: 1.3rem;\n          margin-bottom: 0.1rem;\n        }\n\n        .page__container .note .note__info--with-icon {\n          display: flex !important;\n        }\n\n        .page__container .note .note__info--with-icon .note__icon {\n          display: block !important;\n          width: 1.65rem;\n          height: 1.65rem;\n          margin-top: -0.1rem;\n          margin-right: 0.2rem;\n        }\n\n        .page__container .note .note__info--with-icon .note__icon path:not([fill=none]) {\n          display: block !important;\n          fill: currentColor;\n        }\n\n        .page__container .note .note__root .note__content {\n          display: block !important;\n          margin-left: 0.3rem;\n        }\n\n        .page__container .note .note__root {\n          display: block !important;\n        }\n\n        .page__container .note .note__info--with-icon .note__icon svg {\n          display: block !important;\n        }\n\n        .page__container .note .note__reply {\n          display: block !important;\n          margin: 0.5rem 0 0 2rem;\n        }\n\n        .page__container .note .note__content {\n          display: block !important;\n          font-size: 1.2rem;\n          margin-top: 0.1rem;\n        }\n      ",window.document.head.prepend(style)}const printingOptions={includeComments,includeAnnotations,maintainPageOrientation:!0,printQuality,sortStrategy,colorMap,dateFormat,isPrintCurrentView:!1,language,createCanvases:!0,isGrayscale:!1},createdPages=(0,helpers_rasterPrint__WEBPACK_IMPORTED_MODULE_6__.F1)(pages,printingOptions,void 0),addWhiteBackground=dataURL=>{const pagePrintCanvas=document.createElement("canvas"),pagePrintContext=pagePrintCanvas.getContext("2d");return new Promise((res=>{const printImg=new Image;printImg.src=dataURL,printImg.onload=()=>{pagePrintCanvas.width=printImg.width,pagePrintCanvas.height=printImg.height,pagePrintContext.fillStyle=constants_commonColors__WEBPACK_IMPORTED_MODULE_15__.zb.white,pagePrintContext.fillRect(0,0,pagePrintCanvas.width,pagePrintCanvas.height),pagePrintContext.drawImage(printImg,0,0),res(pagePrintCanvas.toDataURL())}}))},html2canvas=(await __webpack_require__.e(26526).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/html2canvas/dist/npm/index.js",23))).default;for(let page of createdPages){let dataURL;if(page=await page,page instanceof HTMLElement){document.body.appendChild(page);const canvas=await html2canvas(page,{backgroundColor:null,scale:1,logging:!1});dataURL=await addWhiteBackground(canvas.toDataURL()),document.body.removeChild(page)}else dataURL=doc?.getType()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE||doc?.getType()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.LEGACY_OFFICE||doc?.getType()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE_EDITOR?await addWhiteBackground(page):page;const link=document.createElement("a");link.href=dataURL,link.download=`${filename}.png`,link.style.display="none",document.body.appendChild(link),link.click(),document.body.removeChild(link)}return dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL)),void(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_3__.A)(constants_events__WEBPACK_IMPORTED_MODULE_4__.A.FILE_DOWNLOADED)}let annotationsPromise=Promise.resolve();const convertToPDF=options.downloadType===constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF&&(doc.getType()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE||(0,_officeEditor__WEBPACK_IMPORTED_MODULE_13__.pb)()||doc.getType()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.SPREADSHEET_EDITOR);if(!(0,_officeEditor__WEBPACK_IMPORTED_MODULE_13__.pb)()&&doc.getType()!==constants_types__WEBPACK_IMPORTED_MODULE_12__._.SPREADSHEET_EDITOR||!convertToPDF){if(convertToPDF||includeComments){const xfdfString=await core__WEBPACK_IMPORTED_MODULE_1__.A.exportAnnotations({fields:!0,widgets:!0,links:!0,useDisplayAuthor},documentViewerKey),fileData=await doc.getFileData({xfdfString,includeAnnotations,downloadType:constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF});if(temporaryModifiedDoc=await core__WEBPACK_IMPORTED_MODULE_1__.A.createDocument(fileData,{extension:constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF,filename}),includeComments){const canvas2pdf=await Promise.all([__webpack_require__.e(4373),__webpack_require__.e(4118)]).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/canvas2pdf/canvas2pdf.js",23)),state=store.getState(),[sortStrategy,colorMap]=[selectors__WEBPACK_IMPORTED_MODULE_7__.A.getSortStrategy(state),selectors__WEBPACK_IMPORTED_MODULE_7__.A.getColorMap(state)],pageWidth=612,pageHeight=792,titleFontSize=12,bodyFontSize=11,cardSpacing=8,padding=36,commentPages={};for(const pageNumber of pages){const annotationNotes=(0,constants_sortStrategies__WEBPACK_IMPORTED_MODULE_9__.Qk)()[sortStrategy].getSortedNotes(core__WEBPACK_IMPORTED_MODULE_1__.A.getAnnotationsList(documentViewerKey).filter((annotation=>annotation.Listable&&annotation.PageNumber===pageNumber&&!annotation.isReply()&&!annotation.isGrouped())));if(!annotationNotes?.length)continue;const startX=padding;let startY=padding,ctx=new canvas2pdf.PdfContext(blob_stream__WEBPACK_IMPORTED_MODULE_8___default()(),{font:"Helvetica"});async function savePage(){const blob=await new Promise((res=>{ctx.stream.on("finish",(()=>res(ctx.stream.toBlob("application/pdf")))),ctx.end()}));commentPages[pageNumber]?commentPages[pageNumber].push(blob):commentPages[pageNumber]=[blob]}let x=startX,y=startY;const text=`Page ${pageNumber}`;ctx.font=`${titleFontSize}px Helvetica`,ctx.fillStyle=constants_commonColors__WEBPACK_IMPORTED_MODULE_15__.zb.black;let textSize=ctx.measureText(text);ctx.fillText(text,x,y),y+=textSize.height;for(const annotation of annotationNotes){let skip;async function drawAnnotationComment(annotation,startX,isReply=!1){async function drawText(text,options={}){const{bold=!1,fillStyle=constants_commonColors__WEBPACK_IMPORTED_MODULE_15__.zb.black,size=bodyFontSize,font="Helvetica"}=options;let{x,y}=options;ctx.fillStyle=fillStyle,ctx.font=`${size}px ${font}`;const textSize=ctx.measureText(text);return textSize.height+y>pageHeight-padding&&(drawRoundedRect(ctx,padding,startY,pageWidth-2*padding,pageHeight-startY-padding,4,"bottom"),await savePage(),ctx=new canvas2pdf.PdfContext(blob_stream__WEBPACK_IMPORTED_MODULE_8___default()(),{font:"Helvetica"}),ctx.fillStyle=fillStyle,ctx.font=`${size}px ${font}`,x=startX,y=padding+cardSpacing,startY=padding,skip="top"),ctx.fillText(text,x,y),bold&&(ctx.fillText(text,x+.1,y),textSize.width+=.1),{textSize,x,y,startY}}function extractProperties(newProperties){x=newProperties.x,y=newProperties.y,startY=newProperties.startY,textSize=newProperties.textSize}extractProperties(await drawText(annotation.Author||"Guest",{bold:!0,x,y})),x+=textSize.width+cardSpacing;const dateText=`- ${new Date(annotation.DateCreated).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}`;if(extractProperties(await drawText(dateText,{fillStyle:constants_commonColors__WEBPACK_IMPORTED_MODULE_15__.zb.gray8,x,y})),x+=textSize.width+cardSpacing,!isReply){const subjectText=`Subject: ${annotation.Subject}`,subjectTextSize=ctx.measureText(subjectText);subjectTextSize.width<90&&(subjectTextSize.width=90),ctx.fillText(subjectText,pageWidth-padding-subjectTextSize.width-cardSpacing,y)}x=startX,y+=textSize.height+cardSpacing,isReply||(y+=cardSpacing),ctx.fillStyle=constants_commonColors__WEBPACK_IMPORTED_MODULE_15__.zb.black;return annotation.getContents()?(await async function drawTextAndWrap(text,checkNewLines=!0){if(checkNewLines){const textArray=text.split("\n");if(textArray.length>1){for(const text of textArray)await drawTextAndWrap(text,!1),x=startX;return}}const textSize=ctx.measureText(text);if(textSize.width+x>pageWidth-padding-cardSpacing){let maxSize=pageWidth-2*padding-3*cardSpacing;isReply&&(maxSize-=36);const indexOfLastSpaceToFit=text.lastIndexOf(" ",text.length*maxSize/(textSize.width+x));extractProperties(await drawText(text.substring(0,indexOfLastSpaceToFit),{x,y})),y+=textSize.height,x=startX,await drawTextAndWrap(text.substring(indexOfLastSpaceToFit+1))}else ctx.fillText(text,x,y),y+=textSize.height}(annotation.getContents()),y+=cardSpacing):y-=cardSpacing,y-cardSpacing}y+40>pageHeight&&(await savePage(),ctx=new canvas2pdf.PdfContext(blob_stream__WEBPACK_IMPORTED_MODULE_8___default()(),{font:"Helvetica"}),x=padding,y=padding),y+=cardSpacing,startY=y,y+=cardSpacing,x+=cardSpacing,await new Promise((resolve=>{const key=(0,constants_map__WEBPACK_IMPORTED_MODULE_10__.c7)(annotation),colorProperty=colorMap[key]&&colorMap[key].iconColor,color=annotation[colorProperty||"StrokeColor"].toString(),iconKey=(0,constants_map__WEBPACK_IMPORTED_MODULE_10__.ap)(key).icon,icon=__webpack_require__("./assets/icons sync recursive ^\\.\\/.*\\.svg$")(`./${iconKey}.svg`),blob=new Blob([icon],{type:"image/svg+xml;charset=utf-8"}),url=URL.createObjectURL(blob),img=new Image;img.style.color=color,img.src=url,img.onload=()=>{ctx.drawImage(img,x,y,24,24),URL.revokeObjectURL(url),resolve()}})),x+=30,y+=14;let lastYPos=await drawAnnotationComment(annotation,x-30);x=startX+36;for(const reply of annotation.getReplies())y+=cardSpacing,lastYPos=await drawAnnotationComment(reply,x,!0);drawRoundedRect(ctx,padding,startY,pageWidth-2*padding,lastYPos-startY+cardSpacing,4,skip),x=startX}await savePage()}let pageOffset=1;for(let page of Object.keys(commentPages)){page=parseInt(page);for(const blob of commentPages[page]){const commentPagesDoc=await core__WEBPACK_IMPORTED_MODULE_1__.A.createDocument(blob,{extension:constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF});await temporaryModifiedDoc.insertPages(commentPagesDoc,[1],page+pageOffset),downloadAllPages||(pages=pages.map((p=>p>=page+pageOffset?p+1:p)),pages.push(page+pageOffset)),pageOffset++,commentPagesDoc.unloadResources()}}pages=downloadAllPages?void 0:pages.sort(((a,b)=>a-b)),annotationsPromise=Promise.resolve((await temporaryModifiedDoc.extractXFDF({pages})).xfdfString)}else annotationsPromise=Promise.resolve(xfdfString)}else!includeAnnotations||options.xfdfString||downloadAsImage?options.xfdfString||includeAnnotations||(options.xfdfString=window.Core.EMPTY_XFDF):annotationsPromise=options.documentToBeDownloaded?Promise.resolve((await options.documentToBeDownloaded.extractXFDF(pages)).xfdfString):core__WEBPACK_IMPORTED_MODULE_1__.A.exportAnnotations({useDisplayAuthor},documentViewerKey);return annotationsPromise.then((async xfdfString=>{options.xfdfString=options.xfdfString||xfdfString,includeAnnotations||(options.includeAnnotations=!1);const extension=doc.getFilename().split(".").pop()?.toLowerCase()||"",docType=doc?.getType(),isNotPDF=docType?.includes("video")||"audio"===docType||docType===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE||docType===constants_types__WEBPACK_IMPORTED_MODULE_12__._.SPREADSHEET_EDITOR||(0,_officeEditor__WEBPACK_IMPORTED_MODULE_13__.pb)(),downloadName=((name,extension)=>name.toLowerCase().endsWith(extension)?name:`${name}${extension}`)(filename,isNotPDF&&!convertToPDF?`.${extension}`:".pdf"),clonedOptions=Object.assign({},options);clonedOptions.documentToBeDownloaded&&(temporaryModifiedDoc=clonedOptions.documentToBeDownloaded,delete clonedOptions.documentToBeDownloaded),clonedOptions.store&&delete clonedOptions.store;const handleError=error=>{throw dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL)),new Error(error.message)},signatureWidgets=core__WEBPACK_IMPORTED_MODULE_1__.A.getAnnotationsList().filter((a=>a instanceof window.Core.Annotations.SignatureWidgetAnnotation));if((await Promise.all(signatureWidgets.map((a=>a.isSignedDigitally())))).includes(!0)&&(clonedOptions.flags|=window.Core.SaveOptions.INCREMENTAL),!externalURL)return pages&&!downloadAllPages?(temporaryModifiedDoc||doc).extractPages(pages,options.xfdfString).then((data=>downloadDataAsFile(data,extension,{...options,downloadName})),handleError):(temporaryModifiedDoc||doc).getFileData(clonedOptions).then((data=>downloadDataAsFile(data,extension,{...options,downloadName})),handleError);{const downloadIframe=(0,helpers_getRootNode__WEBPACK_IMPORTED_MODULE_16__.Ay)().querySelector("#download-iframe")||document.createElement("iframe");downloadIframe.width=0,downloadIframe.height=0,downloadIframe.id="download-iframe",downloadIframe.src=null,document.body.appendChild(downloadIframe),downloadIframe.src=externalURL,dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL)),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_3__.A)(constants_events__WEBPACK_IMPORTED_MODULE_4__.A.FILE_DOWNLOADED)}})).catch((error=>{console.warn(error),dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement(src_constants_dataElement__WEBPACK_IMPORTED_MODULE_14__.A.LOADING_MODAL))}))}{const data=await doc.getFileData({downloadType:constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF});downloadDataAsFile(data,constants_types__WEBPACK_IMPORTED_MODULE_12__._.PDF,options)}};function drawRoundedRect(ctx,x,y,width,height,radius,skip=void 0){const skipTop="top"===skip,skipBottom="bottom"===skip;ctx.beginPath(),ctx.strokeStyle="lightgray",ctx.lineWidth=1,skipTop?(ctx.moveTo(x,y),ctx.lineTo(x,y+height-radius),ctx.quadraticCurveTo(x,y+height,x+radius,y+height),ctx.lineTo(x+width-radius,y+height),ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius),ctx.lineTo(x+width,y)):skipBottom?(ctx.moveTo(x,y+height),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height)):(ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath()),ctx.stroke()}},"./src/helpers/loadDocument.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>loadDocument});var PasswordModal=__webpack_require__("./src/components/PasswordModal/index.js"),core=__webpack_require__("./src/core/index.js"),fireEvent=__webpack_require__("./src/helpers/fireEvent.js"),isString=__webpack_require__("./node_modules/lodash/isString.js"),isString_default=__webpack_require__.n(isString);const helpers_getFileExtension=(src,options)=>{if(options?.extension)return options.extension.toLowerCase();if(!src)return null;if(src instanceof File)return src.name.split(".").pop().toLowerCase();if((src instanceof Blob||src instanceof ArrayBuffer)&&options?.filename)return options.filename.split(".").pop().toLowerCase();if(isString_default()(src)){return src.split("?")[0].split("#")[0].split(".").pop().toLowerCase()}return null};var getHashParameters=__webpack_require__("./src/helpers/getHashParameters.js"),actions=__webpack_require__("./src/redux/actions/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),customizationVariables=__webpack_require__("./src/constants/customizationVariables.js");const loadDocument=(dispatch,src,options={},documentViewerKey=1)=>{(options={...getDefaultOptions(),...options}).docId=options.docId||options.documentId||null;const customLoadingProgressFunction=options.onLoadingProgress;if(options.onLoadingProgress=percent=>{customLoadingProgressFunction&&customLoadingProgressFunction(percent),dispatch(actions.A.setLoadingProgress(percent))},options.password=transformPasswordOption(options.password,dispatch),options.xodOptions=extractXodOptions(options),"onError"in options){const userDefinedOnErrorCallback=options.onError;options.onError=function(error){(0,fireEvent.R)(error),userDefinedOnErrorCallback(error)}}else options.onError=fireEvent.R;dispatch(actions.A.closeElement(dataElement.A.PASSWORD_MODAL));const extension=helpers_getFileExtension(src,options),isDOCXEditorMode=options.initialMode===customizationVariables.jq.DOCX_EDITOR||options.enableOfficeEditing,isXLSXEditorMode=options.initialMode===customizationVariables.jq.SPREADSHEET_EDITOR;isDOCXEditorMode&&customizationVariables.rM.includes(extension)||isXLSXEditorMode&&customizationVariables.CG.includes(extension)?options.enableOfficeEditing=!0:options.enableOfficeEditing=!1,src?core.A.loadDocument(src,options,documentViewerKey).catch((()=>{})):isXLSXEditorMode?core.A.loadBlankSpreadsheet(options):isDOCXEditorMode&&core.A.loadBlankOfficeEditorDocument(options),dispatch(actions.A.openElement(dataElement.A.PROGRESS_MODAL))},getDefaultOptions=()=>({startOffline:(0,getHashParameters.A)("startOffline",!1),azureWorkaround:(0,getHashParameters.A)("azureWorkaround",!1),webviewerServerURL:(0,getHashParameters.A)("webviewerServerURL",""),fallbackToClientSide:(0,getHashParameters.A)("fallbackToClientSide",!1),singleServerMode:(0,getHashParameters.A)("singleServerMode",!1),webviewerServerRangeRequests:(0,getHashParameters.A)("wvsRange",!0),forceClientSideInit:(0,getHashParameters.A)("forceClientSideInit",!1),disableWebsockets:(0,getHashParameters.A)("disableWebsockets",!1),cacheKey:(0,getHashParameters.A)("cacheKey",null),officeOptions:JSON.parse((0,getHashParameters.A)("officeOptions",null)),rasterizerOptions:JSON.parse((0,getHashParameters.A)("rasterizerOptions",null)),streaming:(0,getHashParameters.A)("streaming",null),useDownloader:(0,getHashParameters.A)("useDownloader",!0),backendType:(0,getHashParameters.A)("pdf",null),loadAsPDF:(0,getHashParameters.A)("loadAsPDF",null),initialMode:(0,getHashParameters.A)("initialMode",null),enableOfficeEditing:(0,getHashParameters.A)("enableOfficeEditing",!1)}),transformPasswordOption=(password,dispatch)=>{let attempt,passwordChecked=!1;return checkPassword=>{dispatch(actions.A.setPasswordAttempts(attempt++)),password||(password=""),passwordChecked||"string"!=typeof password?(passwordChecked&&1!==attempt&&console.error("Wrong password has been passed as an argument. WebViewer will open password modal."),(0,PasswordModal.setCheckPasswordFunction)(checkPassword),dispatch(actions.A.openElement(dataElement.A.PASSWORD_MODAL))):(checkPassword(password),passwordChecked=!0,attempt=0)}},extractXodOptions=options=>{const xodOptions=options.xodOptions||{};return options.decryptOptions&&(xodOptions.decrypt=window.Core.Encryption.decrypt,xodOptions.decryptOptions=options.decryptOptions),options.decrypt&&(xodOptions.decrypt=options.decrypt),null!==options.streaming&&(xodOptions.streaming="true"===options.streaming||!0===options.streaming),options.azureWorkaround&&(xodOptions.azureWorkaround=options.azureWorkaround),options.startOffline&&(xodOptions.startOffline=options.startOffline),xodOptions}},"./src/hooks/useResizeObserver/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useResizeObserver});var react=__webpack_require__("./node_modules/react/index.js"),throttle=__webpack_require__("./node_modules/lodash/throttle.js"),throttle_default=__webpack_require__.n(throttle);const hooks_useResizeObserver=()=>{const[dimensions,setDimensions]=(0,react.useState)({width:null,height:null}),elementRef=(0,react.useRef)(null),updateDimensions=throttle_default()((entries=>{for(const entry of entries){const observedWidth=entry.borderBoxSize[0].inlineSize,observedHeight=entry.borderBoxSize[0].blockSize;setDimensions({width:observedWidth,height:observedHeight})}}),100);return(0,react.useEffect)((()=>{const node=elementRef.current;if(node){const observer=new ResizeObserver((entries=>{requestAnimationFrame((()=>updateDimensions(entries)))}));return observer.observe(node),()=>{observer.disconnect()}}}),[elementRef.current]),[elementRef,dimensions]}},"?19e6":()=>{},"?3e83":()=>{}}]);