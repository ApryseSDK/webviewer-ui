"use strict";(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[9678],{"./src/apis/disableFeatures.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createFeatureAPI.js"),enable=!1;function __WEBPACK_DEFAULT_EXPORT__(store){return(0,helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__.A)(enable,store)}},"./src/apis/disableTools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createToolAPI.js"),enable=!1;function __WEBPACK_DEFAULT_EXPORT__(store){return(0,helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__.A)(enable,store)}},"./src/apis/enableFeatures.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createFeatureAPI.js"),enable=!0;function __WEBPACK_DEFAULT_EXPORT__(store){return(0,helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__.A)(enable,store)}},"./src/apis/enableTools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createToolAPI.js"),enable=!0;function __WEBPACK_DEFAULT_EXPORT__(store){return(0,helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__.A)(enable,store)}},"./src/constants/displayModeObjects.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=[{displayMode:"Single",pageTransition:"default",layout:"single"},{displayMode:"Continuous",pageTransition:"continuous",layout:"single"},{displayMode:"Facing",pageTransition:"default",layout:"double"},{displayMode:"FacingContinuous",pageTransition:"continuous",layout:"double"},{displayMode:"CoverFacing",pageTransition:"default",layout:"cover"},{displayMode:"Cover",pageTransition:"continuous",layout:"cover"}]},"./src/helpers/TouchEventManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_device__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/device.js"),helpers_getNumberOfPagesToNavigate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/getNumberOfPagesToNavigate.js"),constants_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/map.js"),constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/zoomFactors.js");var touchType_TAP="tap",touchType_DOUBLE_TAP="doubleTap",touchType_PINCH="pinch",touchType_PAN="pan",touchType_SWIPE="swipe",TouchEventManager={initialize:function initialize(document,container){this.document=document,this.container=container,this.allowSwipe=!0,this.allowHorizontalSwipe=!0,this.allowVerticalSwipe=!1,this.verticalMomentum=0,this.horziontalMomentum=0,this.verticalLock=!1,this.horziontalLock=!1,this.enableTouchScrollLock=!0,this.startingScrollLeft=null,this.startingScrollTop=null,this._useNativeScroll=!1;try{var _$val=localStorage.getItem("useNativeScroll");_$val&&(this._useNativeScroll=JSON.parse(_$val))}catch(err){console.warn("localStorage could not be accessed. ".concat(err.message))}this.touch={clientX:0,clientY:0,distance:0,horizontalDistance:0,verticalDistance:0,scale:1,zoom:1,type:""},this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchCancel=this.handleTouchCancel.bind(this),this.container.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.container.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEnd,{passive:!1}),this.container.addEventListener("touchcancel",this.handleTouchCancel,{passive:!1})},terminate:function terminate(){this.container.removeEventListener("touchstart",this.handleTouchStart),this.container.removeEventListener("touchmove",this.handleTouchMove),this.container.removeEventListener("touchend",this.handleTouchEnd),this.container.removeEventListener("touchcancel",this.handleTouchCancel)},handleTouchStart:function handleTouchStart(e){if("Pan"===core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().name&&core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().isStylusModeEnabled()&&"stylus"===e.touches[0].touchType)core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode(core__WEBPACK_IMPORTED_MODULE_0__.A.getTool("Pan").previouslyUsedTool.name);else switch(e.touches.length){case 1:var touch=e.touches[0],scrollWidth=this.container.clientWidth,viewerWidth=this.document.clientWidth,isDoubleTap=this.touch.type===touchType_TAP&&this.getDistance(this.touch,touch)<=10;this.touch={clientX:touch.clientX,clientY:touch.clientY,distance:0,scale:scrollWidth/viewerWidth,zoom:core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(),type:isDoubleTap?touchType_DOUBLE_TAP:touchType_TAP,touchStartTimeStamp:Date.now(),stopMomentumScroll:!0,touchMoveCount:0},this.startingScrollLeft=this.container.scrollLeft,this.startingScrollTop=this.container.scrollTop,clearTimeout(this.doubleTapTimeout);break;case 2:e.cancelable&&e.preventDefault();var t1=e.touches[0],t2=e.touches[1],clientX=(t1.clientX+t2.clientX)/2,clientY=(t1.clientY+t2.clientY)/2,docX=clientX-this.document.offsetLeft+this.container.scrollLeft,docY=clientY-this.document.offsetTop+this.container.scrollTop;this.touch={previousPinchScale:0,marginLeft:this.document.offsetLeft,marginTop:parseFloat(window.getComputedStyle(this.document).marginTop),clientX,clientY,docX,docY,distance:this.getDistance(t1,t2),scale:1,zoom:core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(),touchStartTimeStamp:Date.now(),stopMomentumScroll:!0,touchMoveCount:0},helpers_device__WEBPACK_IMPORTED_MODULE_1__.un||(this.document.style.transformOrigin="".concat(docX,"px ").concat(docY,"px")),this.startingScrollLeft=this.container.scrollLeft,this.startingScrollTop=this.container.scrollTop}},axisLockThreshold:8,isScrollingVertically:function isScrollingVertically(){return Math.abs(this.verticalMomentum)>0&&0===this.horziontalMomentum||Math.abs(this.touch.verticalDistance)>this.axisLockThreshold*Math.abs(this.touch.horizontalDistance)},isScrollingHorziontally:function isScrollingHorziontally(){return Math.abs(this.horziontalMomentum)>0&&0===this.verticalMomentum||Math.abs(this.touch.horizontalDistance)>this.axisLockThreshold*Math.abs(this.touch.verticalDistance)},canLockScrolling:function canLockScrolling(){var container=this.container,doc=this.document,doesPagesFitOnScreen=doc.clientWidth<container.clientWidth||doc.clientHeight<container.clientHeight,alreadyLocked=this.verticalLock||this.horziontalLock;return!doesPagesFitOnScreen&&this.enableTouchScrollLock&&this.touch.touchMoveCount<6&&!alreadyLocked},handleScroll:function handleScroll(t){this.useNativeScroll||(this.touch.horizontalDistance=this.touch.clientX-t.clientX,this.touch.verticalDistance=this.touch.clientY-t.clientY,this.canLockScrolling()&&(this.verticalLock=this.isScrollingVertically(),this.horziontalLock=this.isScrollingHorziontally()),this.enableTouchScrollLock&&(this.verticalLock&&(this.container.scrollTo(this.startingScrollLeft,this.container.scrollTop),this.touch.horizontalDistance=0),this.horziontalLock&&(this.container.scrollTo(this.container.scrollLeft,this.startingScrollTop),this.touch.verticalDistance=0)))},handleTouchMove:function handleTouchMove(e){switch(e.touches.length){case 1:e.cancelable&&e.preventDefault();var t=e.touches[0];this.getDistance(this.touch,t)>10&&(this.touch.type=touchType_SWIPE),this.handleScroll(t),this.touch.touchMoveCount++;break;case 2:var t1=e.touches[0],t2=e.touches[1],panTool=core__WEBPACK_IMPORTED_MODULE_0__.A.getTool("Pan"),isPanning=panTool.isPanning(),isPinching=panTool.isPinching();if(isPanning){this.touch.type=touchType_PAN,e.cancelable&&e.preventDefault();var t3={clientX:(t1.clientX+t2.clientX)/2,clientY:(t1.clientY+t2.clientY)/2};this.getDistance(this.touch,t3)>10&&(this.touch.type=touchType_SWIPE),this.handleScroll(t3),this.touch.touchMoveCount++;break}if(isPinching){if(this.touch.type=touchType_PINCH,e.cancelable&&e.preventDefault(),this.touch.scale=this.getDistance(t1,t2)/this.touch.distance,this.touch.scale*this.touch.zoom<(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()?this.touch.scale=(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()/this.touch.zoom:this.touch.scale*this.touch.zoom>(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()&&(this.touch.scale=(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()/this.touch.zoom),helpers_device__WEBPACK_IMPORTED_MODULE_1__.un){var marginLeft=(this.touch.marginLeft-this.container.offsetLeft+(1-this.touch.scale)*this.touch.docX)/this.touch.scale,marginTop=(this.touch.marginTop+(1-this.touch.scale)*this.touch.docY)/this.touch.scale;this.document.style.marginLeft="".concat(marginLeft,"px"),this.document.style.marginTop="".concat(marginTop,"px"),this.document.style.zoom=this.touch.scale}else this.document.style.transform="scale(".concat(this.touch.scale,")");break}}},handleTouchEnd:function handleTouchEnd(e){var _this=this;switch(this.touch.type){case touchType_TAP:this.doubleTapTimeout=setTimeout((function(){_this.touch.type=""}),300),this.horziontalLock=!1,this.verticalLock=!1;break;case touchType_SWIPE:var isStylusModeDisabled=!core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().isStylusModeEnabled(),isUsingAnnotationToolsAndStylusIsDisabled=this.isUsingAnnotationTools()&&isStylusModeDisabled,isUsingPenAndStylusEnabled=this.isUsingPen()&&!isStylusModeDisabled;if(!this.allowSwipe||isUsingAnnotationToolsAndStylusIsDisabled||isUsingPenAndStylusEnabled||core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText().length||core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedAnnotations().length)return this.horziontalLock=!1,void(this.verticalLock=!1);var _this_reachedBoundary=this.reachedBoundary(),reachedLeft=_this_reachedBoundary.reachedLeft,reachedTop=_this_reachedBoundary.reachedTop,reachedRight=_this_reachedBoundary.reachedRight,reachedBottom=_this_reachedBoundary.reachedBottom,threshold=.1*this.container.clientWidth,swipedToBottom=reachedBottom&&this.touch.verticalDistance>threshold,swipedToTop=reachedTop&&this.touch.verticalDistance<-threshold,swipedToRight=reachedRight&&this.touch.horizontalDistance>threshold,swipedToLeft=reachedLeft&&this.touch.horizontalDistance<-threshold,currentPage=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentPage(),totalPages=core__WEBPACK_IMPORTED_MODULE_0__.A.getTotalPages(),numberOfPagesToNavigate=(0,helpers_getNumberOfPagesToNavigate__WEBPACK_IMPORTED_MODULE_2__.A)(),isFirstPage=1===currentPage,isLastPage=currentPage===totalPages,isSingleDisplayMode=!core__WEBPACK_IMPORTED_MODULE_0__.A.isContinuousDisplayMode(),shouldGoToPrevPage=isSingleDisplayMode&&!isFirstPage&&(swipedToLeft&&this.allowHorizontalSwipe||swipedToTop&&this.allowVerticalSwipe),shouldGoToNextPage=isSingleDisplayMode&&!isLastPage&&(swipedToRight&&this.allowHorizontalSwipe||swipedToBottom&&this.allowVerticalSwipe);if(shouldGoToPrevPage)core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(Math.max(1,currentPage-numberOfPagesToNavigate));else if(shouldGoToNextPage)core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(Math.min(totalPages,currentPage+numberOfPagesToNavigate));else if(!this.useNativeScroll){var touchDuration=(Date.now()-this.touch.touchStartTimeStamp)/1e3;touchDuration<.2?(this.touch.stopMomentumScroll=!1,this.startMomentumScroll(touchDuration)):(this.horziontalLock=!1,this.verticalLock=!1)}break;case touchType_DOUBLE_TAP:var annotationUnderMouse=core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationByMouseEvent(e),isFreeTextUnderMouse=annotationUnderMouse&&function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}(annotationUnderMouse,window.Core.Annotations.FreeTextAnnotation);if(this.isUsingAnnotationTools()){var tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode();tool.finish&&tool.finish()}else if(!isFreeTextUnderMouse){this.oldZoom?(this.touch.scale=Math.max(this.oldZoom/this.touch.zoom,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()/this.touch.zoom),this.oldZoom=null):(this.touch.scale=Math.min(3,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()/this.touch.zoom),this.oldZoom=this.touch.zoom);var zoom=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom()*this.touch.scale,_this_getPointAfterScale=this.getPointAfterScale(),x=_this_getPointAfterScale.x,y=_this_getPointAfterScale.y;core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(zoom,x,y)}isFreeTextUnderMouse&&core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().trigger("annotationDoubleClicked",annotationUnderMouse);break;case touchType_PINCH:if(this.touch.previousPinchScale===this.touch.scale)return;this.touch.previousPinchScale=this.touch.scale,helpers_device__WEBPACK_IMPORTED_MODULE_1__.un?(this.document.style.zoom=1,this.document.style.margin="auto"):this.document.style.transform="none";var zoom1=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom()*this.touch.scale,_this_getPointAfterScale1=this.getPointAfterScale(),x1=_this_getPointAfterScale1.x,y1=_this_getPointAfterScale1.y;core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(zoom1,x1,y1)}this.touch.touchMoveCount=0,this.verticalMomentum=0,this.horziontalMomentum=0},handleTouchCancel:function handleTouchCancel(e){this.handleTouchEnd(e)},startMomentumScroll:function startMomentumScroll(touchDuration){var _this=this,currentIteration=1,initScrollLeft=this.container.scrollLeft,initScrollTop=this.container.scrollTop,dHorizontal=this.touch.horizontalDistance/touchDuration/1.85,dVertical=this.touch.verticalDistance/touchDuration/1.85,momentumScroll=function(){var nextLeft=_this.easeOutQuad(currentIteration,initScrollLeft,dHorizontal,70),nextTop=_this.easeOutQuad(currentIteration,initScrollTop,dVertical,70);_this.verticalMomentum=dVertical,_this.horziontalMomentum=dHorizontal;var isNotNewTouchEvent=!_this.touch.touchMoveCount,horzDiff=_this.container.scrollLeft-nextLeft,vertDiff=_this.container.scrollTop-nextTop,isMomentumScrollAlmostFinish=Math.abs(horzDiff)<1&&Math.abs(vertDiff)<1;_this.container.scrollLeft=nextLeft,_this.container.scrollTop=nextTop,isNotNewTouchEvent&&isMomentumScrollAlmostFinish&&(_this.horziontalLock=!1,_this.verticalLock=!1),currentIteration<70&&!_this.touch.stopMomentumScroll&&(currentIteration++,requestAnimationFrame(momentumScroll)),isNotNewTouchEvent&&70===currentIteration&&(_this.horziontalLock=!1,_this.verticalLock=!1,_this.verticalMomentum=0,_this.horziontalMomentum=0)};requestAnimationFrame(momentumScroll)},easeOutQuad:function easeOutQuad(currentTime,startValue,changeInValue,duration){return-changeInValue*(currentTime/=duration)*(currentTime-2)+startValue},reachedBoundary:function reachedBoundary(){var _this_container=this.container,scrollHeight=_this_container.clientHeight,scrollWidth=_this_container.clientWidth,scrollLeft=_this_container.scrollLeft,scrollTop=_this_container.scrollTop,_this_document=this.document;return{reachedLeft:scrollLeft<=0,reachedTop:scrollTop<=0,reachedBottom:scrollHeight+scrollTop>=_this_document.clientHeight,reachedRight:scrollWidth+scrollLeft>=_this_document.clientWidth}},getDistance:function getDistance(t1,t2){return Math.hypot(t1.clientX-t2.clientX,t1.clientY-t2.clientY)},getPointAfterScale:function getPointAfterScale(){return{x:(this.touch.clientX+this.container.scrollLeft-this.document.offsetLeft)*this.touch.scale-this.touch.clientX+this.container.offsetLeft,y:(this.touch.clientY+this.container.scrollTop-this.document.offsetTop)*this.touch.scale-this.touch.clientY+this.container.offsetTop}},isUsingAnnotationTools:function isUsingAnnotationTools(){var tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode();return(0,constants_map__WEBPACK_IMPORTED_MODULE_3__.ap)((0,constants_map__WEBPACK_IMPORTED_MODULE_3__.YP)(tool.name)).annotationCheck},isUsingPen:function isUsingPen(){return core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().pointerType&&"pen"===core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().pointerType},get useNativeScroll(){return this._useNativeScroll},set useNativeScroll(val){this._useNativeScroll=val;try{localStorage.setItem("useNativeScroll",JSON.stringify(this._useNativeScroll))}catch(err){console.warn("localStorage could not be accessed. ".concat(err.message))}}};const __WEBPACK_DEFAULT_EXPORT__=Object.create(TouchEventManager)},"./src/helpers/createFeatureAPI.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createFeatureAPI});var core=__webpack_require__("./src/core/index.js"),localStorageManager=__webpack_require__("./src/helpers/localStorageManager.js"),TouchEventManager=__webpack_require__("./src/helpers/TouchEventManager.js"),hotkeysManager=__webpack_require__("./src/helpers/hotkeysManager.js"),TabManager=__webpack_require__("./src/helpers/TabManager.js"),feature=__webpack_require__("./src/constants/feature.js"),actionPriority=__webpack_require__("./src/constants/actionPriority.js"),actions=__webpack_require__("./src/redux/actions/index.js"),enableTools=__webpack_require__("./src/apis/enableTools.js"),disableTools=__webpack_require__("./src/apis/disableTools.js");var selectors=__webpack_require__("./src/redux/selectors/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),officeEditor=__webpack_require__("./src/helpers/officeEditor.js");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createFeatureAPI(enable,store){return function(features){var _obj,priority=arguments.length>1&&void 0!==arguments[1]?arguments[1]:actionPriority.CU,map=(_define_property(_obj={},feature.A.Ribbons,{dataElements:["ribbons"]}),_define_property(_obj,feature.A.Annotating,{dataElements:["toolsHeader","toggleToolsButton","linkButton","noteState",dataElement.A.NOTE_MULTI_SELECT_MODE_BUTTON],fn:function(){store.getState().featureFlags.customizableUI||(enable?store.dispatch(actions.A.enableRibbons()):store.dispatch(actions.A.setReadOnlyRibbons()))}}),_define_property(_obj,feature.A.Measurement,{dataElements:["toolbarGroup-Measure","measurementOverlay","distanceToolGroupButton","arcMeasurementToolGroupButton","perimeterToolGroupButton","areaToolGroupButton","rectangleAreaToolGroupButton","ellipseAreaToolGroupButton","countToolGroupButton","cloudyRectangleAreaToolGroupButton"]}),_define_property(_obj,feature.A.Annotations,{dataElements:["ribbons","notesPanel","toggleNotesButton","toggleToolsButton","toolsButton","linkButton","toolsHeader","toolsOverlay","default-ribbon-group","tools-header","notesPanelToggle","rubberStampPanel","stylePanel","signatureListPanel","markReplaceTextToolButton"],fn:function(){enable?(core.A.showAnnotations(core.A.getAnnotationsList()),(0,enableTools.A)(store)()):(core.A.hideAnnotations(core.A.getAnnotationsList()),(0,disableTools.A)(store)())}}),_define_property(_obj,feature.A.Download,{dataElements:["downloadButton"],fn:function(){enable?store.dispatch(actions.A.enableDeleteTabWarning()):store.dispatch(actions.A.disableDeleteTabWarning())}}),_define_property(_obj,feature.A.FilePicker,{dataElements:["filePickerHandler","filePickerButton"],fn:function(){enable?hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.OPEN_FILE):hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.OPEN_FILE)}}),_define_property(_obj,feature.A.LocalStorage,{fn:function(){enable?localStorageManager.A.enableLocalStorage():localStorageManager.A.disableLocalStorage()}}),_define_property(_obj,feature.A.NotesPanel,{dataElements:["notesPanelButton","notesPanel","toggleNotesButton","notesPanelToggle"]}),_define_property(_obj,feature.A.InlineComment,{dataElements:[dataElement.A.INLINE_COMMENT_POPUP,dataElement.A.INLINE_COMMENT_POPUP_EXPAND_BUTTON,dataElement.A.INLINE_COMMENT_POPUP_CLOSE_BUTTON],fn:function(){enable&&store.dispatch(actions.A.setEnableRightClickAnnotationPopup(!0))}}),_define_property(_obj,feature.A.RightClickAnnotationPopup,{dataElements:[],fn:function(){enable?store.dispatch(actions.A.setEnableRightClickAnnotationPopup(!0)):(store.dispatch(actions.A.disableElements([dataElement.A.INLINE_COMMENT_POPUP,dataElement.A.INLINE_COMMENT_POPUP_EXPAND_BUTTON,dataElement.A.INLINE_COMMENT_POPUP_CLOSE_BUTTON],actionPriority.CU)),store.dispatch(actions.A.setEnableRightClickAnnotationPopup(!1)))}}),_define_property(_obj,feature.A.Print,{dataElements:["printButton","printModal"],fn:function(){enable?hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.PRINT):hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.PRINT)}}),_define_property(_obj,feature.A.Redaction,{dataElements:["toolbarGroup-Redact","redactionToolGroupButton","redactionPanel","redactionPanelToggle","pageRedactionToolGroupButton"],fn:function(){if(enable&&!core.A.isFullPDFEnabled())console.warn("Full api is not enabled, applying redactions is disabled");else{core.A.enableRedaction(enable);var currentToolbarGroup=selectors.A.getCurrentToolbarGroup(store.getState());enable||"toolbarGroup-Redact"!==currentToolbarGroup||function setToolMode(toolName){core.A.setToolMode(toolName)}("AnnotationEdit")}}}),_define_property(_obj,feature.A.TextSelection,{dataElements:["textPopup","textSelectButton"],fn:function(){enable||(core.A.clearSelection(),core.A.setToolMode("AnnotationEdit")),window.Core.Tools.Tool.ENABLE_TEXT_SELECTION=enable}}),_define_property(_obj,feature.A.TouchScrollLock,{fn:function(){TouchEventManager.A.enableTouchScrollLock=enable}}),_define_property(_obj,feature.A.Copy,{dataElements:["copyTextButton"],fn:function(){enable?hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.COPY):hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.COPY)}}),_define_property(_obj,feature.A.MultipleViewerMerging,{fn:function(){store.dispatch(actions.A.setIsMultipleViewerMerging(enable))}}),_define_property(_obj,feature.A.ThumbnailMerging,{fn:function(){store.dispatch(actions.A.setThumbnailMerging(enable))}}),_define_property(_obj,feature.A.ThumbnailReordering,{fn:function(){store.dispatch(actions.A.setThumbnailReordering(enable))}}),_define_property(_obj,feature.A.ThumbnailMultiselect,{fn:function(){store.dispatch(actions.A.setThumbnailMultiselect(enable))}}),_define_property(_obj,feature.A.NotesPanelVirtualizedList,{fn:function(){store.dispatch(actions.A.setEnableNotesPanelVirtualizedList(enable))}}),_define_property(_obj,feature.A.PageNavigation,{fn:function(){enable?(hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.UP),hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.DOWN),hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.PREVIOUS_PAGE),hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.NEXT_PAGE)):(hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.UP),hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.DOWN),hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.PREVIOUS_PAGE),hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.NEXT_PAGE),core.A.setDisplayMode("Single")),TouchEventManager.A.allowSwipe=enable,store.dispatch(actions.A.setAllowPageNavigation(enable))}}),_define_property(_obj,feature.A.MouseWheelZoom,{fn:function(){store.dispatch(actions.A.setMouseWheelZoom(enable))}}),_define_property(_obj,feature.A.Search,{dataElements:["searchButton","searchPanelToggle"],fn:function(){enable?hotkeysManager.Ay.enableShortcut(hotkeysManager.Om.SEARCH):hotkeysManager.Ay.disableShortcut(hotkeysManager.Om.SEARCH)}}),_define_property(_obj,feature.A.MathSymbols,{dataElements:["mathSymbolsButton","richTextPopup"]}),_define_property(_obj,feature.A.OutlineEditing,{dataElements:["outlineControls","addNewOutlineButtonContainer","addNewOutlineButton","outlineEditPopup","outlineRenameButton","outlineSetDestinationButton","outlineDeleteButton"],fn:function(){store.dispatch(actions.A.setIsOutlineEditing(enable))}}),_define_property(_obj,feature.A.NotesShowLastUpdatedDate,{fn:function(){store.dispatch(actions.A.setNotesShowLastUpdatedDate(enable))}}),_define_property(_obj,feature.A.MultiTab,{fn:function(){(0,officeEditor.p)()?console.warn("Multi-tab is not supported in Office Editor mode"):enable?(selectors.A.isMultiViewerMode(store.getState())&&(console.error("MultiTab and MultiViewerMode cannot be enabled at the same time, disabling MultiViewerMode"),store.dispatch(actions.A.setIsMultiViewerMode(!1))),store.dispatch((0,TabManager.Cf)())):(store.dispatch(actions.A.setMultiTab(!1)),store.dispatch(actions.A.setTabManager(null)),store.dispatch(actions.A.setTabs([])),store.dispatch(actions.A.setActiveTab(0)))}}),_define_property(_obj,feature.A.ChangeView,{dataElements:["changeViewToolGroupButton"]}),_define_property(_obj,feature.A.ContentEdit,{dataElements:["toolbarGroup-EditText","addParagraphToolGroupButton","addImageContentToolGroupButton","contentEditButton","searchAndReplace"]}),_define_property(_obj,feature.A.MultiViewerMode,{fn:function(){enable&&selectors.A.getIsMultiTab(store.getState())&&(console.error("MultiTab and MultiViewerMode cannot be enabled at the same time, disabling MultiTab"),store.dispatch(actions.A.setMultiTab(!1)),store.dispatch(actions.A.setTabManager(null)),store.dispatch(actions.A.setTabs([])),store.dispatch(actions.A.setActiveTab(0))),console.warn("Feature.MultiViewerMode is deprecated and will be removed in the next major release. Please use UI.enterMultiViewerMode and UI.exitMultiViewerMode instead."),store.dispatch(actions.A.setIsMultiViewerMode(enable))}}),_define_property(_obj,feature.A.SideBySideView,{fn:function(){store.dispatch(actions.A.setIsMultiViewerModeAvailable(enable))}}),_define_property(_obj,feature.A.ComparePages,{fn:function(){store.dispatch(actions.A.setComparePagesButtonEnabled(enable))}}),_define_property(_obj,feature.A.Initials,{dataElements:["signatureOptionsDropdown","savedSignatureAndInitialsTabs"],fn:function(){var state=store.getState(),signatures=selectors.A.getDisplayedSignatures(state);(null==signatures?void 0:signatures.length)>0&&store.dispatch(actions.A.setInitialsOffset(signatures.length)),store.dispatch(actions.A.setInitialsMode(enable))}}),_define_property(_obj,feature.A.SavedSignaturesTab,{dataElements:[dataElement.A.SAVED_SIGNATURES_TAB],fn:function(){store.dispatch(actions.A.setSavedSignaturesTabEnabled(enable)),enable||store.dispatch(actions.A.setSelectedTab("signatureModal","inkSignaturePanelButton"))}}),_define_property(_obj,feature.A.Panel,{fn:function(){var keys=store.getState().viewer.genericPanels.map((function(item){return item.dataElement}));enable?store.dispatch(actions.A.enableElements(keys,priority)):store.dispatch(actions.A.disableElements(keys,priority))}}),_define_property(_obj,feature.A.WatermarkPanel,{dataElements:[dataElement.A.WATERMARK_PANEL,dataElement.A.WATERMARK_PANEL_TOGGLE]}),_define_property(_obj,feature.A.WatermarkPanelImageTab,{dataElements:[dataElement.A.WATERMARK_PANEL_IMAGE_TAB]}),_define_property(_obj,feature.A.LegacyRichTextPopup,{dataElements:[dataElement.A.LEGACY_RICH_TEXT_POPUP]}),_define_property(_obj,feature.A.Portfolio,{dataElements:[dataElement.A.CREATE_PORTFOLIO_BUTTON,dataElement.A.PORTFOLIO_PANEL_BUTTON,dataElement.A.PORTFOLIO_PANEL]}),_obj);Array.isArray(features)||(features=[features]),features.forEach((function(feature){var _map_feature=map[feature],_map_feature_dataElements=_map_feature.dataElements,dataElements=void 0===_map_feature_dataElements?[]:_map_feature_dataElements,_map_feature_fn=_map_feature.fn,fn=void 0===_map_feature_fn?function(){}:_map_feature_fn;enable?store.dispatch(actions.A.enableElements(dataElements,priority)):store.dispatch(actions.A.disableElements(dataElements,priority)),fn()}))}}},"./src/helpers/createToolAPI.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createToolAPI});var hotkeysManager=__webpack_require__("./src/helpers/hotkeysManager.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const hotkeys={on:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _hotkeysManager;(_hotkeysManager=hotkeysManager.Ay).on.apply(_hotkeysManager,_to_consumable_array(args))},off:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _hotkeysManager;(_hotkeysManager=hotkeysManager.Ay).off.apply(_hotkeysManager,_to_consumable_array(args))},Keys:hotkeysManager.D$};var core=__webpack_require__("./src/core/index.js"),actionPriority=__webpack_require__("./src/constants/actionPriority.js"),getAnnotationCreateToolNames=__webpack_require__("./src/helpers/getAnnotationCreateToolNames.js"),actions=__webpack_require__("./src/redux/actions/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js");function createToolAPI(enable,store){return function(toolNames){var map={AnnotationCreateTextUnderline:"textUnderlineToolButton",AnnotationCreateTextHighlight:"textHighlightToolButton",AnnotationCreateTextSquiggly:"textSquigglyToolButton",AnnotationCreateTextStrikeout:"textStrikeoutToolButton"},emptyArgument=!1;void 0===toolNames&&(toolNames=(0,getAnnotationCreateToolNames.A)(),emptyArgument=!0);var toolNameArray="string"==typeof toolNames?[toolNames]:toolNames,dataElements=selectors.A.getToolButtonDataElements(store.getState(),toolNameArray);emptyArgument&&dataElements.push("toolbarGroup-Forms"),Object.keys(map).forEach((function(toolName){-1!==toolNameArray.indexOf(toolName)&&dataElements.push(map[toolName])}));var currTool=core.A.getToolMode();!enable&&toolNames.indexOf(null==currTool?void 0:currTool.name)>-1&&core.A.setToolMode(window.Core.Tools.ToolNames.EDIT),enable?(toolNameArray.forEach((function(toolName){toolName&&hotkeys.on(toolName)})),store.dispatch(actions.A.enableElements(dataElements,actionPriority.CU))):(toolNameArray.forEach((function(toolName){toolName&&hotkeys.off(toolName)})),store.dispatch(actions.A.disableElements(dataElements,actionPriority.CU)))}}},"./src/helpers/getAnnotationCreateToolNames.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}function __WEBPACK_DEFAULT_EXPORT__(){var toolNames=[],toolModeMap=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolModeMap();return Object.keys(toolModeMap).forEach((function(toolMode){var tool=toolModeMap[toolMode];(_instanceof(tool,window.Core.Tools.GenericAnnotationCreateTool)||_instanceof(tool,window.Core.Tools.TextAnnotationCreateTool)||tool.defaults)&&toolNames.push(tool.name)})),toolNames}},"./src/helpers/readerMode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>enterReaderMode,t:()=>exitReaderMode});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),src_apis_enableFeatures__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/apis/enableFeatures.js"),src_apis_disableFeatures__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/apis/disableFeatures.js"),constants_feature__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/constants/feature.js"),constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/constants/actionPriority.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/constants/dataElement.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var _ref,features=[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Download,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Print,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Search,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.NotesPanel],dataElements=["panToolButton","selectToolButton","outlinesPanelButton","bookmarksPanelButton","signaturePanelButton","toolbarGroup-Shapes","toolbarGroup-Insert","toolbarGroup-Edit","toolbarGroup-EditText","toolbarGroup-FillAndSign","toolbarGroup-Forms","stickyToolGroupButton","freeTextToolGroupButton","markInsertTextGroupButton","markReplaceTextGroupButton","shapeToolGroupButton","freeHandToolGroupButton","freeHandHighlightToolGroupButton","undoButton","redoButton","eraserToolButton"],enterReaderMode=(_ref=_async_to_generator((function(store){var state,docViewer,pdfDoc,xfdf,PDFNet;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.openElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_6__.A.LOADING_MODAL)),state=store.getState(),[4,(docViewer=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer()).getDocument().getPDFDoc()];case 1:return pdfDoc=_state.sent(),[4,core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().exportAnnotations({widgets:!1,fields:!1})];case 2:return xfdf=_state.sent(),(PDFNet=window.Core.PDFNet).initialize().then((function(){var main=function(){var _ref=_async_to_generator((function(){var fdfDoc,err;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return _state.trys.push([0,3,4,5]),[4,PDFNet.FDFDoc.createFromXFDF(xfdf)];case 1:return fdfDoc=_state.sent(),[4,pdfDoc.fdfUpdate(fdfDoc)];case 2:return _state.sent(),core__WEBPACK_IMPORTED_MODULE_0__.A.setDisplayMode("Single"),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setReaderMode(!0)),(0,src_apis_disableFeatures__WEBPACK_IMPORTED_MODULE_4__.A)(store)(features,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.disableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc)),selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,"toolbarGroup-Annotate")?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setToolbarGroup("toolbarGroup-View")):(store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setToolbarGroup("toolbarGroup-Annotate")),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setActiveToolGroup(""))),docViewer.setToolMode(docViewer.getTool(window.Core.Tools.ToolNames.EDIT)),[3,5];case 3:return err=_state.sent(),console.warn(err),[3,5];case 4:return store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_6__.A.LOADING_MODAL)),[7];case 5:return[2]}}))}));return function main(){return _ref.apply(this,arguments)}}();PDFNet.runWithCleanup(main)})),[2]}}))})),function enterReaderMode(store){return _ref.apply(this,arguments)}),exitReaderMode=function(){var _ref=_async_to_generator((function(store){var PDFNet,xfdf;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return PDFNet=window.Core.PDFNet,store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setReaderMode(!1)),(0,src_apis_enableFeatures__WEBPACK_IMPORTED_MODULE_3__.A)(store)(features,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.enableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc)),[4,core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().getDocument().getPDFDoc()];case 1:return[4,_state.sent().fdfExtract(PDFNet.PDFDoc.ExtractFlag.e_both)];case 2:return[4,_state.sent().saveAsXFDFAsString()];case 3:return xfdf=_state.sent(),[4,core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().importAnnotations(xfdf,{replace:[window.Core.Annotations.TextMarkupAnnotation]})];case 4:return _state.sent(),[2]}}))}));return function exitReaderMode(store){return _ref.apply(this,arguments)}}()}}]);