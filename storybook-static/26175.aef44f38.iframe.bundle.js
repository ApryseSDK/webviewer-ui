(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[26175],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/AnnotationContentOverlay/AnnotationContentOverlay.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.AnnotationContentOverlay{visibility:visible}.closed.AnnotationContentOverlay{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.AnnotationContentOverlay{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.always-hide{display:none}.AnnotationContentOverlay{position:absolute;z-index:95;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);display:flex;flex-direction:column;max-width:215px;padding:8px}.AnnotationContentOverlay .author{font-weight:700}.AnnotationContentOverlay .contents,.AnnotationContentOverlay .replies{margin-top:5px;white-space:pre-wrap}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/AnnotationContentOverlay/AnnotationContentOverlay.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/AnnotationContentOverlay/AnnotationContentOverlay.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/AnnotationContentOverlay/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>components_AnnotationContentOverlay});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),core=__webpack_require__("./src/core/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),device=__webpack_require__("./src/helpers/device.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),CustomElement=__webpack_require__("./src/components/CustomElement/index.js");const propTypes={annotation:prop_types_default().object,overlayPosition:prop_types_default().object,overlayRef:prop_types_default().object},FormFieldWidgetOverlay=({annotation,overlayPosition,overlayRef})=>{const[t]=(0,useTranslation.B)(),formFieldWidgetName=annotation.getField().name;return(0,jsx_runtime.jsxs)("div",{className:"Overlay AnnotationContentOverlay","data-element":dataElement.A.ANNOTATION_CONTENT_OVERLAY,style:{...overlayPosition},ref:overlayRef,children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("span",{style:{fontWeight:"bold"},children:[t("formField.type"),": "]}),t((widget=>{switch(!0){case widget instanceof window.Core.Annotations.TextWidgetAnnotation:return"formField.types.text";case widget instanceof window.Core.Annotations.SignatureWidgetAnnotation:return"formField.types.signature";case widget instanceof window.Core.Annotations.CheckButtonWidgetAnnotation:return"formField.types.checkbox";case widget instanceof window.Core.Annotations.ListWidgetAnnotation:return"formField.types.listbox";case widget instanceof window.Core.Annotations.ChoiceWidgetAnnotation:return"formField.types.combobox";case widget instanceof window.Core.Annotations.RadioButtonWidgetAnnotation:return"formField.types.radio";case widget instanceof window.Core.Annotations.PushButtonWidgetAnnotation:return"formField.types.button";default:return}})(annotation))]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("span",{style:{fontWeight:"bold"},children:[t("formField.formFieldPopup.fieldName"),": "]}),formFieldWidgetName]})]})};FormFieldWidgetOverlay.propTypes=propTypes;const AnnotationContentOverlay_FormFieldWidgetOverlay=FormFieldWidgetOverlay;FormFieldWidgetOverlay.__docgenInfo={description:"",methods:[],displayName:"FormFieldWidgetOverlay",props:{annotation:{description:"",type:{name:"object"},required:!1},overlayPosition:{description:"",type:{name:"object"},required:!1},overlayRef:{description:"",type:{name:"object"},required:!1}}};__webpack_require__("./src/components/AnnotationContentOverlay/AnnotationContentOverlay.scss");var getRootNode=__webpack_require__("./src/helpers/getRootNode.js");const AnnotationContentOverlay_propTypes={annotation:prop_types_default().object,clientXY:prop_types_default().object},AnnotationContentOverlay_AnnotationContentOverlay=({annotation,clientXY})=>{const[isDisabled,isOverlayOpen,customHandler]=(0,es.d4)((state=>[selectors.A.isElementDisabled(state,dataElement.A.ANNOTATION_CONTENT_OVERLAY),selectors.A.isElementOpen(state,dataElement.A.ANNOTATION_CONTENT_OVERLAY),selectors.A.getAnnotationContentOverlayHandler(state)]),es.bN),[t]=(0,useTranslation.B)(),[overlayPosition,setOverlayPosition]=(0,react.useState)({left:-99999,top:-99999}),isUsingCustomHandler=null!==customHandler,overlayRef=(0,react.useRef)(null),contents=annotation?.getContents(),fitWindowSize=(0,react.useCallback)(((clientX,clientY,left,top)=>{const overlayRect=overlayRef.current.getBoundingClientRect();if(left+overlayRect.width>window.innerWidth&&(left=clientX-overlayRect.width-20),top+overlayRect.height>window.innerHeight&&(top=clientY-overlayRect.height-20),top<=0&&(top=0),window.isApryseWebViewerWebComponent){const host=(0,getRootNode.Ay)()?.host,hostBoundingRect=host?.getBoundingClientRect();hostBoundingRect&&(left-=hostBoundingRect.left,top-=hostBoundingRect.top,left+=host.scrollLeft,top+=host.scrollTop)}return{left,top}}),[]);(0,react.useEffect)((()=>{if(overlayRef.current&&annotation){const{clientX,clientY}=clientXY,{left,top}=fitWindowSize(clientX,clientY,clientX+20,clientY+20);setOverlayPosition({left,top})}}),[annotation,clientXY,fitWindowSize]);const numberOfReplies=annotation?.getReplies().length,preRenderedElements=isUsingCustomHandler&&annotation?customHandler(annotation):null,customRender=(0,react.useCallback)((()=>preRenderedElements),[preRenderedElements]);if(isDisabled||device.Xb||!annotation)return null;if(isUsingCustomHandler&&isOverlayOpen&&void 0!==preRenderedElements)return preRenderedElements?(0,jsx_runtime.jsx)("div",{className:"Overlay AnnotationContentOverlay","data-element":dataElement.A.ANNOTATION_CONTENT_OVERLAY,style:{...overlayPosition},ref:overlayRef,children:(0,jsx_runtime.jsx)(CustomElement.A,{render:customRender})}):null;const isInFormFieldCreationMode=core.A.getFormFieldCreationManager().isInFormFieldCreationMode();return isOverlayOpen&&isInFormFieldCreationMode&&annotation instanceof window.Core.Annotations.WidgetAnnotation?(0,jsx_runtime.jsx)(AnnotationContentOverlay_FormFieldWidgetOverlay,{annotation,overlayPosition,overlayRef}):contents&&isOverlayOpen?(0,jsx_runtime.jsxs)("div",{className:"Overlay AnnotationContentOverlay","data-element":dataElement.A.ANNOTATION_CONTENT_OVERLAY,style:{...overlayPosition},ref:overlayRef,children:[(0,jsx_runtime.jsx)("div",{className:"author",children:core.A.getDisplayAuthor(annotation.Author)}),(0,jsx_runtime.jsx)("div",{className:"contents",children:contents.length>100?`${contents.slice(0,100)}...`:contents}),numberOfReplies>0&&(0,jsx_runtime.jsx)("div",{className:"replies",children:t("message.annotationReplyCount",{count:numberOfReplies})})]}):null};AnnotationContentOverlay_AnnotationContentOverlay.propTypes=AnnotationContentOverlay_propTypes;const components_AnnotationContentOverlay_AnnotationContentOverlay=AnnotationContentOverlay_AnnotationContentOverlay;AnnotationContentOverlay_AnnotationContentOverlay.__docgenInfo={description:"",methods:[],displayName:"AnnotationContentOverlay",props:{annotation:{description:"",type:{name:"object"},required:!1},clientXY:{description:"",type:{name:"object"},required:!1}}};const components_AnnotationContentOverlay=components_AnnotationContentOverlay_AnnotationContentOverlay}}]);