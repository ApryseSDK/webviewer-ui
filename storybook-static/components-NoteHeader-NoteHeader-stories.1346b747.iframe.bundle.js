(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[15487],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Choice/Choice.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ui__choice__input__icon{inset-block-start:-6px!important}.ui__icon{align-items:baseline!important}.ui__choice{align-items:center}.ui__choice__label{font-size:13px!important}.ui__choice__input--switch .ui__choice__input__switch{height:14px!important;border-radius:24px!important;background-color:var(--input-switch-default-color)!important;border:none!important}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--disabled{opacity:.6;cursor:not-allowed}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--checked{background-color:var(--checked-option)!important}.ui__choice__input--switch .ui__choice__input__switch.ui__choice__input__switch--checked .ui__choice__input__toggle{inset-inline-start:12px!important}.ui__choice__input--switch .ui__choice__input__switch--focus{outline:var(--focus-visible-outline)}.ui__choice__input--switch .ui__choice__input__switch .ui__choice__input__toggle{height:10px!important;width:10px!important;background-color:var(--gray-0)!important;inset-inline-start:2px!important}.ui__choice__input--switch input:disabled{cursor:not-allowed!important}.ui__choice__input__check--focus{outline:var(--focus-visible-outline)}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ToggleElementButton .Button:hover:not(:disabled){cursor:pointer;border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active{border:none;box-shadow:inset 0 0 0 1px var(--blue-5);color:var(--blue-5);background-color:var(--faded-component-background)}.ToggleElementButton .Button.active .Icon{color:var(--blue-5)}.ToggleElementButton .Button{width:auto;min-width:32px;height:32px;padding:5px}.ToggleElementButton .Button.active{cursor:default}.ToggleElementButton .Button.active .Icon{color:var(--view-header-icon-active-fill)}.ToggleElementButton .Button.active .Icon svg path:not(.no-fill){fill:var(--view-header-icon-active-fill)}.ToggleElementButton.legacy-ui .Button:hover:not(:disabled){border:none;box-shadow:none;background-color:var(--blue-1)}.ToggleElementButton.is-mobile .Button.modular-ui.icon-only:hover:not(:disabled):not(.active){background-color:transparent;background-color:initial;color:#000;color:initial;box-shadow:none}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteHeader/NoteHeader.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NoteHeader{padding-inline-end:12px;position:relative;flex:1;color:var(--text-color);display:flex}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NoteHeader{flex:none}}.NoteHeader .type-icon{margin:2px;width:24px;height:24px}.NoteHeader .type-icon-container{padding-inline-end:13px}.NoteHeader .type-icon-container .unread-notification{position:absolute;width:13px;height:13px;inset-inline-end:-2px;inset-block-start:-2px;border-radius:10000px;border:2px solid var(--component-background);background:#00a5e4}.NoteHeader .author-and-date{flex:1;min-width:0;position:relative}.NoteHeader .author-and-date.isReply{padding-inline-start:0;padding-top:0;font-size:10px}.NoteHeader .author-and-date .author-and-overflow{display:flex;justify-content:space-between}.NoteHeader .author-and-date .author-and-overflow .author-and-time{display:flex;flex-direction:column;word-break:break-word}.NoteHeader .author-and-date .author-and-overflow .author-and-time .author{font-weight:700;font-size:13px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies{display:flex}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px;color:var(--faded-text)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container{display:flex;flex-grow:1;padding-inline-start:10px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-reply-icon{height:12px;width:12px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:10px;color:var(--gray-7)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow{display:flex;flex:1;justify-content:flex-end}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow>*{pointer-events:auto}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper .tracked-change-icon{margin:2px;width:24px;height:24px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.accept{background-color:#d5f5ca}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.reject{background-color:#ffe8e8}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button{width:28px;height:28px;margin:0 8px 0 13px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button .Icon{width:20px;height:20px}.NoteHeader .author-name{font-weight:700}.NoteHeader .note-popup-toggle-trigger{padding:0;margin-inline-end:0!important;margin-inline-start:0!important;min-width:28px!important}.NoteHeader .note-popup-toggle-trigger .Icon{width:24px!important;height:24px!important}.parent{padding-inline-start:12px;padding-top:12px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotePopup/NotePopup.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NotePopup .options.modular-ui .option:hover{cursor:pointer;background:var(--primary-button-hover);color:var(--gray-0)}.NotePopup{flex-grow:0;display:flex;justify-content:flex-end;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:28px;height:28px;position:relative}.NotePopup .Button.overflow{width:28px;height:28px;border-radius:4px;display:flex;justify-content:center;align-items:center}.NotePopup .Button.overflow .Icon{width:24px;height:24px}.NotePopup .Button.overflow:hover{background:var(--blue-1)}.NotePopup .Button.overflow.active{background:var(--popup-button-active)}.NotePopup .options{display:flex;flex-direction:column;box-shadow:0 0 3px 0 var(--box-shadow);z-index:80;position:absolute;border-radius:4px;background:var(--component-background);inset-block-start:40px;width:-moz-max-content;width:max-content}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NotePopup .options{inset-inline-end:0}}.NotePopup .options .note-popup-option{padding:0;border:none;background-color:transparent;align-items:flex-start}:host(:not([data-tabbing=true])) .NotePopup .options .note-popup-option,html:not([data-tabbing=true]) .NotePopup .options .note-popup-option{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .options .note-popup-option{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .options .note-popup-option{font-size:13px}}.NotePopup .options.options-reply{inset-block-start:30px}.NotePopup .options .option{display:flex;flex-direction:column;justify-content:center;height:28px;padding-inline-start:8px;padding-inline-end:17px;border-radius:0}.NotePopup .options .option:hover{background-color:var(--popup-button-hover)}.NotePopup .options .option:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.NotePopup .options .option:last-child{border-bottom-right-radius:4px}.NotePopup .Button{height:28px}.NotePopup .Button.active{background:var(--popup-button-active)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}.NotePopupFlyout{min-width:unset!important;max-width:unset!important}.NotePopupFlyout .flyout-item-container{height:unset!important;margin:unset!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/Button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Button/Button.js").A},"./src/components/Choice/Choice.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Choice/Choice.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js");__webpack_require__("./src/components/Choice/Choice.scss");const propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string},Choice=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({dataElement,...props},ref)=>(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>!!dataElement&&selectors__WEBPACK_IMPORTED_MODULE_3__.A.isElementDisabled(state,dataElement)))?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_6__.G,{...props,ref,center:!0})));Choice.displayName="Choice",Choice.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=Choice;Choice.__docgenInfo={description:"",methods:[],displayName:"Choice",props:{dataElement:{description:"",type:{name:"string"},required:!1}}}},"./src/components/Choice/Choice.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Choice/Choice.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Choice/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Choice/Choice.js").A},"./src/components/ModularComponents/NoteStateFlyout/NoteStateFlyout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,b:()=>noteStateFlyoutItems});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/dataElement.js"),actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js");const createFlyoutItem=(option,icon,dataElement)=>({icon,label:`option.state.${option.toLowerCase()}`,title:`option.state.${option.toLowerCase()}`,option,dataElement}),noteStateFlyoutItems=[createFlyoutItem("Accepted","icon-annotation-status-accepted","noteStateFlyoutAcceptedOption"),createFlyoutItem("Rejected","icon-annotation-status-rejected","noteStateFlyoutRejectedOption"),createFlyoutItem("Cancelled","icon-annotation-status-cancelled","noteStateFlyoutCancelledOption"),createFlyoutItem("Completed","icon-annotation-status-completed","noteStateFlyoutCompletedOption"),createFlyoutItem("None","icon-annotation-status-none","noteStateFlyoutNoneOption"),createFlyoutItem("Marked","icon-annotation-status-marked","noteStateFlyoutMarkedOption"),createFlyoutItem("Unmarked","icon-annotation-status-unmarked","noteStateFlyoutUnmarkedOption")],NoteStateFlyout=props=>{const{noteId,handleStateChange=()=>{},isMultiSelectMode=!1}=props,dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.wA)(),selectorSuffix=isMultiSelectMode?"":`-${noteId}`,flyoutSelector=`${src_constants_dataElement__WEBPACK_IMPORTED_MODULE_2__.A.NOTE_STATE_FLYOUT}${selectorSuffix}`,currentFlyout=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_4__.A.getFlyout(state,flyoutSelector)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const noteStateFlyout={dataElement:flyoutSelector,className:"NoteStateFlyout",items:noteStateFlyoutItems.map((item=>({...item,onClick:()=>{return noteState=item.option,void handleStateChange(noteState);var noteState}})))};dispatch(currentFlyout?actions__WEBPACK_IMPORTED_MODULE_3__.A.updateFlyout(noteStateFlyout.dataElement,noteStateFlyout):actions__WEBPACK_IMPORTED_MODULE_3__.A.addFlyout(noteStateFlyout))}),[handleStateChange]),null};NoteStateFlyout.propTypes={noteId:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,handleStateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,isMultiSelectMode:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool};const __WEBPACK_DEFAULT_EXPORT__=NoteStateFlyout},"./src/components/ModularComponents/NoteStateFlyout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/NoteStateFlyout/NoteStateFlyout.js").A},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/actions/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),components_Button__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss"),__webpack_require__("./src/components/Button/index.js")),hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useFocusHandler/index.js"),helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/getDeviceSize.js"),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);const ToggleElementButton=props=>{const buttonRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),isMobile=(0,helpers_getDeviceSize__WEBPACK_IMPORTED_MODULE_8__.IS)(),{dataElement,title,disabled,img,label,toggleElement,setFlyoutTriggerRef=null,onToggle,className,onClick:customOnClick=null}=props,isActive=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementOpen(state,toggleElement))),flyoutMap=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFlyoutMap,react_redux__WEBPACK_IMPORTED_MODULE_3__.bN),isToggleElementDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,toggleElement))),isButtonDisabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,dataElement))),customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(selectors__WEBPACK_IMPORTED_MODULE_2__.A.getFeatureFlags)?.customizableUI,[isElementActive,setIsElementActive]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isActive),[isElementDisabled,setIsElementDisabled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(disabled),isFlyoutItem=!!flyoutMap?.[toggleElement];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementActive(isActive),onToggle&&onToggle(isActive)}),[isActive]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsElementDisabled(isToggleElementDisabled||disabled)}),[isToggleElementDisabled,disabled]);const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.wA)(),onClickFocusWrapped=(0,hooks_useFocusHandler__WEBPACK_IMPORTED_MODULE_7__.A)((event=>{event.stopPropagation(),customOnClick&&customOnClick(event),isFlyoutItem&&(setFlyoutTriggerRef?setFlyoutTriggerRef():dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.setFlyoutToggleElement(dataElement))),dispatch(actions__WEBPACK_IMPORTED_MODULE_4__.A.toggleElement(toggleElement))}));return isButtonDisabled?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()({ToggleElementButton:!0,"legacy-ui":!customizableUI,"is-mobile":isMobile}),ref:buttonRef,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_Button__WEBPACK_IMPORTED_MODULE_6__.A,{isActive:isElementActive,dataElement,img,label,title,onClick:onClickFocusWrapped,disabled:isElementDisabled,className,ariaPressed:isFlyoutItem?void 0:isElementActive,ariaExpanded:isFlyoutItem?isElementActive:void 0,...props,children:props.children})})};ToggleElementButton.propTypes={dataElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,img:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number]),toggleElement:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,setFlyoutTriggerRef:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=ToggleElementButton;ToggleElementButton.__docgenInfo={description:"",methods:[],displayName:"ToggleElementButton",props:{dataElement:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},toggleElement:{description:"",type:{name:"string"},required:!0},setFlyoutTriggerRef:{description:"",type:{name:"func"},required:!1},className:{description:"",type:{name:"string"},required:!1},onToggle:{description:"",type:{name:"func"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/ToggleElementButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/ToggleElementButton.js").A},"./src/components/Note/Context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext()},"./src/components/NoteHeader/NoteHeader.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteHeader/NoteHeader.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteHeader/NoteHeader.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,BasicWithAnnotationNumbering:()=>BasicWithAnnotationNumbering,BasicWithTrackedChange:()=>BasicWithTrackedChange,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,testProps:()=>testProps,testPropsWithAnnotationNumbering:()=>testPropsWithAnnotationNumbering,testPropsWithTrackedChange:()=>testPropsWithTrackedChange});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js")),components_NoteHeader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/NoteHeader/index.js"),_Note_Context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Note/Context.js"),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-redux/es/index.js"),helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/initialColorStates.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Note/NoteHeader",component:components_NoteHeader__WEBPACK_IMPORTED_MODULE_2__.A,includeStories:["Basic","BasicWithAnnotationNumbering","BasicWithTrackedChange"],excludeStories:["testProps"]},initialState={viewer:{disabledElements:{},customElementOverrides:{},activeDocumentViewerKey:1,openElements:{},flyoutMap:{}}};const store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.U1)({preloadedState:initialState,reducer:function rootReducer(state=initialState,action){return state},middleware:getDefaultMiddleware=>getDefaultMiddleware({serializableCheck:!1})}),context={pendingEditTextMap:{},pendingReplyMap:{},pendingAttachmentMap:{}},testProps={icon:"icon-tool-shape-rectangle",language:"en",noteDateFormat:"MMM D, LT",iconColor:"StrokeColor",annotation:{Author:"Mikel Landa",DateCreated:"2021-08-19T22:43:04.795Z",getReplies:()=>[1,2,3],getStatus:()=>"",isReply:()=>!1,getAssociatedNumber:()=>1,StrokeColor:{R:255,G:205,B:69,A:1,toHexString:()=>helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_5__.DI[0]},FillColor:{R:255,G:205,B:69,A:1,toHexString:()=>helpers_initialColorStates__WEBPACK_IMPORTED_MODULE_5__.DI[0]}},isReply:!1,isUnread:!1,renderAuthorName:()=>"Mikel Landa",isStateDisabled:!1,isEditing:!1};function Basic(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_4__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Note_Context__WEBPACK_IMPORTED_MODULE_3__.A.Provider,{value:context,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_NoteHeader__WEBPACK_IMPORTED_MODULE_2__.A,{...testProps})})})}const testPropsWithAnnotationNumbering={...testProps,showAnnotationNumbering:!0};function BasicWithAnnotationNumbering(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_4__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Note_Context__WEBPACK_IMPORTED_MODULE_3__.A.Provider,{value:context,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_NoteHeader__WEBPACK_IMPORTED_MODULE_2__.A,{...testPropsWithAnnotationNumbering})})})}const testPropsWithTrackedChange={...testProps,isTrackedChange:!0,isSelected:!0};function BasicWithTrackedChange(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_4__.Kq,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Note_Context__WEBPACK_IMPORTED_MODULE_3__.A.Provider,{value:context,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_NoteHeader__WEBPACK_IMPORTED_MODULE_2__.A,{...testPropsWithTrackedChange})})})}const __namedExportsOrder=["testProps","Basic","testPropsWithAnnotationNumbering","BasicWithAnnotationNumbering","testPropsWithTrackedChange","BasicWithTrackedChange"]},"./src/components/NoteHeader/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_NoteHeader});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),core=__webpack_require__("./src/core/index.js"),NotePopup=__webpack_require__("./src/components/NotePopup/NotePopup.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js");function NotePopupContainer(props){const[activeDocumentViewerKey]=(0,es.d4)((state=>[selectors.A.getActiveDocumentViewerKey(state)])),{annotation,setIsEditing,noteIndex}=props,[canModify,setCanModify]=react.useState(core.A.canModify(annotation)),[canModifyContents,setCanModifyContents]=react.useState(core.A.canModifyContents(annotation));react.useEffect((()=>{function onUpdateAnnotationPermission(){setCanModify(core.A.canModify(annotation,activeDocumentViewerKey)),setCanModifyContents(core.A.canModifyContents(annotation,activeDocumentViewerKey))}return onUpdateAnnotationPermission(),core.A.addEventListener("updateAnnotationPermission",onUpdateAnnotationPermission,void 0,activeDocumentViewerKey),()=>core.A.removeEventListener("updateAnnotationPermission",onUpdateAnnotationPermission,activeDocumentViewerKey)}),[annotation,activeDocumentViewerKey]);const passProps={handleEdit:react.useCallback((()=>{annotation instanceof window.Core.Annotations.FreeTextAnnotation&&core.A.getAnnotationManager(activeDocumentViewerKey).isFreeTextEditingEnabled()?core.A.getAnnotationManager(activeDocumentViewerKey).trigger("annotationDoubleClicked",annotation):setIsEditing(!0,noteIndex)}),[annotation,setIsEditing,noteIndex]),handleDelete:react.useCallback((()=>{core.A.deleteAnnotations([annotation,...annotation.getGroupedChildren()],void 0,activeDocumentViewerKey)}),[annotation]),isEditable:canModifyContents,isDeletable:canModify&&!annotation?.NoDelete,noteId:annotation?annotation.Id:""};return(0,jsx_runtime.jsx)(NotePopup.A,{...props,...passProps})}const NotePopup_NotePopupContainer=NotePopupContainer;NotePopupContainer.__docgenInfo={description:"",methods:[],displayName:"NotePopupContainer"};const components_NotePopup=NotePopup_NotePopupContainer;var NoteState=__webpack_require__("./src/components/NoteState/NoteState.js"),NoteStateUtils=__webpack_require__("./src/helpers/NoteStateUtils.js"),useFocusOnClose=__webpack_require__("./src/hooks/useFocusOnClose/index.js");const propTypes={annotation:prop_types_default().object};function NoteStateContainer(props){const activeDocumentViewerKey=(0,es.d4)((state=>selectors.A.getActiveDocumentViewerKey(state))),isNoteStateDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,"noteState"))),{annotation}=props,handleStateChange=(0,useFocusOnClose.A)((0,react.useCallback)((function handleStateChangeCallback(newValue){const stateAnnotation=(0,NoteStateUtils.H)(annotation,newValue,activeDocumentViewerKey);annotation.addReply(stateAnnotation);const annotationManager=core.A.getAnnotationManager(activeDocumentViewerKey);annotationManager.addAnnotation(stateAnnotation),annotationManager.trigger("addReply",[stateAnnotation,annotation,annotationManager.getRootAnnotation(annotation)])}),[annotation,activeDocumentViewerKey]));return!isNoteStateDisabled&&(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(NoteState.A,{handleStateChange,...props})})}NoteStateContainer.propTypes=propTypes;const NoteState_NoteStateContainer=NoteStateContainer;NoteStateContainer.__docgenInfo={description:"",methods:[],displayName:"NoteStateContainer",props:{annotation:{description:"",type:{name:"object"},required:!1}}};const components_NoteState=NoteState_NoteStateContainer;var Icon=__webpack_require__("./src/components/Icon/index.js"),Context=__webpack_require__("./src/components/Note/Context.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),Tooltip=__webpack_require__("./src/components/Tooltip/index.js");const NoteUnpostedCommentIndicator_propTypes={annotationId:prop_types_default().string,ariaLabel:prop_types_default().string,pendingEditTextMap:prop_types_default().object,pendingReplyMap:prop_types_default().object,pendingAttachmentMap:prop_types_default().object},NoteUnpostedCommentIndicator=({annotationId,ariaLabel,pendingEditTextMap,pendingReplyMap,pendingAttachmentMap})=>{const{t}=(0,useTranslation.B)(),[hasUnpostedComment,setHasUnpostedComment]=(0,react.useState)(!1),[hasUnpostedReply,setHasUnpostedReply]=(0,react.useState)(!1),[hasUnpostedAttachment,setHasUnpostedAttachment]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{setHasUnpostedComment(pendingEditTextMap[annotationId]?.length>0),setHasUnpostedReply(pendingReplyMap[annotationId]?.length>0),setHasUnpostedAttachment(pendingAttachmentMap[annotationId]?.length>0)}),[pendingEditTextMap,pendingReplyMap,pendingAttachmentMap]),hasUnpostedComment||hasUnpostedReply||hasUnpostedAttachment?(0,jsx_runtime.jsx)("div",{"data-element":"unpostedCommentIndicator",children:(0,jsx_runtime.jsx)(Tooltip.A,{content:t("message.unpostedComment"),children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Icon.A,{className:"type-icon",glyph:"icon-unposted-comment",ariaLabel})})})}):null};NoteUnpostedCommentIndicator.propTypes=NoteUnpostedCommentIndicator_propTypes;const NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicator=NoteUnpostedCommentIndicator;NoteUnpostedCommentIndicator.__docgenInfo={description:"",methods:[],displayName:"NoteUnpostedCommentIndicator",props:{annotationId:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"",type:{name:"string"},required:!1},pendingEditTextMap:{description:"",type:{name:"object"},required:!1},pendingReplyMap:{description:"",type:{name:"object"},required:!1},pendingAttachmentMap:{description:"",type:{name:"object"},required:!1}}};const NoteUnpostedCommentIndicatorContainer_propTypes={annotationId:prop_types_default().string,ariaLabel:prop_types_default().string},NoteUnpostedCommentIndicatorContainer=({annotationId,ariaLabel})=>{const isDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,"unpostedCommentIndicator"))),{pendingEditTextMap,pendingReplyMap,pendingAttachmentMap}=react.useContext(Context.A);return isDisabled?null:(0,jsx_runtime.jsx)(NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicator,{annotationId,ariaLabel,pendingEditTextMap,pendingReplyMap,pendingAttachmentMap})};NoteUnpostedCommentIndicatorContainer.propTypes=NoteUnpostedCommentIndicatorContainer_propTypes;const NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicatorContainer=NoteUnpostedCommentIndicatorContainer;NoteUnpostedCommentIndicatorContainer.__docgenInfo={description:"",methods:[],displayName:"NoteUnpostedCommentIndicatorContainer",props:{annotationId:{description:"",type:{name:"string"},required:!1},ariaLabel:{description:"",type:{name:"string"},required:!1}}};const components_NoteUnpostedCommentIndicator=NoteUnpostedCommentIndicator_NoteUnpostedCommentIndicatorContainer;var Choice=__webpack_require__("./src/components/Choice/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),getLatestActivityDate=__webpack_require__("./src/helpers/getLatestActivityDate.js"),getColor=__webpack_require__("./src/helpers/getColor.js"),helpers_color=__webpack_require__("./src/helpers/color.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),sortStrategies=__webpack_require__("./src/constants/sortStrategies.js"),theme=__webpack_require__("./src/constants/theme.js"),officeEditor=__webpack_require__("./src/constants/officeEditor.js"),commonColors=__webpack_require__("./src/constants/commonColors.js");__webpack_require__("./src/components/NoteHeader/NoteHeader.scss");const NoteHeader_propTypes={icon:prop_types_default().string,iconColor:prop_types_default().string,color:prop_types_default().string,fillColor:prop_types_default().string,annotation:prop_types_default().object,language:prop_types_default().string,noteDateFormat:prop_types_default().string,isSelected:prop_types_default().bool,setIsEditing:prop_types_default().func,notesShowLastUpdatedDate:prop_types_default().bool,isUnread:prop_types_default().bool,renderAuthorName:prop_types_default().func,isNoteStateDisabled:prop_types_default().bool,isEditing:prop_types_default().bool,noteIndex:prop_types_default().number,sortStrategy:prop_types_default().string,activeTheme:prop_types_default().string,isMultiSelected:prop_types_default().bool,isMultiSelectMode:prop_types_default().bool,handleMultiSelect:prop_types_default().func,isGroupMember:prop_types_default().bool,showAnnotationNumbering:prop_types_default().bool,isTrackedChange:prop_types_default().bool};function NoteHeader_NoteHeader(props){const{icon,iconColor,annotation,language,noteDateFormat,isSelected,setIsEditing,notesShowLastUpdatedDate,isReply,isUnread,renderAuthorName,isNoteStateDisabled,isEditing,noteIndex,sortStrategy,activeTheme,isMultiSelected,isMultiSelectMode,handleMultiSelect,isGroupMember,showAnnotationNumbering,timezone,isTrackedChange}=props,[t]=(0,useTranslation.B)();let date;const dateCreated=sortStrategy===sortStrategies.vr.MODIFIED_DATE||notesShowLastUpdatedDate&&sortStrategy!==sortStrategies.vr.CREATED_DATE?(0,getLatestActivityDate.A)(annotation):annotation.DateCreated;if(timezone&&dateCreated){const datetimeStr=dateCreated.toLocaleString("en-US",{timeZone:timezone});date=new Date(datetimeStr)}else date=dateCreated;const noteDateAndTime=date?dayjs_min_default()(date).locale(language).format(noteDateFormat):t("option.notesPanel.noteContent.noDate"),numberOfReplies=annotation.getReplies().length;let color=annotation[iconColor]?.toHexString?.();activeTheme===theme.A.DARK&&color&&(0,helpers_color.lw)(color)?color=commonColors.zb.white:activeTheme===theme.A.LIGHT&&color&&(0,helpers_color.vO)(color)&&(color=commonColors.zb.black);const fillColor=(0,getColor.A)(annotation.FillColor),annotationAssociatedNumber=annotation.getAssociatedNumber(),annotationDisplayedAssociatedNumber=`#${annotationAssociatedNumber} - `,authorAndDateClass=classnames_default()("author-and-date",{isReply}),noteHeaderClass=classnames_default()("NoteHeader",{parent:!isReply&&!isGroupMember});return(0,jsx_runtime.jsxs)("div",{className:noteHeaderClass,children:[!isReply&&(0,jsx_runtime.jsxs)("div",{className:"type-icon-container",children:[isUnread&&(0,jsx_runtime.jsx)("div",{className:"unread-notification"}),(0,jsx_runtime.jsx)(Icon.A,{className:"type-icon",glyph:icon,color,fillColor})]}),(0,jsx_runtime.jsx)("div",{className:authorAndDateClass,children:(0,jsx_runtime.jsxs)("div",{className:"author-and-overflow",children:[(0,jsx_runtime.jsxs)("div",{className:"author-and-time",children:[(0,jsx_runtime.jsxs)("div",{className:"author",children:[showAnnotationNumbering&&void 0!==annotationAssociatedNumber&&(0,jsx_runtime.jsx)("span",{className:"annotation-number",children:annotationDisplayedAssociatedNumber}),renderAuthorName(annotation)]}),(0,jsx_runtime.jsxs)("div",{className:"date-and-num-replies",children:[(0,jsx_runtime.jsxs)("div",{className:"date-and-time",children:[noteDateAndTime,isGroupMember&&` (Page ${annotation.PageNumber})`]}),numberOfReplies>0&&!isSelected&&(0,jsx_runtime.jsxs)("div",{className:"num-replies-container",children:[(0,jsx_runtime.jsx)(Icon.A,{className:"num-reply-icon",glyph:"icon-chat-bubble"}),(0,jsx_runtime.jsx)("div",{className:"num-replies",children:numberOfReplies})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"state-and-overflow",children:[isMultiSelectMode&&!isGroupMember&&!isReply&&(0,jsx_runtime.jsx)(Choice.A,{id:`note-multi-select-toggle_${annotation.Id}`,"aria-label":`${renderAuthorName(annotation)} ${t("option.notesPanel.toggleMultiSelect")}`,checked:isMultiSelected,onClick:e=>{e.preventDefault(),e.stopPropagation(),handleMultiSelect(!isMultiSelected)}}),(0,jsx_runtime.jsx)(components_NoteUnpostedCommentIndicator,{annotationId:annotation.Id,ariaLabel:`Unposted Comment, ${renderAuthorName(annotation)}, ${noteDateAndTime}`}),!isNoteStateDisabled&&!isReply&&!isMultiSelectMode&&!isGroupMember&&!isTrackedChange&&(0,jsx_runtime.jsx)(components_NoteState,{annotation,isSelected}),!isEditing&&isSelected&&!isMultiSelectMode&&!isGroupMember&&!isTrackedChange&&(0,jsx_runtime.jsx)(components_NotePopup,{noteIndex,annotation,setIsEditing,isReply}),isSelected&&isTrackedChange&&!isMultiSelectMode&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.A,{title:t("officeEditor.accept"),img:"icon-menu-checkmark",className:"tracked-change-icon-wrapper accept",onClick:()=>(trackedChangeAnnot=>{const trackedChangeId=trackedChangeAnnot.getCustomData(officeEditor.Rf);core.A.getOfficeEditor().acceptTrackedChange(trackedChangeId)})(annotation),iconClassName:"tracked-change-icon"}),(0,jsx_runtime.jsx)(Button.A,{title:t("officeEditor.reject"),img:"icon-close",className:"tracked-change-icon-wrapper reject",onClick:()=>(trackedChangeAnnot=>{const trackedChangeId=trackedChangeAnnot.getCustomData(officeEditor.Rf);core.A.getOfficeEditor().rejectTrackedChange(trackedChangeId)})(annotation),iconClassName:"tracked-change-icon"})]})]})]})})]})}NoteHeader_NoteHeader.propTypes=NoteHeader_propTypes;const components_NoteHeader_NoteHeader=NoteHeader_NoteHeader;NoteHeader_NoteHeader.__docgenInfo={description:"",methods:[],displayName:"NoteHeader",props:{icon:{description:"",type:{name:"string"},required:!1},iconColor:{description:"",type:{name:"string"},required:!1},color:{description:"",type:{name:"string"},required:!1},fillColor:{description:"",type:{name:"string"},required:!1},annotation:{description:"",type:{name:"object"},required:!1},language:{description:"",type:{name:"string"},required:!1},noteDateFormat:{description:"",type:{name:"string"},required:!1},isSelected:{description:"",type:{name:"bool"},required:!1},setIsEditing:{description:"",type:{name:"func"},required:!1},notesShowLastUpdatedDate:{description:"",type:{name:"bool"},required:!1},isUnread:{description:"",type:{name:"bool"},required:!1},renderAuthorName:{description:"",type:{name:"func"},required:!1},isNoteStateDisabled:{description:"",type:{name:"bool"},required:!1},isEditing:{description:"",type:{name:"bool"},required:!1},noteIndex:{description:"",type:{name:"number"},required:!1},sortStrategy:{description:"",type:{name:"string"},required:!1},activeTheme:{description:"",type:{name:"string"},required:!1},isMultiSelected:{description:"",type:{name:"bool"},required:!1},isMultiSelectMode:{description:"",type:{name:"bool"},required:!1},handleMultiSelect:{description:"",type:{name:"func"},required:!1},isGroupMember:{description:"",type:{name:"bool"},required:!1},showAnnotationNumbering:{description:"",type:{name:"bool"},required:!1},isTrackedChange:{description:"",type:{name:"bool"},required:!1}}};const components_NoteHeader=components_NoteHeader_NoteHeader},"./src/components/NotePopup/NotePopup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,s:()=>notePopupFlyoutItems});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./src/components/NotePopup/NotePopup.scss"),__webpack_require__("./node_modules/react-redux/es/index.js")),components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js");const createFlyoutItem=(option,icon,dataElement)=>({icon,label:`action.${option.toLowerCase()}`,title:`action.${option.toLowerCase()}`,option,dataElement}),notePopupFlyoutItems=[createFlyoutItem("Edit","","notePopupEdit"),createFlyoutItem("Delete","","notePopupDelete")],propTypes={handleEdit:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,handleDelete:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,isEditable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,isDeletable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,noteId:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string};function noop(){}function NotePopup(props){const{handleEdit=noop,handleDelete=noop,isEditable,isDeletable,isReply,noteId}=props,customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFeatureFlags(state)?.customizableUI)),flyoutSelector=`${src_constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.NOTE_POPUP_FLYOUT}-${noteId}`,[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.B)();if(!isEditable&&!isDeletable)return null;const notePopupButtonClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("overflow note-popup-toggle-trigger"),optionsClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("NotePopup options note-popup-options",{"options-reply":isReply,"modular-ui":customizableUI});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:optionsClass,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_8__.A,{dataElement:`notePopup-${noteId}`,className:notePopupButtonClass,img:"icon-tools-more",title:t("formField.formFieldPopup.options"),toggleElement:flyoutSelector,disabled:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NotePopupFlyout,{flyoutSelector,handleClick:selection=>{"Edit"===selection?handleEdit():"Delete"===selection&&handleDelete()},isEditable,isDeletable})]})}const NotePopupFlyout=({flyoutSelector,handleClick,isEditable,isDeletable})=>{const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.wA)(),currentFlyout=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.d4)((state=>selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFlyout(state,flyoutSelector))),[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.B)();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{let items=notePopupFlyoutItems;isEditable?isDeletable||(items=items.filter((item=>"Delete"!==item.option))):items=items.filter((item=>"Edit"!==item.option));const notePopupFlyout={dataElement:flyoutSelector,className:"NotePopupFlyout",items:items.map((item=>({...item,label:t(item.label),title:t(item.title),onClick:()=>handleClick(item.option)})))};dispatch(currentFlyout?actions__WEBPACK_IMPORTED_MODULE_5__.A.updateFlyout(notePopupFlyout.dataElement,notePopupFlyout):actions__WEBPACK_IMPORTED_MODULE_5__.A.addFlyout(notePopupFlyout))}),[isEditable,isDeletable]),null};NotePopupFlyout.propTypes={flyoutSelector:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,handleClick:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,isEditable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,isDeletable:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool},NotePopup.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=NotePopup;NotePopup.__docgenInfo={description:"",methods:[],displayName:"NotePopup",props:{handleEdit:{description:"",type:{name:"func"},required:!1},handleDelete:{description:"",type:{name:"func"},required:!1},isEditable:{description:"",type:{name:"bool"},required:!1},isDeletable:{description:"",type:{name:"bool"},required:!1},noteId:{description:"",type:{name:"string"},required:!1}}}},"./src/components/NotePopup/NotePopup.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NotePopup/NotePopup.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/NoteState/NoteState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/prop-types/index.js")),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),components_ModularComponents_NoteStateFlyout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ModularComponents/NoteStateFlyout/index.js"),components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ModularComponents/ToggleElementButton/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/dataElement.js");const propTypes={annotation:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object.isRequired,handleStateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};function NoteState(props){const{annotation,handleStateChange=()=>{}}=props,[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.B)(),annotationState=annotation.getStatus(),icon=`icon-annotation-status-${""===annotationState?"none":annotationState.toLowerCase()}`,id=annotation.Id;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_ToggleElementButton__WEBPACK_IMPORTED_MODULE_3__.A,{dataElement:`noteState-${id}`,title:t("option.notesOrder.status"),img:icon,toggleElement:`${constants_dataElement__WEBPACK_IMPORTED_MODULE_4__.A.NOTE_STATE_FLYOUT}-${id}`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_ModularComponents_NoteStateFlyout__WEBPACK_IMPORTED_MODULE_2__.A,{noteId:id,handleStateChange})]})}NoteState.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=NoteState;NoteState.__docgenInfo={description:"",methods:[],displayName:"NoteState",props:{annotation:{description:"",type:{name:"object"},required:!0},handleStateChange:{description:"",type:{name:"func"},required:!1}}}},"./src/helpers/NoteStateUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>createStateAnnotation});var i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/index.js");function createStateAnnotation(annotation,state,documentViewerKey=1){const stateAnnotation=new window.Core.Annotations.StickyAnnotation;stateAnnotation.InReplyTo=annotation.Id,stateAnnotation.X=annotation.X,stateAnnotation.Y=annotation.Y,stateAnnotation.PageNumber=annotation.PageNumber,stateAnnotation.Subject="Sticky Note",stateAnnotation.Author=core__WEBPACK_IMPORTED_MODULE_1__.A.getCurrentUser(),stateAnnotation.State=state,stateAnnotation.StateModel="Marked"===state||"Unmarked"===state?"Marked":"Review",stateAnnotation.Hidden=!0,stateAnnotation.enableSkipAutoLink();const displayAuthor=core__WEBPACK_IMPORTED_MODULE_1__.A.getDisplayAuthor(stateAnnotation.Author,documentViewerKey),contents=`${i18next__WEBPACK_IMPORTED_MODULE_0__.A.t(`option.state.${state.toLowerCase()}`)} ${i18next__WEBPACK_IMPORTED_MODULE_0__.A.t("option.state.setBy")} ${displayAuthor}`;return stateAnnotation.setContents(contents),stateAnnotation}},"./src/helpers/getColor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=color=>(color?.toHexString?.()||"").substring(1)},"./src/helpers/getDeviceSize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$p:()=>isTabletAndMobileSize,IS:()=>isMobileSize,sf:()=>isTabletSize,ud:()=>isDesktopSize});var _getRootNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/getRootNode.js"),hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/hooks/useMedia.js"),constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/deviceSizes.js");const isMobileSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j}px)`],[!0],!1),isTabletSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth>constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j&&(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(min-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.j+1}px) and (max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T}px)`],[!0],!1),isTabletAndMobileSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth<=constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(max-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T}px)`],[!0],!1),isDesktopSize=()=>window.isApryseWebViewerWebComponent?(0,_getRootNode__WEBPACK_IMPORTED_MODULE_1__.Ay)()?.host.clientWidth>constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T:(0,hooks_useMedia__WEBPACK_IMPORTED_MODULE_0__.A)([`(min-width: ${constants_deviceSizes__WEBPACK_IMPORTED_MODULE_2__.T+1}px)`],[!0],!1)},"./src/helpers/initialColorStates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DI:()=>initialColors,Lo:()=>defaultBorderColor,T2:()=>defaultCellStyle,eQ:()=>defaultTextColor,kD:()=>initialTextColors,lG:()=>defaultBackgroundColor});const initialColors=["#e44234","#ff8d00","#ffcd45","#5cc96e","#25d2d1","#597ce2","#c544ce","#7d2e25","#a84f1d","#e99e38","#347842","#167e7d","#354a87","#76287b","#ffffff","#cdcdcd","#9c9c9c","#696969","#272727","#000000"],initialTextColors=["#000000","#272727","#696969","#9c9c9c","#cdcdcd","#ffffff","#7d2e25","#a84f1d","#e99e38","#347842","#167e7d","#354a87","#76287b","#e44234","#ff8d00","#ffcd45","#5cc96e","#25d2d1","#597ce2","#c544ce"],defaultBackgroundColor="#FFFFFF00",defaultTextColor="#000000",defaultBorderColor="#000000",defaultCellStyle={verticalAlignment:2,horizontalAlignment:1,font:{fontFace:"Arial",pointSize:8,bold:!1,italic:!1,underline:!1,strikeout:!1,color:defaultTextColor},backgroundColor:null,getCellBorder:()=>({})}},"./src/hooks/useFocusHandler/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useFocusHandler});var focusStackManager=__webpack_require__("./src/helpers/focusStackManager.js");const hooks_useFocusHandler=handler=>e=>{if(!e)return void handler();const{nativeEvent}=e,dataElement=e.currentTarget.getAttribute("data-element");if(!dataElement)return console.warn("You used the useFocusHandler hook on an element without a data-element attribute. Please add a dataElement for the focus transfer to work correctly."),void handler(e);"mouse"===nativeEvent.pointerType||nativeEvent.detail>0?focusStackManager.A.clear():""!==nativeEvent.pointerType&&void 0!==nativeEvent.pointerType||focusStackManager.A.push(dataElement),handler(e)}},"./src/hooks/useFocusOnClose/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useFocusOnClose});var react=__webpack_require__("./node_modules/react/index.js"),getRootNode=__webpack_require__("./src/helpers/getRootNode.js"),focusStackManager=__webpack_require__("./src/helpers/focusStackManager.js");const hooks_useFocusOnClose=(onCloseClick,preferredFocusElement="")=>(0,react.useCallback)((event=>{onCloseClick(event);const dataElement=focusStackManager.A.pop(),elementSelectorToFocus=preferredFocusElement||dataElement;if(elementSelectorToFocus){const elementToFocus=(0,getRootNode.Ay)().querySelector(`[data-element="${elementSelectorToFocus}"]`);elementToFocus&&requestAnimationFrame((()=>{elementToFocus.focus()}))}}),[onCloseClick])},"./src/hooks/useMedia.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(queries,values,defaultValue)=>{const mediaQueryLists=queries.map((q=>window.matchMedia(`screen and ${q}`))),getValue=initial=>{initial&&window.innerWidth;const index=mediaQueryLists.findIndex((mql=>mql?.matches));return void 0!==values[index]?values[index]:defaultValue},[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>getValue(!0)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const handler=()=>setValue((()=>getValue()));return mediaQueryLists.forEach((mql=>mql?.addListener(handler))),()=>mediaQueryLists.forEach((mql=>mql?.removeListener(handler)))}),[]),value}}}]);