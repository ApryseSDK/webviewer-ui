(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[9895],{"./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Input/Input.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>Input});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/node_modules/tslib/tslib.es6.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_hooks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/hooks/useFocus.js"),_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Icon/Icon.js"),Input=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function(_a,ref){var _b=_a.message,message=void 0===_b?"default":_b,messageText=_a.messageText,fillWidth=_a.fillWidth,wrapperClassName=_a.wrapperClassName,padMessageText=_a.padMessageText,className=_a.className,onFocus=_a.onFocus,onBlur=_a.onBlur,rightElement=_a.rightElement,leftElement=_a.leftElement,_c=_a.type,type=void 0===_c?"text":_c,props=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Tt)(_a,["message","messageText","fillWidth","wrapperClassName","padMessageText","className","onFocus","onBlur","rightElement","leftElement","type"]),_d=(0,_hooks__WEBPACK_IMPORTED_MODULE_3__.i)(onFocus,onBlur),focused=_d.focused,handleOnFocus=_d.handleOnFocus,handleOnBlur=_d.handleOnBlur,rightIcon=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){if(rightElement)return rightElement;var icon=void 0;switch(message){case"warning":icon="Warning";break;case"error":icon="Error"}return icon?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{className:"ui__input__icon",icon}):void 0}),[message,rightElement]),wrapperClass=classnames__WEBPACK_IMPORTED_MODULE_0___default()("ui__base ui__input__wrapper",{"ui__input__wrapper--fill":fillWidth,"ui__input__wrapper--pad":padMessageText&&!messageText},wrapperClassName),mainClass=classnames__WEBPACK_IMPORTED_MODULE_0___default()("ui__input","ui__input--message-"+message,{"ui__input--focused":focused}),inputClass=classnames__WEBPACK_IMPORTED_MODULE_0___default()("ui__input__input",{"ui__input__input--disabled":props.disabled},className);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:wrapperClass},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:mainClass},leftElement,react__WEBPACK_IMPORTED_MODULE_1__.createElement("input",(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},props,{type,onFocus:handleOnFocus,onBlur:handleOnBlur,className:inputClass,ref})),rightIcon),messageText?react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"ui__input__messageText"},messageText):void 0)}))},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioItem/PortfolioItem.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioItemContent/PortfolioItemContent.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row{align-items:center}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row.editing.focus-visible,.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row.editing:focus-visible{outline:var(--focus-visible-outline)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input-label{font-weight:600;padding-bottom:var(--padding-small)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input{-webkit-font-smoothing:antialiased}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input{border-color:var(--border)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-warning{border-color:var(--error-border-color)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-warning.ui__input--focused{box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-warning .ui__input__icon svg{fill:var(--error-border-color)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-default.ui__input--focused{border-color:var(--outline-color);box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input{padding:var(--padding-small);color:var(--text-color);height:auto;overflow:auto;line-height:normal}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::-moz-placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input__messageText{color:var(--error-text-color);margin-top:var(--padding-small);font-size:inherit}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioPanel/PortfolioPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PortfolioPanel .portfolio-panel-control{display:flex}.PortfolioPanel .bookmark-outline-row{padding-top:6px}.PortfolioPanel .bookmark-outline-panel-header .header-title{font-size:16px;font-weight:400;margin:0}.PortfolioPanel .portfolio-panel-list{padding-top:8px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/PortfolioItem/PortfolioItem.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioItem/PortfolioItem.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PortfolioItemContent/PortfolioItemContent.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioItemContent/PortfolioItemContent.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PortfolioPanel/PortfolioPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/PortfolioPanel/PortfolioPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/PortfolioItemContent/PortfolioItemContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/MoreOptionsContextMenuFlyout/MoreOptionsContextMenuFlyout.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/dataElement.js"),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js"),_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Input/Input.js"),components_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Button/index.js"),components_PortfolioPanel_PortfolioContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/PortfolioPanel/PortfolioContext.js"),helpers_portfolio__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/portfolio.js"),_PanelListItem_PanelListItem__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./src/constants/bookmarksOutlinesShared.scss"),__webpack_require__("./src/components/PortfolioItemContent/PortfolioItemContent.scss"),__webpack_require__("./src/components/PanelListItem/PanelListItem.js")),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={portfolioItem:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object.isRequired,isPortfolioRenaming:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,setPortfolioRenaming:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func,movePortfolio:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func},PortfolioItemContent=function(param){var portfolioItem=param.portfolioItem,isPortfolioRenaming=param.isPortfolioRenaming,setPortfolioRenaming=param.setPortfolioRenaming,movePortfolio=param.movePortfolio,_useContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(components_PortfolioPanel_PortfolioContext__WEBPACK_IMPORTED_MODULE_6__.A),refreshPortfolio=_useContext.refreshPortfolio,renamePortfolioItem=_useContext.renamePortfolioItem,removePortfolioItem=_useContext.removePortfolioItem,openPortfolioItem=_useContext.openPortfolioItem,downloadPortfolioItem=_useContext.downloadPortfolioItem,isNameDuplicated=_useContext.isNameDuplicated,setActivePortfolioItem=_useContext.setActivePortfolioItem,name=portfolioItem.name,nameWithoutExtension=portfolioItem.nameWithoutExtension,extension=portfolioItem.extension,id=portfolioItem.id,t=_sliced_to_array((0,react_i18next__WEBPACK_IMPORTED_MODULE_13__.B)(),1)[0],inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isDefault=_useState[0],setIsDefault=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(nameWithoutExtension),2),portfolioEditName=_useState1[0],setPortfolioEditName=_useState1[1],onDoubleClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){isPortfolioRenaming||(openPortfolioItem(portfolioItem),setActivePortfolioItem(portfolioItem.id))}),[isPortfolioRenaming,portfolioItem,openPortfolioItem,setActivePortfolioItem]),isRenameButtonDisabled=function(){return!portfolioEditName||nameWithoutExtension===portfolioEditName||isNameDuplicated("".concat(portfolioEditName,".").concat(extension),id)},onRenamePortfolioItem=function(){setPortfolioRenaming(!1),renamePortfolioItem(id,"".concat(portfolioEditName,".").concat(extension))},onCancelPortfolio=function(){isPortfolioRenaming&&(setPortfolioRenaming(!1),setPortfolioEditName(nameWithoutExtension)),refreshPortfolio()};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){isPortfolioRenaming&&(inputRef.current.focus(),inputRef.current.select()),setIsDefault(!isPortfolioRenaming)}),[isPortfolioRenaming]);var flyoutSelector="".concat(constants_dataElement__WEBPACK_IMPORTED_MODULE_3__.A.BOOKMARK_OUTLINE_FLYOUT,"-").concat(id),currentFlyout=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((function(state){return selectors__WEBPACK_IMPORTED_MODULE_4__.A.getFlyout(state,flyoutSelector)})),contextMenuMoreButtonOptions={moreOptionsDataElement:"portfolio-item-more-button-".concat(id),flyoutToggleElement:flyoutSelector},contentMenuFlyoutOptions={shouldHideDeleteButton:!1,currentFlyout,flyoutSelector,type:"portfolio",handleOnClick:function(val){switch(val){case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.MOVE_UP:case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.MOVE_DOWN:movePortfolio(id,val);break;case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.OPENFILE:(0,helpers_portfolio__WEBPACK_IMPORTED_MODULE_7__.zU)(extension)&&openPortfolioItem(portfolioItem);break;case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.RENAME:setPortfolioRenaming(!0);break;case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.DOWNLOAD:downloadPortfolioItem(portfolioItem);break;case _MoreOptionsContextMenuFlyout_MoreOptionsContextMenuFlyout__WEBPACK_IMPORTED_MODULE_2__.NN.DELETE:removePortfolioItem(id)}}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-single-container"},isDefault&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PanelListItem_PanelListItem__WEBPACK_IMPORTED_MODULE_10__.A,{iconGlyph:"icon-header-page-manipulation-page-layout-single-page-line",labelHeader:name,enableMoreOptionsContextMenuFlyout:!0,onDoubleClick,contextMenuMoreButtonOptions,contentMenuFlyoutOptions}),isPortfolioRenaming&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_11___default()({"bookmark-outline-label-row":!0,editing:isPortfolioRenaming})},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"portfolio-input-label",htmlFor:id},t("portfolio.portfolioDocumentTitle")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_pdftron_webviewer_react_toolkit__WEBPACK_IMPORTED_MODULE_14__.p,{id,type:"text",name:"outline",ref:inputRef,wrapperClassName:"portfolio-input",value:portfolioEditName,onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),isPortfolioRenaming&&!isRenameButtonDisabled()&&onRenamePortfolioItem()),"Escape"===e.key&&onCancelPortfolio()},onChange:function(e){return setPortfolioEditName(e.target.value)},fillWidth:!0,messageText:isNameDuplicated("".concat(portfolioEditName,".").concat(extension),id)?t("portfolio.fileNameAlreadyExists"):"",message:isNameDuplicated("".concat(portfolioEditName,".").concat(extension),id)?"warning":"default","aria-label":"".concat(t("action.rename")," ").concat(portfolioEditName,".").concat(extension)}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-editing-controls"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-cancel-button",label:t("action.cancel"),onClick:onCancelPortfolio}),isPortfolioRenaming&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-save-button",label:t("action.save"),isSubmitType:!0,disabled:isRenameButtonDisabled(),onClick:onRenamePortfolioItem}))))};PortfolioItemContent.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=PortfolioItemContent;PortfolioItemContent.__docgenInfo={description:"",methods:[],displayName:"PortfolioItemContent",props:{portfolioItem:{description:"",type:{name:"object"},required:!0},isPortfolioRenaming:{description:"",type:{name:"bool"},required:!1},setPortfolioRenaming:{description:"",type:{name:"func"},required:!1},movePortfolio:{description:"",type:{name:"func"},required:!1}}}},"./src/components/PortfolioPanel/PortfolioContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext()},"./src/components/PortfolioPanel/PortfolioPanel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_PortfolioPanel_PortfolioPanel});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DndProvider=__webpack_require__("./node_modules/react-dnd/dist/esm/core/DndProvider.js"),esm=__webpack_require__("./node_modules/react-dnd-touch-backend/dist/esm/index.js"),dist_esm=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),actions=__webpack_require__("./src/redux/actions/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),PortfolioContext=__webpack_require__("./src/components/PortfolioPanel/PortfolioContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),DropTarget=__webpack_require__("./node_modules/react-dnd/dist/esm/decorators/DropTarget.js"),DragSource=__webpack_require__("./node_modules/react-dnd/dist/esm/decorators/DragSource.js"),getEmptyImage=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"),dnd=__webpack_require__("./src/constants/dnd.js"),PortfolioItemContent=__webpack_require__("./src/components/PortfolioItemContent/PortfolioItemContent.js");const components_PortfolioItemContent=PortfolioItemContent.A;PortfolioItemContent.A.__docgenInfo={description:"",methods:[],displayName:"PortfolioItemContent",props:{portfolioItem:{description:"",type:{name:"object"},required:!0},isPortfolioRenaming:{description:"",type:{name:"bool"},required:!1},setPortfolioRenaming:{description:"",type:{name:"func"},required:!1},movePortfolio:{description:"",type:{name:"func"},required:!1}}};__webpack_require__("./src/components/PortfolioItem/PortfolioItem.scss");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={portfolioItem:prop_types_default().object.isRequired,connectDragSource:prop_types_default().func,connectDragPreview:prop_types_default().func,connectDropTarget:prop_types_default().func,isDragging:prop_types_default().bool,isDraggedUpwards:prop_types_default().bool,isDraggedDownwards:prop_types_default().bool,movePortfolio:prop_types_default().func},PortfolioItem_PortfolioItem=(0,react.forwardRef)((function(param,ref){var portfolioItem=param.portfolioItem,connectDragSource=param.connectDragSource,connectDragPreview=param.connectDragPreview,connectDropTarget=param.connectDropTarget,isDragging=param.isDragging,isDraggedUpwards=param.isDraggedUpwards,isDraggedDownwards=param.isDraggedDownwards,movePortfolio=param.movePortfolio,elementRef=(0,react.useRef)(null);connectDragSource(elementRef),connectDragPreview((0,getEmptyImage.n)(),{captureDraggingState:!0}),connectDropTarget(elementRef);var opacity=isDragging?.5:1;(0,react.useImperativeHandle)(ref,(function(){return{getNode:function(){return elementRef.current}}}));var _useState=_sliced_to_array((0,react.useState)(!1),2),isRenaming=_useState[0],setIsRenaming=_useState[1];return react.createElement("div",{ref:elementRef,className:"outline-drag-container",style:{opacity}},react.createElement("div",{className:"outline-drag-line",style:{opacity:isDraggedUpwards?1:0}}),react.createElement(components_PortfolioItemContent,{movePortfolio,portfolioItem,isPortfolioRenaming:isRenaming,setPortfolioRenaming:setIsRenaming}),react.createElement("div",{className:"outline-drag-line",style:{opacity:isDraggedDownwards?1:0}}))}));PortfolioItem_PortfolioItem.propTypes=propTypes,PortfolioItem_PortfolioItem.displayName="PortfolioItem";var PortfolioItemNested=(0,DropTarget.T)(dnd.ll.PORTFOLIO,{hover:function hover(props,dropTargetMonitor,dropTargetContainer){if(dropTargetContainer){var dragObject=dropTargetMonitor.getItem();if(dragObject){var dragPortfolioItem=dragObject.dragPortfolioItem,dragSourceNode=dragObject.dragSourceNode,dropPortfolioItem=props.portfolioItem,dropTargetNode=dropTargetContainer.getNode();if(dragSourceNode&&dropTargetNode){if(dragSourceNode.contains(dropTargetNode))return dragObject.dropTargetNode=void 0,void(dragObject.dropLocation=dnd.V7.INITIAL);if(dragObject.dropTargetNode=dropTargetNode,dragPortfolioItem.id!==dropPortfolioItem.id){var dropTargetBoundingRect=dropTargetNode.getBoundingClientRect(),dropTargetVerticalMiddlePoint=dropTargetBoundingRect.height/2+dropTargetBoundingRect.top,dropTargetClientY=dropTargetMonitor.getClientOffset().y;switch(!0){case dropTargetClientY>dropTargetVerticalMiddlePoint:dragObject.dropLocation=dnd.V7.BELOW_TARGET,dropTargetNode.classList.remove("isNesting");break;case dropTargetClientY<dropTargetVerticalMiddlePoint:dragObject.dropLocation=dnd.V7.ABOVE_TARGET,dropTargetNode.classList.remove("isNesting");break;default:dragObject.dropLocation=dnd.V7.INITIAL,dropTargetNode.classList.remove("isNesting")}}}}}},drop:function drop(props,dropTargetMonitor,dropTargetContainer){if(dropTargetContainer){var dragObject=dropTargetMonitor.getItem(),dragPortfolioItem=dragObject.dragPortfolioItem,dropTargetNode=dragObject.dropTargetNode,dropPortfolioItem=props.portfolioItem,movePortfolioInward=props.movePortfolioInward,movePortfolioBeforeTarget=props.movePortfolioBeforeTarget,movePortfolioAfterTarget=props.movePortfolioAfterTarget;if(dropTargetNode){switch(dragObject.dropLocation){case dnd.V7.ON_TARGET_HORIZONTAL_MIDPOINT:movePortfolioInward(dragPortfolioItem,dropPortfolioItem);break;case dnd.V7.ABOVE_TARGET:movePortfolioBeforeTarget(dragPortfolioItem.id,dropPortfolioItem.id);break;case dnd.V7.BELOW_TARGET:movePortfolioAfterTarget(dragPortfolioItem.id,dropPortfolioItem.id)}dropTargetNode.classList.remove("isNesting"),dragObject.dropLocation=dnd.V7.INITIAL}}}},(function(connect,dropTargetState){var _dropTargetState_getItem,_dropTargetState_getItem1;return{connectDropTarget:connect.dropTarget(),isDraggedUpwards:dropTargetState.isOver({shallow:!0})&&(null===(_dropTargetState_getItem=dropTargetState.getItem())||void 0===_dropTargetState_getItem?void 0:_dropTargetState_getItem.dropLocation)===dnd.V7.ABOVE_TARGET,isDraggedDownwards:dropTargetState.isOver({shallow:!0})&&(null===(_dropTargetState_getItem1=dropTargetState.getItem())||void 0===_dropTargetState_getItem1?void 0:_dropTargetState_getItem1.dropLocation)===dnd.V7.BELOW_TARGET}}))((0,DragSource.I)(dnd.ll.PORTFOLIO,{beginDrag:function(props,dragSourceMonitor,dragSourceContainer){return{sourceId:dragSourceMonitor.sourceId,dragPortfolioItem:props.portfolioItem,dragSourceNode:dragSourceContainer.getNode(),dropLocation:dnd.V7.INITIAL}},canDrag:function(){return!0}},(function(connect,dragSourceState){return{connectDragSource:connect.dragSource(),connectDragPreview:connect.dragPreview(),isDragging:dragSourceState.isDragging()}}))(PortfolioItem_PortfolioItem));PortfolioItemNested.propTypes=propTypes;const components_PortfolioItem_PortfolioItem=PortfolioItemNested;PortfolioItem_PortfolioItem.__docgenInfo={description:"",methods:[{name:"getNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PortfolioItem",props:{portfolioItem:{description:"",type:{name:"object"},required:!0},connectDragSource:{description:"",type:{name:"func"},required:!1},connectDragPreview:{description:"",type:{name:"func"},required:!1},connectDropTarget:{description:"",type:{name:"func"},required:!1},isDragging:{description:"",type:{name:"bool"},required:!1},isDraggedUpwards:{description:"",type:{name:"bool"},required:!1},isDraggedDownwards:{description:"",type:{name:"bool"},required:!1},movePortfolio:{description:"",type:{name:"func"},required:!1}}};const components_PortfolioItem=components_PortfolioItem_PortfolioItem;components_PortfolioItem_PortfolioItem.__docgenInfo={description:"",methods:[{name:"getNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PortfolioItem",props:{portfolioItem:{description:"",type:{name:"object"},required:!0},connectDragSource:{description:"",type:{name:"func"},required:!1},connectDragPreview:{description:"",type:{name:"func"},required:!1},connectDropTarget:{description:"",type:{name:"func"},required:!1},isDragging:{description:"",type:{name:"bool"},required:!1},isDraggedUpwards:{description:"",type:{name:"bool"},required:!1},isDraggedDownwards:{description:"",type:{name:"bool"},required:!1},movePortfolio:{description:"",type:{name:"func"},required:!1}}};var useDragLayer=__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDragLayer.js"),layerStyles={position:"fixed",pointerEvents:"none",zIndex:99999,left:0,top:0,width:"100%",height:"100%"},getItemStyles=function(initialOffset,currentOffset){if(!initialOffset||!currentOffset)return{display:"none"};var x=currentOffset.x,y=currentOffset.y,transform="translate(calc(".concat(x,"px - 50%), calc(").concat(y,"px - 100%))");return{transform,WebkitTransform:transform}},PortfolioDragLayer=function(){var _useDragLayer=(0,useDragLayer.V)((function(dragLayerState){return{itemType:dragLayerState.getItemType(),item:dragLayerState.getItem(),isDragging:dragLayerState.isDragging(),initialOffset:dragLayerState.getInitialSourceClientOffset(),currentOffset:dragLayerState.getClientOffset()}})),itemType=_useDragLayer.itemType,item=_useDragLayer.item,isDragging=_useDragLayer.isDragging,initialOffset=_useDragLayer.initialOffset,currentOffset=_useDragLayer.currentOffset;return isDragging?react.createElement("div",{style:layerStyles},react.createElement("div",{className:"bookmark-outline-single-container preview",style:getItemStyles(initialOffset,currentOffset)},function(){if(!item)return null;var dragPortfolioItem=item.dragPortfolioItem;return itemType===dnd.ll.PORTFOLIO?react.createElement(react.Fragment,null,dragPortfolioItem.name):null}())):null};PortfolioDragLayer.__docgenInfo={description:"",methods:[],displayName:"PortfolioDragLayer"};var DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js"),device=__webpack_require__("./src/helpers/device.js"),TabManager=__webpack_require__("./src/helpers/TabManager.js"),portfolio=__webpack_require__("./src/helpers/portfolio.js"),core=__webpack_require__("./src/core/index.js"),MoreOptionsContextMenuFlyout=(__webpack_require__("./src/constants/bookmarksOutlinesShared.scss"),__webpack_require__("./src/components/PortfolioPanel/PortfolioPanel.scss"),__webpack_require__("./src/components/MoreOptionsContextMenuFlyout/MoreOptionsContextMenuFlyout.js"));function PortfolioPanel_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function PortfolioPanel_sliced_to_array(arr,i){return function PortfolioPanel_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function PortfolioPanel_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||PortfolioPanel_unsupported_iterable_to_array(arr,i)||function PortfolioPanel_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return PortfolioPanel_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||PortfolioPanel_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PortfolioPanel_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return PortfolioPanel_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PortfolioPanel_array_like_to_array(o,minLen):void 0}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var PortfolioPanel_PortfolioPanel=function(){var _ref,_useSelector=PortfolioPanel_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementDisabled(state,dataElement.A.PORTFOLIO_PANEL),selectors.A.getTabManager(state),selectors.A.getPortfolio(state)]}),es.bN),3),isDisabled=_useSelector[0],tabManager=_useSelector[1],portfolioFiles=_useSelector[2],dispatch=(0,es.wA)(),t=PortfolioPanel_sliced_to_array((0,useTranslation.B)(),1)[0],_useState=PortfolioPanel_sliced_to_array((0,react.useState)(null),2),activePortfolioItem=_useState[0],setActivePortfolioItem=_useState[1],_useState1=PortfolioPanel_sliced_to_array((0,react.useState)(!1),2),isAddingNewFolder=_useState1[0],setAddingNewFolder=_useState1[1],fileInputRef=(0,react.useRef)(null),onAddFile=function(){var _fileInputRef_current;null==fileInputRef||null===(_fileInputRef_current=fileInputRef.current)||void 0===_fileInputRef_current||_fileInputRef_current.click()},addNewFile=(_ref=_async_to_generator((function(e){var files,file,message,title,confirmBtnText,warning,doc,pdfDoc;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return 1!==(files=e.target.files).length?[3,4]:(file=files[0],portfolioFiles.some((function(item){return item.name===file.name}))?(message=t("portfolio.fileAlreadyExistsMessage",{fileName:file.name}),title=t("portfolio.fileAlreadyExists"),confirmBtnText=t("portfolio.reselect"),warning={message,title,confirmBtnText,onConfirm:function(){return onAddFile()}},dispatch(actions.A.showWarningMessage(warning)),[3,4]):[3,1]);case 1:return(doc=core.A.getDocument())?[4,doc.getPDFDoc()]:[3,4];case 2:return(pdfDoc=_state.sent())?[4,(0,portfolio.sM)(pdfDoc,file)]:[3,4];case 3:_state.sent(),refreshPortfolio(),_state.label=4;case 4:return[2]}}))})),function addNewFile(e){return _ref.apply(this,arguments)}),renamePortfolioItem=function(){var _ref=_async_to_generator((function(id,newName){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,(0,portfolio.fm)(id,newName)];case 1:return _state.sent(),refreshPortfolio(),[2]}}))}));return function renamePortfolioItem(id,newName){return _ref.apply(this,arguments)}}(),refreshPortfolio=function(){var _ref=_async_to_generator((function(){var _;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return _=actions.A.setPortfolio,[4,(0,portfolio.Gi)()];case 1:return dispatch.apply(void 0,[_.apply(actions.A,[_state.sent()])]),setAddingNewFolder(!1),[2]}}))}));return function refreshPortfolio(){return _ref.apply(this,arguments)}}(),downloadPortfolioItem=function(){var _ref=_async_to_generator((function(portfolioItem){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return dispatch(actions.A.openElement(dataElement.A.LOADING_MODAL)),[4,(0,portfolio.x6)(portfolioItem)];case 1:return _state.sent(),dispatch(actions.A.closeElement(dataElement.A.LOADING_MODAL)),[2]}}))}));return function downloadPortfolioItem(portfolioItem){return _ref.apply(this,arguments)}}(),movePortfolioInward=function(dragItem,dropItem){console.log(dragItem.name,"Inward",dropItem.name)},moveFileInArray=function(){var _ref=_async_to_generator((function(portfolioFiles,dragItemId,dropItemId,moveDirection){var fileArray,fromIndex,dropItemIndex,moveToIndex,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_step_value,index,file,err;return _ts_generator(this,(function(_state){switch(_state.label){case 0:fileArray=_to_consumable_array(portfolioFiles),fromIndex=fileArray.findIndex((function(file){return file.id===dragItemId})),dropItemIndex=fileArray.findIndex((function(file){return file.id===dropItemId})),moveToIndex=dropItemIndex,moveDirection===dnd.V7.ABOVE_TARGET&&fromIndex<dropItemIndex&&(moveToIndex=dropItemIndex-1),moveDirection===dnd.V7.BELOW_TARGET&&fromIndex>dropItemIndex&&(moveToIndex=dropItemIndex+1),fileArray.splice(moveToIndex,0,fileArray.splice(fromIndex,1)[0]),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_state.label=1;case 1:_state.trys.push([1,6,7,8]),_iterator=fileArray.entries()[Symbol.iterator](),_state.label=2;case 2:return(_iteratorNormalCompletion=(_step=_iterator.next()).done)?[3,5]:(_step_value=PortfolioPanel_sliced_to_array(_step.value,2),index=_step_value[0],(file=_step_value[1]).order===index?[3,4]:[4,(0,portfolio.Kz)(file.id,index)]);case 3:_state.sent(),_state.label=4;case 4:return _iteratorNormalCompletion=!0,[3,2];case 5:return[3,8];case 6:return err=_state.sent(),_didIteratorError=!0,_iteratorError=err,[3,8];case 7:try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}return[7];case 8:return[2]}}))}));return function moveFileInArray(portfolioFiles,dragItemId,dropItemId,moveDirection){return _ref.apply(this,arguments)}}(),movePortfolio=function(){var _ref=_async_to_generator((function(fileId,direction){var portfolioFiles,fromIndex,moveToIndex,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_step_value,index,file,err;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,(0,portfolio.Gi)()];case 1:if(portfolioFiles=_state.sent(),fromIndex=portfolioFiles.findIndex((function(file){return file.id===fileId})),0===fromIndex&&direction===MoreOptionsContextMenuFlyout.NN.MOVE_UP||fromIndex===portfolioFiles.length-1&&direction===MoreOptionsContextMenuFlyout.NN.MOVE_DOWN)return[2];moveToIndex=direction===MoreOptionsContextMenuFlyout.NN.MOVE_UP?fromIndex-1:fromIndex+1,portfolioFiles.splice(moveToIndex,0,portfolioFiles.splice(fromIndex,1)[0]),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_state.label=2;case 2:_state.trys.push([2,7,8,9]),_iterator=portfolioFiles.entries()[Symbol.iterator](),_state.label=3;case 3:return(_iteratorNormalCompletion=(_step=_iterator.next()).done)?[3,6]:(_step_value=PortfolioPanel_sliced_to_array(_step.value,2),index=_step_value[0],(file=_step_value[1]).order===index?[3,5]:[4,(0,portfolio.Kz)(file.id,index)]);case 4:_state.sent(),_state.label=5;case 5:return _iteratorNormalCompletion=!0,[3,3];case 6:return[3,9];case 7:return err=_state.sent(),_didIteratorError=!0,_iteratorError=err,[3,9];case 8:try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}return[7];case 9:return[4,refreshPortfolio()];case 10:return _state.sent(),[2]}}))}));return function movePortfolio(fileId,direction){return _ref.apply(this,arguments)}}(),movePortfolioBeforeTarget=(0,react.useCallback)(function(){var _ref=_async_to_generator((function(dragItemId,dropItemId){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,moveFileInArray(portfolioFiles,dragItemId,dropItemId,dnd.V7.ABOVE_TARGET)];case 1:return _state.sent(),refreshPortfolio(),[2]}}))}));return function(dragItemId,dropItemId){return _ref.apply(this,arguments)}}(),[portfolioFiles]),movePortfolioAfterTarget=(0,react.useCallback)(function(){var _ref=_async_to_generator((function(dragItemId,dropItemId){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,moveFileInArray(portfolioFiles,dragItemId,dropItemId,dnd.V7.BELOW_TARGET)];case 1:return _state.sent(),refreshPortfolio(),[2]}}))}));return function(dragItemId,dropItemId){return _ref.apply(this,arguments)}}(),[portfolioFiles]);return isDisabled?null:react.createElement(DataElementWrapper.A,{className:"Panel PortfolioPanel bookmark-outline-panel",dataElement:dataElement.A.PORTFOLIO_PANEL},react.createElement("div",{className:"bookmark-outline-panel-header"},react.createElement("h2",{className:"header-title"},t("portfolio.portfolioPanelTitle")),react.createElement("div",{className:"portfolio-panel-control"},react.createElement(Button.A,{className:"portfolio-panel-control-button",dataElement:dataElement.A.PORTFOLIO_ADD_FILE,img:"icon-add-file",title:t("portfolio.addFile"),disabled:isAddingNewFolder,onClick:onAddFile}),react.createElement("input",{ref:fileInputRef,style:{display:"none"},type:"file",onChange:function(event){addNewFile(event),event.target.value=null}}))),react.createElement(PortfolioContext.A.Provider,{value:{activePortfolioItem,setActivePortfolioItem,isPortfolioItemActive:function(portfolioItem){return(null==portfolioItem?void 0:portfolioItem.id)===activePortfolioItem},isAddingNewFolder,setAddingNewFolder,addNewFolder:function(name){name||(name=t("message.untitled")),refreshPortfolio()},renamePortfolioItem,removePortfolioItem:function(id){var fileToRemove=portfolioFiles.find((function(file){return file.id===id})),warning={message:t("portfolio.deletePortfolio",{fileName:fileToRemove.name}),title:t("action.delete"),confirmBtnText:t("action.delete"),onConfirm:_async_to_generator((function(){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,(0,portfolio.gX)(id)];case 1:return _state.sent(),refreshPortfolio(),[2]}}))}))};dispatch(actions.A.showWarningMessage(warning))},openPortfolioItem:function(portfolioItem){(0,portfolio.zU)(portfolioItem.extension)&&(dispatch((0,TabManager.Cf)()),dispatch(actions.A.addPortfolioTab(portfolioItem)))},downloadPortfolioItem,refreshPortfolio,isNameDuplicated:function(newName,id){return portfolioFiles.filter((function(file){return file.id!==id})).some((function(file){return file.name===newName}))},tabManager}},react.createElement(DndProvider.Q,{backend:device.Xb?esm.A:dist_esm.t2},react.createElement(PortfolioDragLayer,null),react.createElement("div",{className:"portfolio-panel-list"},portfolioFiles.map((function(item){return react.createElement(components_PortfolioItem,{key:item.id,portfolioItem:item,movePortfolioInward,movePortfolioBeforeTarget,movePortfolioAfterTarget,movePortfolio})})),isAddingNewFolder&&react.createElement(DataElementWrapper.A,{className:"bookmark-outline-single-container editing"},react.createElement(components_PortfolioItemContent,{name:"",id:"0",isFolder:!0,isAdding:!0}))))))};const components_PortfolioPanel_PortfolioPanel=PortfolioPanel_PortfolioPanel;PortfolioPanel_PortfolioPanel.__docgenInfo={description:"",methods:[],displayName:"PortfolioPanel"}}}]);