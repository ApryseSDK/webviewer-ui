(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[2108],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/Flyout/flyoutHelpers/ZoomText.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ZoomText{display:flex}.ZoomText .label{font-size:var(--font-size-default)}.ZoomText .value{color:var(--gray-7)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ZoomText input{font-size:var(--font-size-default)}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ZoomText input{font-size:var(--font-size-default)}}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/RichTextStyleEditor/RichTextStyleEditor.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.RichTextStyleEditor{margin-bottom:16px}.RichTextStyleEditor .menu-items{margin-bottom:8px!important}.RichTextStyleEditor .menu-items .icon-grid{padding-top:12px;grid-row-gap:12px;row-gap:12px}.RichTextStyleEditor .menu-items .icon-grid .row{padding-top:0}.RichTextStyleEditor .menu-items .icon-grid .row.isRedaction{padding-bottom:8px}.RichTextStyleEditor .menu-items .icon-grid .auto-size-checkbox{padding-top:4px;padding-bottom:8px}.RichTextStyleEditor .menu-items .icon-grid .auto-size-checkbox .ui__choice__input__check--focus{outline:var(--focus-visible-outline)}.RichTextStyleEditor .Dropdown__wrapper{width:100%}.RichTextStyleEditor .Dropdown__wrapper .Dropdown{width:100%!important}.RichTextStyleEditor .Dropdown__wrapper .Dropdown__items{inset-inline-end:unset;width:100%!important}.RichTextStyleEditor .FontSizeDropdown{width:100%!important}.RichTextStyleEditor .ColorPalette{padding-bottom:8px}.RichTextStyleEditor .text-size-slider{margin-top:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .RichTextStyleEditor .icon-grid{display:flex;flex-direction:column}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .RichTextStyleEditor .icon-grid{display:flex;flex-direction:column}}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/StylePanel/StylePanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.StylePanel{display:flex;flex-direction:column;background-color:var(--panel-background);padding-bottom:75px}.StylePanel.isFlyout{padding:8px;width:264px;max-height:233px;overflow-y:scroll}.StylePanel .style-panel-header{font-size:16px;font-weight:700;margin-top:0;margin-bottom:16px}.StylePanel .label{padding-top:16px;font-size:14px;font-weight:700}.StylePanel .no-tool-selected{padding-top:36px;display:flex;flex-direction:column;align-items:center;flex:1 1 auto}.StylePanel .no-tool-selected .msg{padding-top:24px;font-size:13px;text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePanel .no-tool-selected .msg{line-height:15px;width:146px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePanel .no-tool-selected .msg{line-height:15px;width:146px}}.StylePanel .no-tool-selected .empty-icon,.StylePanel .no-tool-selected .empty-icon svg{width:55px;height:56px}.StylePanel .no-tool-selected .empty-icon *{fill:var(--gray-6);color:var(--gray-6)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePanel{width:100%;height:100%;padding-bottom:16px}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePanel .style-panel-header{margin:0 16px 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePanel{width:100%;height:100%;padding-bottom:16px}.App.is-web-component:not(.is-in-desktop-only-mode) .StylePanel .style-panel-header{margin:0 16px 16px}}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/ModularComponents/Flyout/Flyout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ModularComponents_Flyout_Flyout});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),actions=__webpack_require__("./src/redux/actions/index.js"),useOnClickOutside=__webpack_require__("./src/hooks/useOnClickOutside.js"),useFocusOnClose=__webpack_require__("./src/hooks/useFocusOnClose/index.js"),customizationVariables=__webpack_require__("./src/constants/customizationVariables.js"),constants_dataElement=__webpack_require__("./src/constants/dataElement.js");__webpack_require__("./src/components/ModularComponents/Flyout/flyoutHelpers/ZoomText.scss");function ZoomText_ZoomText(){const currentZoom=(0,es.d4)(selectors.A.getZoom),{t}=(0,useTranslation.B)();return(0,jsx_runtime.jsxs)("div",{className:"ZoomText",children:[(0,jsx_runtime.jsxs)("div",{className:"label",children:[t("action.zoom"),":"]}),"Â ",(0,jsx_runtime.jsxs)("div",{className:"value",children:[Math.ceil(100*currentZoom),"%"]})]})}ZoomText_ZoomText.__docgenInfo={description:"",methods:[],displayName:"ZoomText"};var getRootNode=__webpack_require__("./src/helpers/getRootNode.js");const helpers_getAppRect=()=>{const isStorybook=!!window.storybook;return(0,getRootNode.Ay)()?.getElementById(isStorybook?"storybook-root":"app")?.getBoundingClientRect()};var itemToFlyoutHelper=__webpack_require__("./src/helpers/itemToFlyoutHelper.js"),getDeviceSize=__webpack_require__("./src/helpers/getDeviceSize.js"),keyboardNavigationHelper=__webpack_require__("./src/helpers/keyboardNavigationHelper.js"),core=__webpack_require__("./src/core/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),officeEditor=__webpack_require__("./src/constants/officeEditor.js"),helpers_officeEditor=__webpack_require__("./src/helpers/officeEditor.js"),RibbonItem=__webpack_require__("./src/components/ModularComponents/RibbonItem/index.js"),PresetButton=__webpack_require__("./src/components/ModularComponents/PresetButton/index.js"),PageControlsInput=__webpack_require__("./src/components/ModularComponents/PageControls/PageControlsInput.js"),translationKeyMapping=__webpack_require__("./src/helpers/translationKeyMapping.js"),ToolButton=__webpack_require__("./src/components/ModularComponents/ToolButton/index.js"),FlyoutItemContainer=__webpack_require__("./src/components/ModularComponents/FlyoutItemContainer/index.js"),StylePresetDropdown=__webpack_require__("./src/components/ModularComponents/OfficeEditor/StylePresetDropdown/index.js"),OfficeEditorModeDropdown=__webpack_require__("./src/components/ModularComponents/OfficeEditor/OfficeEditorModeDropdown/index.js"),CellBorderStyleDropdown=__webpack_require__("./src/components/ModularComponents/CellBorderStyleDropdown/index.js"),Label=__webpack_require__("./src/components/ModularComponents/Label/index.js"),CustomElement=__webpack_require__("./src/components/CustomElement/index.js"),StatefulButton=__webpack_require__("./src/components/ModularComponents/StatefulButton/index.js"),CellTextColor=__webpack_require__("./src/components/ModularComponents/SpreadsheetEditor/CellTextColor/index.js"),ModularColorPicker=__webpack_require__("./src/components/ModularComponents/ModularColorPicker/ModularColorPicker.js"),colorPickerHelper=__webpack_require__("./src/helpers/colorPickerHelper.js"),initialColorStates=__webpack_require__("./src/helpers/initialColorStates.js");const CellBorderColor=props=>{const{isFlyoutItem,dataElement="cell-border-color",defaultColor=initialColorStates.Lo,disabled,onKeyDownHandler}=props,dispatch=(0,es.wA)(),defaultRGBAColor=(0,colorPickerHelper.df)(defaultColor),activeCellBorderStyle=(0,es.d4)(selectors.A.getActiveCellBorderStyle),activeCellBorderColors=(0,colorPickerHelper.EW)(activeCellBorderStyle),[borderColors,setBorderColors]=(0,react.useState)(defaultRGBAColor);(0,react.useEffect)((()=>{0===activeCellBorderColors.length?(setBorderColors(defaultRGBAColor),dispatch(actions.A.setSelectedBorderColorOption(defaultColor))):1===activeCellBorderColors.length?(setBorderColors((0,colorPickerHelper.df)(activeCellBorderColors[0])),dispatch(actions.A.setSelectedBorderColorOption(activeCellBorderColors[0]))):(setBorderColors(activeCellBorderColors.map(colorPickerHelper.df)),dispatch(actions.A.setSelectedBorderColorOption(null)))}),[]),(0,react.useEffect)((()=>{const flyout={dataElement:constants_dataElement.A.CELL_BORDER_COLOR_FLYOUT,className:constants_dataElement.A.CELL_BORDER_COLOR_FLYOUT,items:[{dataElement:customizationVariables.MY.CELL_BORDER_COLOR,type:customizationVariables.MY.CELL_BORDER_COLOR,defaultColor:defaultRGBAColor}]};dispatch(actions.A.updateFlyout(flyout.dataElement,flyout))}),[isFlyoutItem]);return(0,jsx_runtime.jsx)(ModularColorPicker.A,{isFlyoutItem,dataElement,onColorChange:color=>{setBorderColors(color),dispatch(actions.A.setSelectedBorderColorOption((0,colorPickerHelper.H0)(color)))},icon:"ic-border-color",label:"spreadsheetEditor.cellBorderColor",toggleElement:constants_dataElement.A.CELL_BORDER_COLOR_FLYOUT,property:"BorderColor",defaultColor:defaultRGBAColor,color:borderColors,disabled,ariaTypeLabel:"spreadsheetEditor.borderLabel",onKeyDownHandler})};CellBorderColor.propTypes={isFlyoutItem:prop_types_default().bool,dataElement:prop_types_default().string,defaultColor:prop_types_default().object,disabled:prop_types_default().bool,onKeyDownHandler:prop_types_default().func};const CellBorderColor_CellBorderColor=CellBorderColor;CellBorderColor.__docgenInfo={description:"",methods:[],displayName:"CellBorderColor",props:{isFlyoutItem:{description:"",type:{name:"bool"},required:!1},dataElement:{description:"",type:{name:"string"},required:!1},defaultColor:{description:"",type:{name:"object"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},onKeyDownHandler:{description:"",type:{name:"func"},required:!1}}};const SpreadsheetEditor_CellBorderColor=CellBorderColor_CellBorderColor;var CellBackgroundColor=__webpack_require__("./src/components/ModularComponents/SpreadsheetEditor/CellBackgroundColor/index.js"),CellBorders=__webpack_require__("./src/components/ModularComponents/CellBorders/index.js");const FontSizeDropdown=__webpack_require__("./src/components/ModularComponents/EditorSwitchers/FontSizeDropdown/FontSizeDropdownContainer.js").A;var FontFamilyDropdownContainer=__webpack_require__("./src/components/ModularComponents/EditorSwitchers/FontFamilyDropdown/FontFamilyDropdownContainer.js"),SpreadsheetEditorEditModeDropdown=__webpack_require__("./src/components/ModularComponents/SpreadsheetEditor/SpreadsheetEditorEditModeDropdown/index.js"),StylePanel=__webpack_require__("./src/components/StylePanel/index.js");const propTypes={flyoutItem:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().object]),onClickHandler:prop_types_default().func,activeFlyout:prop_types_default().string,type:prop_types_default().string},FlyoutItem=react.forwardRef(((props,ref)=>{const{flyoutItem,type,onClickHandler}=props,modularComponent=(0,es.d4)((state=>flyoutItem?.dataElement?selectors.A.getModularComponent(state,flyoutItem.dataElement):void 0))||flyoutItem,typesToGetExtraInfo=[customizationVariables.Nt.PRESET_BUTTON,customizationVariables.Nt.RIBBON_ITEM,customizationVariables.Nt.TOOL_BUTTON,customizationVariables.Nt.BUTTON,customizationVariables.Nt.STATEFUL_BUTTON,customizationVariables.Nt.TOGGLE_BUTTON,customizationVariables.Nt.PAGE_CONTROLS,customizationVariables.Nt.PAGE_NAVIGATION_BUTTON],shouldGetMoreInfo=[modularComponent?.type,type].some((type=>typesToGetExtraInfo.includes(type)));if(flyoutItem&&flyoutItem.dataElement&&shouldGetMoreInfo){const newFlyoutItemState={...flyoutItem,...(0,itemToFlyoutHelper.uO)(modularComponent,{useOverrideClickOnly:!0,onClick:flyoutItem?.onClick,children:flyoutItem?.children}),type,onClickHandler};return(0,jsx_runtime.jsx)(StaticItem,{...props,flyoutItem:newFlyoutItemState,ref})}return(0,jsx_runtime.jsx)(StaticItem,{...props})}));FlyoutItem.propTypes=propTypes,FlyoutItem.displayName="FlyoutItem";const flyoutHelpers_FlyoutItem=FlyoutItem,StaticItem=react.forwardRef(((props,ref)=>{const{flyoutItem,isChild,index,activeItem,items,activeFlyout,type,onKeyDownHandler}=props,allProps={...flyoutItem,...props},{t}=(0,useTranslation.B)(),dispatch=(0,es.wA)(),customHeadersAdditionalProperties=(0,es.d4)(selectors.A.getCustomHeadersAdditionalProperties,es.bN),getActiveTabInPanel=(0,es.d4)((state=>selectors.A.getActiveTabInPanel(state,activeFlyout.split("-flyout")[0]))),isDisabledItem=(0,es.d4)((state=>selectors.A.isElementDisabled(state,flyoutItem?.dataElement))),currentLineSpacing=(0,es.d4)(selectors.A.getLineSpacing),activeListType=(0,es.d4)((state=>selectors.A.getActiveListType(state))),isCursorInTable=(0,es.d4)(selectors.A.isCursorInTable),activeStream=(0,es.d4)(selectors.A.getOfficeEditorActiveStream);if(isDisabledItem||flyoutItem.hasOwnProperty("hidden")&&flyoutItem.hidden)return null;const itemsToRender=isChild?activeItem.children:items,icon=(0,itemToFlyoutHelper.u$)(flyoutItem,itemsToRender),wrapElementInListItem=(element,className)=>(0,jsx_runtime.jsx)("li",{className,children:element});if(flyoutItem.render){if(flyoutItem.render===customizationVariables.yO.STYLE_PANEL)return(0,jsx_runtime.jsx)(StylePanel.default,{dataElement:flyoutItem.dataElement,isFlyout:!0});console.warn(`Unknown render type: ${flyoutItem.render} for item ${flyoutItem.dataElement}`)}switch(type){case customizationVariables.MY.STATEFUL_BUTTON:return(0,jsx_runtime.jsx)(StatefulButton.A,{ref,...allProps,isFlyoutItem:!0},`stateful-button-${index}`);case customizationVariables.MY.CUSTOM_ELEMENT:return(0,jsx_runtime.jsx)(CustomElement.A,{...flyoutItem,isFlyoutItem:!0},`custom-element-${index}`);case customizationVariables.MY.LABEL:return"object"==typeof flyoutItem?(0,react.createElement)(Label.A,{...flyoutItem,isFlyoutItem:!0,key:`label-${index}`}):(0,jsx_runtime.jsx)("div",{className:"flyout-label",children:t(flyoutItem)},`label-${index}`);case customizationVariables.MY.DIVIDER:return(0,jsx_runtime.jsx)("div",{className:"divider"},`divider-${index}`);case customizationVariables.MY.RIBBON_ITEM:return(0,jsx_runtime.jsx)(RibbonItem.A,{isFlyoutItem:!0,...allProps,ref,icon});case customizationVariables.MY.PRESET_BUTTON:return(0,jsx_runtime.jsx)(PresetButton.A,{...allProps,isFlyoutItem:!0,ref,icon,buttonType:allProps.buttonType||allProps.dataElement,flyoutItem,allFlyoutItems:itemsToRender});case customizationVariables.MY.TOOL_BUTTON:return(0,jsx_runtime.jsx)(ToolButton.A,{...allProps,isFlyoutItem:!0,ref,allFlyoutItems:itemsToRender});case customizationVariables.MY.PAGE_NAVIGATION_INPUT:return(0,jsx_runtime.jsx)(PageControlsInput.A,{...allProps,isFlyoutItem:!0,ref,icon});case customizationVariables.MY.ZOOM_OPTIONS_BUTTON:return(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,label:(0,jsx_runtime.jsx)(ZoomText_ZoomText,{}),additionalClass:"zoom-options",icon,isZoomOptions:!0,isChild});case customizationVariables.Nt.CELL_BORDERS:return(0,jsx_runtime.jsx)(CellBorders.A,{...allProps,isFlyoutItem:!0});case customizationVariables.Nt.ORDERED_LIST:{const isActive=officeEditor.yU.Ordered===activeListType;return flyoutItem.icon="icon-office-editor-number-list",flyoutItem.label="officeEditor.numberList",flyoutItem.className="listTypeToggleFlyoutMenu",flyoutItem.children=(0,helpers_officeEditor.IV)("number",officeEditor.i3),flyoutItem.additionalClass=isActive?"active":"",(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,label:t(flyoutItem.label),additionalClass:isActive?"active":"",icon})}case customizationVariables.Nt.UNORDERED_LIST:{const isActive=officeEditor.yU.Unordered===activeListType;return flyoutItem.icon="icon-office-editor-bullet-list",flyoutItem.label="officeEditor.bulletList",flyoutItem.className="listTypeToggleFlyoutMenu",flyoutItem.children=(0,helpers_officeEditor.IV)("bullet",officeEditor.f0),flyoutItem.additionalClass=isActive?"active":"",(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,label:t(flyoutItem.label),additionalClass:isActive?"active":"",icon})}case customizationVariables.MY.LIST_TYPE_BUTTON:return(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,dataElement:flyoutItem.dataElement,label:t(flyoutItem.label),icon,isChild,additionalClass:"flyout-item-container--list-type"});case customizationVariables.MY.FONT_SIZE_DROPDOWN:return wrapElementInListItem((0,react.createElement)(FontSizeDropdown,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`font-size-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.MY.FONT_FAMILY_DROPDOWN:return wrapElementInListItem((0,react.createElement)(FontFamilyDropdownContainer.A,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`font-face-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.MY.STYLE_PRESET_DROPDOWN:return wrapElementInListItem((0,react.createElement)(StylePresetDropdown.A,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`style-preset-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.MY.OFFICE_EDITOR_MODE_DROPDOWN:return wrapElementInListItem((0,react.createElement)(OfficeEditorModeDropdown.A,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`office-editor-mode-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.MY.SPREADSHEET_EDITOR_MODE_DROPDOWN:return wrapElementInListItem((0,react.createElement)(SpreadsheetEditorEditModeDropdown.A,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`sheet-editor-mode-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.MY.CELL_TEXT_COLOR:return(0,jsx_runtime.jsx)(CellTextColor.A,{...allProps,isFlyoutItem:!0,ref});case customizationVariables.MY.CELL_BORDER_COLOR:return(0,jsx_runtime.jsx)(SpreadsheetEditor_CellBorderColor,{...allProps,isFlyoutItem:!0,ref});case customizationVariables.MY.CELL_BACKGROUND_COLOR:return(0,jsx_runtime.jsx)(CellBackgroundColor.A,{...allProps,isFlyoutItem:!0,ref});case customizationVariables.MY.OFFICE_EDITOR_FILE_NAME:return null;case customizationVariables.Nt.CELL_BORDER_STYLE_DROPDOWN:return wrapElementInListItem((0,react.createElement)(CellBorderStyleDropdown.A,{...allProps,onKeyDown:onKeyDownHandler,ref,key:`cell-border-style-dropdown-${index}`,isFlyoutItem:!0}),"flyout-item-dropdown-container");case customizationVariables.Nt.LINE_SPACING_BUTTON:return flyoutItem.icon="icon-office-editor-line-spacing",flyoutItem.label="officeEditor.lineSpacingMenu",flyoutItem.className="LineSpacingButton",flyoutItem.children=(0,helpers_officeEditor.To)(),(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,label:t(flyoutItem.label),icon});case customizationVariables.MY.LINE_SPACING_OPTIONS_BUTTON:return(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,dataElement:flyoutItem.dataElement,label:t(flyoutItem.label),icon,isChild,additionalClass:currentLineSpacing.toLowerCase().split(".").join("")===flyoutItem.dataElement?.split("line-spacing-button-")[1]?"active":""});case customizationVariables.MY.OFFICE_EDITOR_BREAK_DROPDOWN:return flyoutItem.children=helpers_officeEditor.PU,(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,dataElement:flyoutItem.dataElement,icon,disabled:isCursorInTable||activeStream!==officeEditor.hT.BODY});case customizationVariables.MY.OFFICE_EDITOR_MARGIN_DROPDOWN:return flyoutItem.children=helpers_officeEditor.uB.map((item=>({...item,onClick:()=>item.onClick(dispatch,actions.A)}))),(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,dataElement:flyoutItem.dataElement,icon,isChild});case customizationVariables.MY.OFFICE_EDITOR_COLUMN_DROPDOWN:return flyoutItem.children=helpers_officeEditor.s.map((item=>({...item,onClick:()=>item.onClick(dispatch,actions.A)}))),(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,index,dataElement:flyoutItem.dataElement,icon,isChild});default:{const alabel=flyoutItem.toolbarGroup?(0,translationKeyMapping.A)(flyoutItem.toolbarGroup,customHeadersAdditionalProperties):flyoutItem.label,itemIsAPanelTab=type===customizationVariables.MY.TAB_PANEL_ITEM,itemIsAZoomButton=type===customizationVariables.MY.ZOOM_BUTTON,isItemActive=flyoutItem.isActive||itemIsAPanelTab&&getActiveTabInPanel===flyoutItem.dataElement||itemIsAZoomButton&&Math.ceil(100*core.A.getZoom()).toString()===flyoutItem.dataElement?.split("zoom-button-")[1];allProps.additionalClass=allProps.additionalClass||"";const flyoutItemClasses=classnames_default()({disabled:flyoutItem.disabled,active:isItemActive,[allProps.additionalClass]:!0});return(0,jsx_runtime.jsx)(FlyoutItemContainer.A,{...allProps,ref,label:alabel,additionalClass:flyoutItemClasses,icon,secondaryLabel:flyoutItem.secondaryLabel||null})}}})),staticItemPropTypes={flyoutItem:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().object]),isChild:prop_types_default().bool,index:prop_types_default().number,onClickHandler:prop_types_default().func,activeItem:prop_types_default().object,items:prop_types_default().array,type:prop_types_default().string,activeFlyout:prop_types_default().string,onKeyDownHandler:prop_types_default().func};StaticItem.propTypes=staticItemPropTypes,StaticItem.displayName="StaticItem",FlyoutItem.__docgenInfo={description:"",methods:[],displayName:"FlyoutItem",props:{flyoutItem:{description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},onClickHandler:{description:"",type:{name:"func"},required:!1},activeFlyout:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!1}}};var Icon=__webpack_require__("./src/components/Icon/index.js"),react_swipeable_es=(__webpack_require__("./src/components/ModularComponents/Flyout/Flyout.scss"),__webpack_require__("./node_modules/react-swipeable/es/index.js")),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce);const Flyout_Flyout=()=>{const{t}=(0,useTranslation.B)(),dispatch=(0,es.wA)(),isMobile=(0,getDeviceSize.IS)(),flyoutMap=(0,es.d4)(selectors.A.getFlyoutMap,es.bN),activeFlyout=(0,es.d4)(selectors.A.getActiveFlyout),isFlyoutOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,activeFlyout)),es.bN),position=(0,es.d4)(selectors.A.getFlyoutPosition,es.bN),toggleElement=(0,es.d4)(selectors.A.getFlyoutToggleElement),topHeadersHeight=(0,es.d4)(selectors.A.getTopHeadersHeight),bottomHeadersHeight=(0,es.d4)(selectors.A.getBottomHeadersHeight),customizableUI=(0,es.d4)(selectors.A.getFeatureFlags)?.customizableUI,currentPage=(0,es.d4)(selectors.A.getCurrentPage),flyoutProperties=flyoutMap[activeFlyout],horizontalHeadersUsedHeight=topHeadersHeight+bottomHeadersHeight+customizationVariables.jH,{dataElement,items,className}=flyoutProperties,[activePath,setActivePath]=(0,react.useState)([]),[currentFocusIndex,setCurrentFocusIndex]=(0,react.useState)(-1),[focusableElements,setFocusableElements]=(0,react.useState)([]),[inputValue,setInputValue]=(0,react.useState)(""),[shouldOverflow,setShouldOverflow]=(0,react.useState)(!1);let activeItem=null;for(const index of activePath)activeItem=activeItem?activeItem.children[index]:items[index];const flyoutRef=(0,react.useRef)(null),flyoutItemRef=(0,react.useRef)(null),[correctedPosition,setCorrectedPosition]=(0,react.useState)(position),[maxHeightValue,setMaxHeightValue]=(0,react.useState)(window.innerHeight-horizontalHeadersUsedHeight),itemsToRender=items.filter((item=>!item.hidden)),activeChildren=activeItem?activeItem.children.filter((child=>!child.hidden)):[],getElementDOMRef=dataElement=>(0,getRootNode.Ay)().querySelector(`[data-element="${dataElement}"]`),getFocusableElements=()=>flyoutRef.current.querySelectorAll('button:not([disabled]), input:not([disabled]), div[role="combobox"]:not([disabled])');(0,react.useLayoutEffect)((()=>{const tempRefElement=getElementDOMRef(toggleElement),maxHeightValue=helpers_getAppRect().height-horizontalHeadersUsedHeight;if(setMaxHeightValue(maxHeightValue),tempRefElement&&null===tempRefElement.offsetParent)return;const calculateAndSetPosition=()=>{const tempRefElement=getElementDOMRef(toggleElement),appRect=helpers_getAppRect(),correctedPosition={x:position.x,y:position.y};if(toggleElement&&tempRefElement){const{x,y}=function getFlyoutPositionOnElement(dataElement,flyoutRef){const appRect=helpers_getAppRect(),referenceElement=(0,getRootNode.Ay)().querySelector(`[data-element="${dataElement}"]`),referenceButtonRect=referenceElement.getBoundingClientRect(),parentHeader=referenceElement.closest(".ModularHeader"),targetElement=flyoutRef.current,availableSpaceLeft=referenceButtonRect.left-appRect.left,availableSpaceRight=appRect.right-referenceButtonRect.right;let flyoutX=referenceButtonRect.left-appRect.left;const isRTL="rtl"===parentHeader?.closest('[dir="rtl"], [dir="ltr"]')?.dir,shouldOpenRight=parentHeader?.classList.contains(isRTL?"RightHeader":"LeftHeader"),shouldOpenLeft=parentHeader?.classList.contains(isRTL?"LeftHeader":"RightHeader");shouldOpenRight?flyoutX+=referenceButtonRect.width+6:shouldOpenLeft?flyoutX-=targetElement.clientWidth+6:availableSpaceLeft>=availableSpaceRight&&(flyoutX=referenceButtonRect.right-targetElement.clientWidth-appRect.left);const availableSpaceAbove=referenceButtonRect.top-appRect.top,availableSpaceBelow=appRect.bottom-referenceButtonRect.bottom;let flyoutY=referenceButtonRect.top-appRect.top;return parentHeader?.classList.contains("TopHeader")?flyoutY+=referenceButtonRect.height+6:parentHeader?.classList.contains("BottomHeader")?flyoutY-=targetElement.clientHeight+6:availableSpaceAbove>=availableSpaceBelow?flyoutY=referenceButtonRect.bottom-targetElement.clientHeight:availableSpaceBelow>targetElement.clientHeight&&!parentHeader&&(flyoutY+=referenceButtonRect.height+6),{x:flyoutX,y:flyoutY}}(toggleElement,flyoutRef);correctedPosition.x=x,correctedPosition.y=y}const flyoutRect=flyoutRef.current?.getBoundingClientRect();if(flyoutRect){const PADDING=5,widthOverflow=correctedPosition.x+flyoutRect.width+PADDING-appRect.right,heightOverflow=correctedPosition.y+flyoutRect.height+PADDING-appRect.bottom;widthOverflow>0&&(correctedPosition.x-=widthOverflow),heightOverflow>0&&(correctedPosition.y-=heightOverflow),correctedPosition.x<PADDING&&(correctedPosition.x=PADDING),correctedPosition.y<PADDING&&(correctedPosition.y=PADDING)}setCorrectedPosition(correctedPosition)};if(flyoutRef.current){let observer;const disconnect=debounce_default()((()=>observer.disconnect()),100,{leading:!1,trailing:!0}),setPosition=()=>{calculateAndSetPosition(),disconnect()};return observer=new MutationObserver(setPosition),observer.observe(flyoutRef.current,{attributes:!0,childList:!0,subtree:!0}),setPosition(),requestAnimationFrame(setPosition),()=>observer.disconnect()}}),[activeItem,position,items,inputValue]),(0,react.useLayoutEffect)((()=>{const appRect=helpers_getAppRect(),flyoutRect=flyoutRef.current?.getBoundingClientRect();let isChildOverflowing=!1;const flyoutChildren=flyoutRef?.current?.firstChild?.children;if(flyoutChildren)for(let child of flyoutChildren)if(child.getBoundingClientRect().bottom>flyoutRect.bottom){isChildOverflowing=!0;break}setShouldOverflow(appRect&&flyoutRect&&appRect.height>0&&(flyoutRect.height>appRect.height||isChildOverflowing))}),[activeItem,position,items]),(0,react.useEffect)((()=>{if(flyoutRef.current){const focusableElements=getFocusableElements();focusableElements.length&&(focusableElements[0].focus(),setCurrentFocusIndex(0),setFocusableElements(focusableElements))}}),[activePath,flyoutRef.current]),(0,react.useEffect)((()=>{if(flyoutRef.current){const newFocusableElements=getFocusableElements();if(setFocusableElements(newFocusableElements),focusableElements[currentFocusIndex]!==newFocusableElements[currentFocusIndex]){const newCurrentFocusIndex=(0,keyboardNavigationHelper.v)(newFocusableElements,focusableElements,currentFocusIndex);newFocusableElements[newCurrentFocusIndex].focus(),setCurrentFocusIndex(newCurrentFocusIndex)}}}),[currentPage]);const closeFlyout=(0,useFocusOnClose.A)((0,react.useCallback)((()=>{dispatch(actions.A.closeElements([activeFlyout])),setActivePath([])}),[dispatch,activeFlyout])),onClickOutside=(0,react.useCallback)((e=>{const menuButton=getElementDOMRef(toggleElement),clickedMenuButton=menuButton?.contains(e.target),isClickingColorPicker=e.target.closest(".ColorPickerOverlay"),isClickingColorModal=e.target.closest('[data-element="ColorPickerModal"]');clickedMenuButton||isClickingColorPicker||isClickingColorModal||closeFlyout()}),[closeFlyout,toggleElement]);(0,useOnClickOutside.A)(flyoutRef,onClickOutside);const onClickHandler=(flyoutItem,isChild,index)=>e=>{if(e.stopPropagation(),e.preventDefault(),flyoutItem.children&&flyoutItem!==activeItem){const newActivePath=[...activePath];newActivePath.push(index),setActivePath(newActivePath)}if(flyoutItem.onClick){try{flyoutItem.onClick(e,dataElement)}catch(error){console.error(error)}const isKeyboardEvent=e.nativeEvent.isKeyboardAction,isModalToggle=customizationVariables.k$.includes(flyoutItem.dataElement),shouldCloseFlyoutCases=dataElement!==constants_dataElement.A.VIEW_CONTROLS_FLYOUT&&flyoutItem.type!==customizationVariables.Nt.PAGE_NAVIGATION_BUTTON&&flyoutItem.dataElement!==constants_dataElement.A.OFFICE_EDITOR_FLYOUT_COLOR_PICKER&&flyoutItem.buttonType!==customizationVariables.dQ.OE_COLOR_PICKER;!flyoutItem.children&&shouldCloseFlyoutCases&&(isKeyboardEvent&&isModalToggle||closeFlyout())}},moveFocus=delta=>{const newFocusIndex=(currentFocusIndex+delta+focusableElements.length)%focusableElements.length;focusableElements[newFocusIndex].focus(),setCurrentFocusIndex(newFocusIndex)},onKeyDownHandler=e=>{const targetElement=e.target,elementType=targetElement.tagName.toLowerCase();if(e.shiftKey&&"Tab"===e.key)e.preventDefault(),closeFlyout();else switch(e.code){case"ArrowDown":case"ArrowRight":e.preventDefault(),moveFocus(1);break;case"ArrowUp":case"ArrowLeft":e.preventDefault(),moveFocus(-1);break;case"Home":e.preventDefault(),setCurrentFocusIndex(0);break;case"End":e.preventDefault(),setCurrentFocusIndex(itemsToRender.length-1);break;case"Escape":case"Tab":e.preventDefault(),closeFlyout();break;case"Enter":case"Space":if(e.preventDefault(),"button"===elementType){const syntheticEvent=new Event("click",{bubbles:!0,cancelable:!0});syntheticEvent.isKeyboardAction=!0,targetElement.dispatchEvent(syntheticEvent)}else"input"===elementType&&targetElement.parentNode.dispatchEvent(new Event("submit",{bubbles:!0}));break;default:"input"===elementType&&setInputValue(targetElement.value)}},renderItems=(itemList,isChild=!1)=>itemList.map(((item,index)=>{if((0,react.isValidElement)(item))return item;const itemType=item.type??(0,itemToFlyoutHelper.L4)(item);return(0,jsx_runtime.jsx)(flyoutHelpers_FlyoutItem,{ref:currentFocusIndex===index?flyoutItemRef:null,flyoutItem:item,index,isChild,onClickHandler,onKeyDownHandler,activeItem,items:itemsToRender,activeFlyout,type:itemType,id:item?.id,labelledById:item?.labelledById},item?.dataElement||index)})),flyoutStyles={left:correctedPosition.x,top:correctedPosition.y,maxHeight:maxHeightValue-10};return activeItem||itemsToRender.length?isFlyoutOpen&&(0,jsx_runtime.jsx)(react_swipeable_es.Hx,{onSwipedDown:()=>{isMobile&&closeFlyout()},trackMouse:!0,preventDefaultTouchmoveEvent:!0,children:(0,jsx_runtime.jsxs)("div",{className:classnames_default()({Flyout:!0,"legacy-ui":!customizableUI,mobile:isMobile}),"data-element":dataElement,ref:flyoutRef,style:isMobile?void 0:flyoutStyles,children:[isMobile&&(0,jsx_runtime.jsx)("div",{className:"swipe-indicator"}),(0,jsx_runtime.jsx)("menu",{id:"FlyoutContainer",className:classnames_default()({FlyoutContainer:!0,[className]:!0}),style:shouldOverflow?{overflowY:"auto"}:void 0,children:activeItem?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(()=>{const isZoomOptions="zoomOptionsButton"===activeItem.dataElement;return(0,jsx_runtime.jsx)("li",{"data-element":activeItem.dataElement,className:"flyout-item-container",children:(0,jsx_runtime.jsxs)("button",{className:"flyout-item back-button",onClick:()=>{const newActivePath=[...activePath];newActivePath.pop(),setActivePath(newActivePath)},onKeyDown:onKeyDownHandler,children:[(0,jsx_runtime.jsx)(Icon.A,{glyph:"icon-chevron-left"}),isZoomOptions?(0,jsx_runtime.jsx)(ZoomText_ZoomText,{}):(0,jsx_runtime.jsx)("span",{className:"back-button-label",children:t("action.back")})]})})})(),renderItems(activeChildren,!0)]}):renderItems(itemsToRender)})]})}):null},ModularComponents_Flyout_Flyout=Flyout_Flyout;Flyout_Flyout.__docgenInfo={description:"",methods:[],displayName:"Flyout"}},"./src/components/ModularComponents/Flyout/flyoutHelpers/ZoomText.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ModularComponents/Flyout/flyoutHelpers/ZoomText.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/ModularComponents/Flyout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/ModularComponents/Flyout/Flyout.js").A},"./src/components/RichTextStyleEditor/RichTextStyleEditor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),components_StylePicker_ColorPicker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/StylePicker/ColorPicker/index.js"),core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/selectors/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./src/components/RichTextStyleEditor/RichTextStyleEditor.scss"),__webpack_require__("./src/constants/dataElement.js")),components_TextStylePicker__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/TextStylePicker/index.js"),helpers_adjustFreeTextBoundingBox__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/adjustFreeTextBoundingBox.js"),react_i18next__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js");const propTypes={annotation:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,editor:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,style:prop_types__WEBPACK_IMPORTED_MODULE_11___default().shape({TextColor:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().object]),RichTextStyle:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any}),isFreeTextAutoSize:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,onFreeTextSizeToggle:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,onPropertyChange:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,onRichTextStyleChange:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,isRedaction:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,isRichTextEditMode:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,setIsRichTextEditMode:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,isWidget:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool},RichTextStyleEditor=({annotation,editor,style,isFreeTextAutoSize,onFreeTextSizeToggle,onPropertyChange,onRichTextStyleChange,isRichTextEditMode,setIsRichTextEditMode,isRedaction,isWidget,activeTool})=>{const[fonts]=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((state=>[selectors__WEBPACK_IMPORTED_MODULE_6__.A.getFonts(state)]),react_redux__WEBPACK_IMPORTED_MODULE_2__.bN),[format,setFormat]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),editorRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),annotationRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),propertiesRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({}),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.wA)(),oldSelectionRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),richTextEditModeRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();richTextEditModeRef.current=isRichTextEditMode;const[t]=(0,react_i18next__WEBPACK_IMPORTED_MODULE_12__.B)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const handleSelectionChange=(range,oldRange)=>{!range&&oldRange&&editorRef.current&&editorRef.current.setSelection(oldRange.index,oldRange.length),range&&editorRef.current&&setFormat(getFormat(range))},handleTextChange=()=>{setFormat(getFormat(editorRef.current?.getSelection()))};return core__WEBPACK_IMPORTED_MODULE_4__.A.addEventListener("editorSelectionChanged",handleSelectionChange),core__WEBPACK_IMPORTED_MODULE_4__.A.addEventListener("editorTextChanged",handleTextChange),dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.disableElements([constants_dataElement__WEBPACK_IMPORTED_MODULE_8__.A.ANNOTATION_STYLE_POPUP])),()=>{core__WEBPACK_IMPORTED_MODULE_4__.A.removeEventListener("editorSelectionChanged",handleSelectionChange),core__WEBPACK_IMPORTED_MODULE_4__.A.removeEventListener("editorTextChanged",handleTextChange),dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.enableElements([constants_dataElement__WEBPACK_IMPORTED_MODULE_8__.A.ANNOTATION_STYLE_POPUP]))}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(editorRef.current=editor,annotationRef.current=annotation,isRichTextEditMode&&annotation){let StrokeStyle="solid";try{StrokeStyle="dash"===annotation.Style?`${annotation.Style},${annotation.Dashes}`:annotation.Style}catch(err){console.error(err)}const stylesTemp=annotation.getRichTextStyle()[0];propertiesRef.current={Font:annotation.Font,FontSize:annotation.FontSize,TextAlign:annotation.TextAlign,TextVerticalAlign:annotation.TextVerticalAlign,bold:"bold"===stylesTemp?.["font-weight"]??!1,italic:"italic"===stylesTemp?.["font-style"]??!1,underline:stylesTemp?.["text-decoration"]?.includes("underline")||stylesTemp?.["text-decoration"]?.includes("word"),strikeout:stylesTemp?.["text-decoration"]?.includes("line-through")??!1,size:stylesTemp?.["font-size"],font:stylesTemp?.["font-family"],StrokeStyle,calculatedFontSize:annotation.getCalculatedFontSize()}}setFormat(getFormat(editorRef.current?.getSelection())),oldSelectionRef.current&&(editorRef.current.setSelection(oldSelectionRef.current),oldSelectionRef.current=null)}),[annotation,editor,isRichTextEditMode]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const handleEditorBlur=()=>{editorRef.current=null,annotationRef.current=null,setIsRichTextEditMode(!1)},handleEditorFocus=()=>{setIsRichTextEditMode(!0)};return core__WEBPACK_IMPORTED_MODULE_4__.A.addEventListener("editorBlur",handleEditorBlur),core__WEBPACK_IMPORTED_MODULE_4__.A.addEventListener("editorFocus",handleEditorFocus),()=>{core__WEBPACK_IMPORTED_MODULE_4__.A.removeEventListener("editorBlur",handleEditorBlur),core__WEBPACK_IMPORTED_MODULE_4__.A.removeEventListener("editorFocus",handleEditorFocus)}}),[dispatch]);const getFormat=range=>{if(!range)return{};const format=editorRef.current.getFormat(range.index,range.length);if("string"==typeof format.color)format.color=new window.Core.Annotations.Color(format.color);else if(Array.isArray(format.color)){const lastSelectedColor=new window.Core.Annotations.Color(format.color[format.color.length-1]);format.color=lastSelectedColor}else format.color||(format.color=annotationRef.current.TextColor);const propertiesToCheck=["font","size","originalSize"];for(const prop of propertiesToCheck)format[prop]&&Array.isArray(format[prop])&&(format[prop]=void 0);return format},applyFormat=(formatKey,value)=>{"size"===formatKey?editorRef.current?.format("applyCustomFontSize",value):editorRef.current?.format(formatKey,value),"color"===formatKey&&(value=new window.Core.Annotations.Color(value)),setFormat({...format,[formatKey]:value})},handlePropertyChange=(property,value)=>{if(!richTextEditModeRef.current)return void onPropertyChange(property,value);const{index,length}=editorRef.current.getSelection(),annotation=annotationRef.current;annotation[property]=value,editorRef.current.blur(),"FontSize"!==property&&"Font"!==property||(0,helpers_adjustFreeTextBoundingBox__WEBPACK_IMPORTED_MODULE_10__.A)(annotation),setTimeout((()=>{oldSelectionRef.current={index,length};core__WEBPACK_IMPORTED_MODULE_4__.A.getAnnotationManager().getEditBoxManager().focusBox(annotation)}),0)};let properties={};const{RichTextStyle}=style,defaults={bold:"bold"===RichTextStyle?.[0]?.["font-weight"]??!1,italic:"italic"===RichTextStyle?.[0]?.["font-style"]??!1,underline:RichTextStyle?.[0]?.["text-decoration"]?.includes("underline")||RichTextStyle?.[0]?.["text-decoration"]?.includes("word"),strikeout:RichTextStyle?.[0]?.["text-decoration"]?.includes("line-through")??!1,font:RichTextStyle?.[0]?.["font-family"],size:RichTextStyle?.[0]?.["font-size"],StrokeStyle:"solid"};properties={...style,...defaults},isRichTextEditMode&&annotation&&(propertiesRef.current.bold=format.bold,propertiesRef.current.italic=format.italic,propertiesRef.current.underline=format.underline,propertiesRef.current.strikeout=format.strike,propertiesRef.current.quillFont=format.font||propertiesRef.current.Font,propertiesRef.current.quillFontSize=format.originalSize||propertiesRef.current.FontSize);const commonProps={fonts,onPropertyChange:handlePropertyChange,properties,stateless:!0,isFreeText:!isRedaction},nonWidgetProps={onRichTextStyleChange:(property,value)=>{if(!richTextEditModeRef.current)return void onRichTextStyleChange(property,value);const propertyTranslation={"font-weight":"bold","font-style":"italic",underline:"underline","line-through":"strike","font-family":"font","font-size":"size"};if("font-family"===property||"font-size"===property){applyFormat(propertyTranslation[property],value);const freeText=annotationRef.current;if(freeText.isAutoSized()){core__WEBPACK_IMPORTED_MODULE_4__.A.getAnnotationManager().getEditBoxManager().resizeAnnotation(freeText)}}else(format=>()=>{let{index,length}=editorRef.current.getSelection();if(0===length){oldSelectionRef.current={index,length};const newSelection=editorRef.current.getSelection();index=newSelection.index,length=newSelection.length}const currentFormat=editorRef.current.getFormat(index,length);applyFormat(format,!currentFormat[format])})(propertyTranslation[property])()},properties:isRichTextEditMode?propertiesRef.current:properties,isFreeTextAutoSize,isRichTextEditMode,isRedaction,onFreeTextSizeToggle},widgetProps={onRichTextStyleChange:handlePropertyChange,isFreeTextAutoSize:!1,isRichTextEditMode:!1,isRedaction:!1,isWidget};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"RichTextStyleEditor",onMouseDown:e=>{"touchstart"!==e.type&&isRichTextEditMode&&e.preventDefault()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"menu-items",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_TextStylePicker__WEBPACK_IMPORTED_MODULE_9__.A,{...commonProps,...isWidget?widgetProps:nonWidgetProps})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_StylePicker_ColorPicker__WEBPACK_IMPORTED_MODULE_3__.A,{dataElement:constants_dataElement__WEBPACK_IMPORTED_MODULE_8__.A.StylePanel.TEXT_COLOR_PICKER,onColorChange:color=>{((name,color)=>{richTextEditModeRef.current?applyFormat("color",color.toHexString()):onPropertyChange(name,color)})("TextColor",new window.Core.Annotations.Color(color))},color:isRichTextEditMode?format.color:style.TextColor,activeTool,type:"Text",ariaTypeLabel:t("option.stylePopup.textStyle")})]})};RichTextStyleEditor.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(RichTextStyleEditor);RichTextStyleEditor.__docgenInfo={description:"",methods:[],displayName:"RichTextStyleEditor",props:{annotation:{description:"",type:{name:"object"},required:!1},editor:{description:"",type:{name:"object"},required:!1},style:{description:"",type:{name:"shape",value:{TextColor:{name:"union",value:[{name:"string"},{name:"object"}],required:!1},RichTextStyle:{name:"any",required:!1}}},required:!1},isFreeTextAutoSize:{description:"",type:{name:"bool"},required:!1},onFreeTextSizeToggle:{description:"",type:{name:"func"},required:!1},onPropertyChange:{description:"",type:{name:"func"},required:!1},onRichTextStyleChange:{description:"",type:{name:"func"},required:!1},isRedaction:{description:"",type:{name:"bool"},required:!1},isRichTextEditMode:{description:"",type:{name:"bool"},required:!1},setIsRichTextEditMode:{description:"",type:{name:"func"},required:!1},isWidget:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/RichTextStyleEditor/RichTextStyleEditor.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/RichTextStyleEditor/RichTextStyleEditor.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/RichTextStyleEditor/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/RichTextStyleEditor/RichTextStyleEditor.js").A},"./src/components/StylePanel/StylePanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/StylePanel/StylePanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/StylePanel/StylePanelContainer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>StylePanel_StylePanelContainer});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),core=__webpack_require__("./src/core/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);const components_StylePicker=__webpack_require__("./src/components/StylePicker/StylePicker.js").A;var useStylePanel=__webpack_require__("./src/hooks/useStylePanel.js"),stylePanelHelper=__webpack_require__("./src/helpers/stylePanelHelper.js"),CollapsibleSection=__webpack_require__("./src/components/CollapsibleSection/index.js"),LabelTextEditor=__webpack_require__("./src/components/LabelTextEditor/index.js"),RichTextStyleEditor=__webpack_require__("./src/components/RichTextStyleEditor/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),constants_dataElement=__webpack_require__("./src/constants/dataElement.js"),useOnFreeTextEdit=__webpack_require__("./src/hooks/useOnFreeTextEdit/index.js"),actions=__webpack_require__("./src/redux/actions/index.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),StylePanelHeader=__webpack_require__("./src/components/StylePanel/StylePanelHeader/StylePanelHeader.js");const TextStylePanel=({selectedAnnotations,currentTool})=>{const dispatch=(0,es.wA)(),{t}=(0,useTranslation.B)(),[isRichTextEditMode,setIsRichTextEditMode]=(0,react.useState)(!1);(0,react.useEffect)((()=>{isRichTextEditMode&&dispatch(actions.A.closeElement(constants_dataElement.A.ANNOTATION_POPUP))}),[isRichTextEditMode]);const{panelTitle,style,strokeStyle,onStyleChange,onLineStyleChange,isAutoSizeFont,handleAutoSize,handleRichTextStyleChange,saveEditorInstance,showLineStyleOptions,startLineStyle,endLineStyle}=(0,useStylePanel.A)({selectedAnnotations,currentTool}),toolTypeProps=(0,stylePanelHelper.ws)(selectedAnnotations,currentTool),{isRedaction,isWidget,activeTool}=toolTypeProps,{openTextStyleContainer,isTextStyleContainerActive}=(0,stylePanelHelper.Z)(),showFillColorAndCollapsablePanelSections=(0,stylePanelHelper.wz)(activeTool);(0,react.useEffect)((()=>{showFillColorAndCollapsablePanelSections&&dispatch(actions.A.openElement(constants_dataElement.A.RICH_TEXT_STYLE_CONTAINER))}),[activeTool]);const onOpenProps=(0,useOnFreeTextEdit.A)(saveEditorInstance);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StylePanelHeader.A,{title:panelTitle}),(0,jsx_runtime.jsxs)("div",{className:"StylePicker",onMouseDown:e=>{"touchstart"!==e.type&&"INPUT"!==e.target.tagName.toUpperCase()&&e.preventDefault()},children:[(0,jsx_runtime.jsxs)(DataElementWrapper.A,{className:"PanelSection TextStyle",dataElement:constants_dataElement.A.StylePanel.TEXT_STYLE_CONTAINER,children:[(0,jsx_runtime.jsx)(CollapsibleSection.A,{header:t((0,stylePanelHelper.Ud)(activeTool,"OverlayText")||"option.stylePopup.textStyle"),headingLevel:2,isInitiallyExpanded:!1,isExpanded:isTextStyleContainerActive,onToggle:openTextStyleContainer,children:(0,jsx_runtime.jsxs)("div",{className:"panel-section-wrapper",children:[isRedaction&&(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.REDACTION_TEXT_LABEL,className:"PanelSubsection RedactionTextLabel",children:[(0,jsx_runtime.jsx)("div",{className:"menu-subtitle",children:t("stylePanel.headings.redactionTextLabel")}),(0,jsx_runtime.jsx)(LabelTextEditor.A,{properties:style,onPropertyChange:onStyleChange,placeholderText:" "})]}),(0,jsx_runtime.jsx)(RichTextStyleEditor.default,{style,...onOpenProps,property:"TextColor",colorMapKey:"freeText",isFreeTextAutoSize:isAutoSizeFont,onFreeTextSizeToggle:handleAutoSize,onPropertyChange:onStyleChange,onRichTextStyleChange:handleRichTextStyleChange,isRichTextEditMode,setIsRichTextEditMode,isRedaction,activeTool,isWidget})]})}),(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:`${constants_dataElement.A.StylePanel.TEXT_STYLE_CONTAINER}-divider`,children:(0,jsx_runtime.jsx)("div",{className:"divider"})})]}),(0,jsx_runtime.jsx)(components_StylePicker,{...toolTypeProps,hasParentPicker:!0,sliderProperties:["Opacity","StrokeThickness"],style,onStyleChange,strokeStyle,onLineStyleChange,activeTool,showLineStyleOptions,startLineStyle,endLineStyle})]})]})};TextStylePanel.propTypes={selectedAnnotations:prop_types_default().arrayOf(prop_types_default().object),currentTool:prop_types_default().object};const panels_TextStylePanel=TextStylePanel;TextStylePanel.__docgenInfo={description:"",methods:[],displayName:"TextStylePanel",props:{selectedAnnotations:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},currentTool:{description:"",type:{name:"object"},required:!1}}};var Icon=__webpack_require__("./src/components/Icon/index.js");const DefaultStylePanel=({currentTool,selectedAnnotations})=>{const[t]=(0,useTranslation.B)(),{style,panelTitle,strokeStyle,startLineStyle,endLineStyle,onStyleChange,onLineStyleChange,showLineStyleOptions}=(0,useStylePanel.A)({currentTool,selectedAnnotations}),toolTypeProps=(0,stylePanelHelper.ws)(selectedAnnotations,currentTool),{toolName}=toolTypeProps;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StylePanelHeader.A,{title:panelTitle}),(0,stylePanelHelper.Jj)(toolName)?(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_STYLE_CONTAINER,className:"no-tool-selected",children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_STYLE_ICON,children:(0,jsx_runtime.jsx)(Icon.A,{className:"empty-icon",glyph:"style-panel-no-tool-selected"})}),(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_STYLE_MESSAGE,className:"msg",children:t("stylePanel.noToolStyle")})]}):(0,jsx_runtime.jsx)(components_StylePicker,{...toolTypeProps,sliderProperties:["Opacity","StrokeThickness"],style,onStyleChange,showLineStyleOptions,startLineStyle,endLineStyle,strokeStyle,onLineStyleChange})]})};DefaultStylePanel.propTypes={selectedAnnotations:prop_types_default().arrayOf(prop_types_default().object),currentTool:prop_types_default().object};const panels_DefaultStylePanel=DefaultStylePanel;DefaultStylePanel.__docgenInfo={description:"",methods:[],displayName:"DefaultStylePanel",props:{selectedAnnotations:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},currentTool:{description:"",type:{name:"object"},required:!1}}};var NoSharedStylePanel=__webpack_require__("./src/components/StylePanel/panels/NoSharedStylePanel.js");const getStylePanelComponent=(currentTool,selectedAnnotations)=>{const annotationTypes=(0,stylePanelHelper.lh)(selectedAnnotations);return(toolNames=>toolNames.length>1&&toolNames.some((toolName=>(0,stylePanelHelper.gE)(toolName)))?NoSharedStylePanel.A:toolNames.every((toolName=>(0,stylePanelHelper.$t)(toolName)))?panels_TextStylePanel:panels_DefaultStylePanel)(annotationTypes?.length>=1?annotationTypes:[currentTool.name])},NoToolStylePanel=()=>{const[t]=(0,useTranslation.B)();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StylePanelHeader.A,{title:t("stylePanel.headings.styles")}),(0,jsx_runtime.jsxs)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_TOOL_SELECTED_CONTAINER,className:"no-tool-selected",children:[(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_TOOL_SELECTED_ICON,children:(0,jsx_runtime.jsx)(Icon.A,{className:"empty-icon",glyph:"style-panel-no-tool-selected"})}),(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement:constants_dataElement.A.StylePanel.NO_TOOL_SELECTED_MESSAGE,className:"msg",children:t("stylePanel.noToolSelected")})]})]})},panels_NoToolStylePanel=NoToolStylePanel;NoToolStylePanel.__docgenInfo={description:"",methods:[],displayName:"NoToolStylePanel"};var getAnnotationCreateToolNames=__webpack_require__("./src/helpers/getAnnotationCreateToolNames.js"),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);__webpack_require__("./src/components/StylePanel/StylePanel.scss");const{Annotations}=window.Core,propTypes={dataElement:prop_types_default().string,isFlyout:prop_types_default().bool},StylePanelContainer=({dataElement=constants_dataElement.A.STYLE_PANEL,isFlyout=!1})=>{const isPanelOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,"stylePanel"))),annotationCreateToolNames=(0,getAnnotationCreateToolNames.A)(),[selectedAnnotations,setSelectedAnnotations]=(0,react.useState)(core.A.getSelectedAnnotations()),[currentTool,setCurrentTool]=(0,react.useState)(core.A.getToolMode()),filteredTypes=[Annotations.PushButtonWidgetAnnotation],handleChange=debounce_default()((()=>{const annotationManager=core.A.getAnnotationManager(),tool=core.A.getToolMode(),annotations=core.A.getSelectedAnnotations(),allSelectedAnnotations=new Set(annotations);annotations.forEach((annotation=>{if(annotation.isGrouped()){annotationManager.getGroupAnnotations(annotation).forEach((grouped=>allSelectedAnnotations.add(grouped)))}else annotation.getGroupedChildren().length>1&&annotation.getGroupedChildren().forEach((child=>allSelectedAnnotations.add(child)))}));const selectedAnnotations=Array.from(allSelectedAnnotations);setSelectedAnnotations(selectedAnnotations),setCurrentTool(tool)}),150,{leading:!1,trailing:!0});(0,react.useEffect)((()=>((isPanelOpen||isFlyout)&&handleChange(),()=>{handleChange.cancel()})),[isPanelOpen,isFlyout]),(0,react.useEffect)((()=>(core.A.addEventListener("annotationSelected",handleChange),core.A.addEventListener("toolModeUpdated",handleChange),()=>{core.A.removeEventListener("annotationSelected",handleChange),core.A.removeEventListener("toolModeUpdated",handleChange),handleChange.cancel()})),[]);if(!isPanelOpen&&!isFlyout)return null;const StylePanelComponent=(selectedAnnotations.length>0?(0,stylePanelHelper.mv)(selectedAnnotations,filteredTypes):!annotationCreateToolNames.includes(currentTool?.name))?panels_NoToolStylePanel:getStylePanelComponent(currentTool,selectedAnnotations);return(0,jsx_runtime.jsx)(DataElementWrapper.A,{dataElement,className:classnames_default()("Panel","StylePanel",{isFlyout}),children:(0,jsx_runtime.jsx)(StylePanelComponent,{currentTool,selectedAnnotations})})};StylePanelContainer.propTypes=propTypes;const StylePanel_StylePanelContainer=StylePanelContainer;StylePanelContainer.__docgenInfo={description:"",methods:[],displayName:"StylePanelContainer",props:{dataElement:{defaultValue:{value:"DataElements.STYLE_PANEL",computed:!0},description:"",type:{name:"string"},required:!1},isFlyout:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}}},"./src/components/StylePanel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/StylePanel/StylePanelContainer.js").A},"./src/helpers/getAnnotationCreateToolNames.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>{const toolNames=[],toolModeMap=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolModeMap();return Object.keys(toolModeMap).forEach((toolMode=>{const tool=toolModeMap[toolMode];(tool instanceof window.Core.Tools.GenericAnnotationCreateTool||tool instanceof window.Core.Tools.TextAnnotationCreateTool||tool.defaults)&&toolNames.push(tool.name)})),toolNames}},"./src/helpers/keyboardNavigationHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>elementsHaveChanged,v:()=>getElementToFocusOnIndex});const elementsHaveChanged=(newElements,oldElements)=>{if(newElements.length!==oldElements.length)return!0;for(let i=0;i<newElements.length;i++)if(newElements[i]!==oldElements[i])return!0;return!1},getElementToFocusOnIndex=(newFocusableElements,oldFocusableElements,currentFocusIndex)=>{if(currentFocusIndex<0)return;const currentElement=oldFocusableElements[currentFocusIndex],newIndex=Array.from(newFocusableElements).findIndex((element=>element===currentElement));if(-1!==newIndex)return newIndex;if(newFocusableElements[currentFocusIndex])return currentFocusIndex;return newFocusableElements[currentFocusIndex-1]?currentFocusIndex-1:newFocusableElements.length-1}},"./src/hooks/useOnFreeTextEdit/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useOnFreeTextEdit});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./src/redux/actions/index.js"),core=__webpack_require__("./src/core/index.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");const hooks_useOnFreeTextEdit=function useOnFreeTextEdit(saveEditorInstance){const dispatch=(0,es.wA)(),[annotation,setAnnotation]=(0,react.useState)(null),[editor,setEditor]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const handleEditorFocus=(editor,annotation)=>{setTimeout((()=>{annotation instanceof window.Core.Annotations.FreeTextAnnotation&&!annotation.getContentEditAnnotationId()&&annotation.ToolName!==window.Core.Tools.ToolNames.ADD_PARAGRAPH&&(setAnnotation(annotation),setEditor(editor),saveEditorInstance&&saveEditorInstance([editor,annotation]),dispatch(actions.A.openElements(dataElement.A.RICH_TEXT_POPUP)))}),0)};return core.A.addEventListener("editorFocus",handleEditorFocus),()=>{core.A.removeEventListener("editorFocus",handleEditorFocus)}}),[dispatch]),{editor,annotation}}}}]);