(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[68e3],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextPreview/NoteTextPreview.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".note-text-preview{font-size:13px;color:var(--gray-7);padding-inline-end:var(--note-content-right-padding-width);-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important;cursor:text;height:-moz-fit-content;height:fit-content;width:calc(100% - var(--note-content-right-padding-width));overflow:hidden}.note-text-preview>*{pointer-events:all}.preview-comment{color:var(--text-color)}.note-text-preview-prompt{cursor:pointer;color:var(--primary-button);text-decoration:underline;position:relative;pointer-events:auto;background:transparent;border:none;padding:0}.note-text-preview-prompt:hover{color:var(--primary-button-hover)}.trackedChangePopup .note-text-preview{max-height:400px;overflow-y:auto;width:calc(100% + var(--note-content-right-padding-width))}",""]),module.exports=exports},"./src/components/NoteTextPreview/NoteTextPreview.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__("./src/components/NoteTextPreview/NoteTextPreview.scss");function NoteTextPreview(props){const text=props.children.replace(/\n$/,""),{panelWidth,linesToBreak,renderRichText,richTextStyle,resize,style,comment=!1,beforeContent=()=>{}}=props,[expanded,setExpand]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[previewElementWidth,setPreviewWidth]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[charsPerLine,setCharsperLine]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[showPrompt,setShowPrompt]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),ref=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.B)(),textToDisplay=expanded?text:text.substring(0,charsPerLine*linesToBreak),prompt=t(expanded?"action.showLess":"action.showMore"),noteTextPreviewClass=classnames__WEBPACK_IMPORTED_MODULE_2___default()("note-text-preview",{"preview-comment":comment});return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const textNodeWidth=ref.current.clientWidth;setPreviewWidth(textNodeWidth)}),[panelWidth]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{const textWidth=function getTextWidth(text){const context=document.createElement("canvas").getContext("2d");return context.font="13px sans-serif",context.measureText(text).width}(text),averageCharWidth=textWidth/text.length,charsPerLine=Math.floor(previewElementWidth/averageCharWidth);setCharsperLine(charsPerLine);setShowPrompt(textWidth/previewElementWidth>linesToBreak)}),[text,previewElementWidth]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:noteTextPreviewClass,ref,style,"aria-live":"polite",children:[beforeContent(),renderRichText&&richTextStyle?renderRichText(textToDisplay,richTextStyle,0):textToDisplay," ",showPrompt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"note-text-preview-prompt",onClick:event=>{event.stopPropagation(),setExpand(!expanded),resize&&resize()},children:prompt})]})}NoteTextPreview.propTypes={panelWidth:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,linesToBreak:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,renderRichText:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,richTextStyle:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,resize:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,style:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,comment:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,beforeContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=NoteTextPreview;NoteTextPreview.__docgenInfo={description:"",methods:[],displayName:"NoteTextPreview",props:{panelWidth:{description:"",type:{name:"number"},required:!1},linesToBreak:{description:"",type:{name:"number"},required:!1},renderRichText:{description:"",type:{name:"func"},required:!1},richTextStyle:{description:"",type:{name:"any"},required:!1},resize:{description:"",type:{name:"func"},required:!1},style:{description:"",type:{name:"any"},required:!1},comment:{description:"",type:{name:"bool"},required:!1},beforeContent:{description:"",type:{name:"func"},required:!1}}}},"./src/components/NoteTextPreview/NoteTextPreview.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/NoteTextPreview/NoteTextPreview.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/RedactionPanel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/RedactionPanel/RedactionPanelContainer.js").A}}]);