(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[3999],{"./src/components/ReplyAttachmentList/ReplyAttachmentList.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DisplayMode:()=>DisplayMode,EditMode:()=>EditMode,UnsafeSVGAttachment:()=>UnsafeSVGAttachment,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ReplyAttachmentList__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ReplyAttachmentList/ReplyAttachmentList.js"),redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const __WEBPACK_DEFAULT_EXPORT__={title:"Components/ReplyAttachmentList",component:_ReplyAttachmentList__WEBPACK_IMPORTED_MODULE_1__.A,parameters:{customizableUI:!0}};var initialState={viewer:{disabledElements:{},customElementOverrides:{},replyAttachmentPreviewEnabled:!0}};var store=(0,redux__WEBPACK_IMPORTED_MODULE_3__.y$)((function rootReducer(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState})),files=[{name:"file_1.pdf"},{name:"file_2.doc"},{name:"file_3_extra_long_file_name.cad"}];function DisplayMode(){var props={files,isEditing:!1};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Kq,{store},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"200px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ReplyAttachmentList__WEBPACK_IMPORTED_MODULE_1__.A,props)))}function EditMode(){var props={files,isEditing:!0};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Kq,{store},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"200px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ReplyAttachmentList__WEBPACK_IMPORTED_MODULE_1__.A,props)))}var svgBlob=new Blob(['\n  <?xml version="1.0" standalone="no"?>\n  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n  <svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg">\n    <polygon id="triangle" points="0,0 0,50 50,0" fill="#009900" stroke="#004400"/>\n    <script type="text/javascript">\n      window.location.href = \'https://apryse.com\'\n    <\/script>\n  </svg>\n'],{type:"image/svg+xml"}),svgFile=new File([svgBlob],"redirect.svg",{type:"image/svg+xml"});function UnsafeSVGAttachment(){var props={files:_to_consumable_array(files).concat([svgFile]),isEditing:!1};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Kq,{store},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"200px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ReplyAttachmentList__WEBPACK_IMPORTED_MODULE_1__.A,props)))}DisplayMode.parameters={...DisplayMode.parameters,docs:{...DisplayMode.parameters?.docs,source:{originalSource:"function DisplayMode() {\n  const props = {\n    files,\n    isEditing: false\n  };\n  return <Provider store={store}>\n      <div style={{\n      width: '200px'\n    }}>\n        <ReplyAttachmentList {...props} />\n      </div>\n    </Provider>;\n}",...DisplayMode.parameters?.docs?.source}}},EditMode.parameters={...EditMode.parameters,docs:{...EditMode.parameters?.docs,source:{originalSource:"function EditMode() {\n  const props = {\n    files,\n    isEditing: true\n  };\n  return <Provider store={store}>\n      <div style={{\n      width: '200px'\n    }}>\n        <ReplyAttachmentList {...props} />\n      </div>\n    </Provider>;\n}",...EditMode.parameters?.docs?.source}}},UnsafeSVGAttachment.parameters={...UnsafeSVGAttachment.parameters,docs:{...UnsafeSVGAttachment.parameters?.docs,source:{originalSource:"function UnsafeSVGAttachment() {\n  const props = {\n    files: [...files, svgFile],\n    isEditing: false\n  };\n  return <Provider store={store}>\n      <div style={{\n      width: '200px'\n    }}>\n        <ReplyAttachmentList {...props} />\n      </div>\n    </Provider>;\n}",...UnsafeSVGAttachment.parameters?.docs?.source}}};const __namedExportsOrder=["DisplayMode","EditMode","UnsafeSVGAttachment"]},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ReplyAttachmentList/ReplyAttachmentList.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".reply-attachment-list{display:flex;flex-direction:column;cursor:default}.reply-attachment-list .reply-attachment{background-color:var(--gray-1);border-radius:4px;cursor:pointer}.reply-attachment-list .reply-attachment:not(:last-child){margin-bottom:8px}.reply-attachment-list .reply-attachment .reply-attachment-preview{width:100%;max-height:80px;display:flex;justify-content:center}.reply-attachment-list .reply-attachment .reply-attachment-preview.dirty{position:relative;margin-bottom:15px}.reply-attachment-list .reply-attachment .reply-attachment-preview img{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.reply-attachment-list .reply-attachment .reply-attachment-preview .reply-attachment-preview-message{font-size:11px;color:var(--error-text-color);position:absolute;bottom:-15px;left:10px}.reply-attachment-list .reply-attachment .reply-attachment-info{display:flex;align-items:center;height:40px;padding:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-attachment-icon{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-file-name{height:16px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:8px;margin-right:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button:hover{background-color:var(--blue-1)}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button .Icon{height:16px;width:16px}",""]),module.exports=exports},"./src/components/ReplyAttachmentList/ReplyAttachmentList.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/ReplyAttachmentList/ReplyAttachmentList.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Button/Button.js");const __WEBPACK_DEFAULT_EXPORT__=_Button__WEBPACK_IMPORTED_MODULE_0__.A;_Button__WEBPACK_IMPORTED_MODULE_0__.A.__docgenInfo={description:"",methods:[],displayName:"Button",props:{isActive:{description:"",type:{name:"bool"},required:!1},mediaQueryClassName:{description:"",type:{name:"string"},required:!1},img:{description:"",type:{name:"string"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},title:{description:"",type:{name:"string"},required:!1},color:{description:"",type:{name:"string"},required:!1},dataElement:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},onDoubleClick:{description:"",type:{name:"func"},required:!1},onMouseUp:{description:"",type:{name:"func"},required:!1},isSubmitType:{description:"",type:{name:"bool"},required:!1},ariaLabel:{description:"Will override translated title if both given.",type:{name:"string"},required:!1},ariaControls:{description:"",type:{name:"string"},required:!1},role:{description:"",type:{name:"string"},required:!1},hideTooltipShortcut:{description:"",type:{name:"bool"},required:!1},useI18String:{description:"",type:{name:"bool"},required:!1},shouldPassActiveDocumentViewerKeyToOnClickHandler:{description:"",type:{name:"bool"},required:!1},children:{description:"",type:{name:"node"},required:!1}}}},"./src/components/ReplyAttachmentList/ReplyAttachmentList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_ReplyAttachmentList_ReplyAttachmentList});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),FileSaver_min=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js"),Button=__webpack_require__("./src/components/Button/index.js"),Icon=__webpack_require__("./src/components/Icon/index.js"),Tooltip=__webpack_require__("./src/components/Tooltip/index.js"),ReplyAttachmentManager=__webpack_require__("./src/helpers/ReplyAttachmentManager.js"),purify=__webpack_require__("./node_modules/dompurify/dist/purify.js"),purify_default=__webpack_require__.n(purify);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var _ref,readAsText=function(svg){return new Promise((function(resolve){if(void 0===svg.size)resolve(svg.toString("utf-8"));else{var fileReader=new FileReader;fileReader.onload=function(){return resolve(fileReader.result)},fileReader.readAsText(svg)}}))},sanitizeSVG=(_ref=function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}((function(file){var svgText,forbiddenTags,clean;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,readAsText(file)];case 1:return(svgText=_state.sent())?(forbiddenTags=[],purify_default().addHook("uponSanitizeElement",(function(_,hookEvent){var tagName=hookEvent.tagName;hookEvent.allowedTags[tagName]||forbiddenTags.push(tagName)})),clean=purify_default().sanitize(svgText),[2,{svg:new Blob([clean],{type:"image/svg+xml"}),isDirty:forbiddenTags.length>0}]):[2,{svg:file}]}}))})),function sanitizeSVG(file){return _ref.apply(this,arguments)});__webpack_require__("./src/components/ReplyAttachmentList/ReplyAttachmentList.scss");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ReplyAttachmentList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ReplyAttachmentList_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ReplyAttachmentList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ReplyAttachmentList_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ReplyAttachmentList_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var ImagePreview=function(param){var file=param.file,t=_sliced_to_array((0,useTranslation.B)(),1)[0],_useState=_sliced_to_array((0,react.useState)(),2),src=_useState[0],setSrc=_useState[1],_useState1=_sliced_to_array((0,react.useState)(!1),2),isDirtySVG=_useState1[0],setIsDirtySvg=_useState1[1];return(0,react.useEffect)((function(){var processImagePreview=function(){var _ref=ReplyAttachmentList_async_to_generator((function(){var fileToSanitize,isImageFromPDF,_ref,svg,isDirty;return ReplyAttachmentList_ts_generator(this,(function(_state){switch(_state.label){case 0:return setIsDirtySvg(!1),fileToSanitize=file,(isImageFromPDF=!_instanceof(file,File)&&!file.url)?[4,(0,ReplyAttachmentManager.jF)(file)]:[3,2];case 1:fileToSanitize=_state.sent(),_state.label=2;case 2:return _instanceof(file,File)||isImageFromPDF?function(file){return"image/svg+xml"===file.type}(file)?[4,sanitizeSVG(fileToSanitize)]:[3,4]:[3,5];case 3:return _ref=_state.sent(),svg=_ref.svg,isDirty=_ref.isDirty,setSrc(URL.createObjectURL(svg)),setIsDirtySvg(isDirty),[3,5];case 4:setSrc(URL.createObjectURL(fileToSanitize)),_state.label=5;case 5:return[2]}}))}));return function processImagePreview(){return _ref.apply(this,arguments)}}();processImagePreview()}),[file]),react.createElement("div",{className:classnames_default()({"reply-attachment-preview":!0,dirty:isDirtySVG})},react.createElement("img",{src}),isDirtySVG&&react.createElement("span",{className:"reply-attachment-preview-message"},t("message.svgMalicious")))},ReplyAttachmentList_ReplyAttachmentList=function(param){var files=param.files,isEditing=param.isEditing,fileDeleted=param.fileDeleted,_useSelector=_sliced_to_array((0,es.d4)((function(state){return[selectors.A.getTabManager(state),selectors.A.isReplyAttachmentPreviewEnabled(state)]})),2),tabManager=_useSelector[0],previewEnabled=_useSelector[1],t=_sliced_to_array((0,useTranslation.B)(),1)[0],onClick=function(){var _ref=ReplyAttachmentList_async_to_generator((function(e,file){var fileData;return ReplyAttachmentList_ts_generator(this,(function(_state){switch(_state.label){case 0:return e.preventDefault(),e.stopPropagation(),tabManager?_instanceof(file,File)?(fileData=file,[3,4]):[3,1]:[2,console.warn("Can't open attachment in non-multi-tab mode")];case 1:return file.url?(fileData=file.url,[3,4]):[3,2];case 2:return[4,(0,ReplyAttachmentManager.jF)(file)];case 3:fileData=_state.sent(),_state.label=4;case 4:return fileData&&tabManager.addTab(fileData,{filename:file.name,setActive:!0,saveCurrentActiveTabState:!0}),[2]}}))}));return function onClick(e,file){return _ref.apply(this,arguments)}}(),onDownload=function(){var _ref=ReplyAttachmentList_async_to_generator((function(e,file){var fileData,_tmp;return ReplyAttachmentList_ts_generator(this,(function(_state){switch(_state.label){case 0:return e.preventDefault(),e.stopPropagation(),file.url?(_tmp=file.url,[3,3]):[3,1];case 1:return[4,(0,ReplyAttachmentManager.jF)(file)];case 2:_tmp=_state.sent(),_state.label=3;case 3:return fileData=_tmp,(0,FileSaver_min.saveAs)(fileData,file.name),[2]}}))}));return function onDownload(e,file){return _ref.apply(this,arguments)}}();return react.createElement("div",{className:"reply-attachment-list"},files.map((function(file,i){return react.createElement("div",{className:"reply-attachment",key:i,onClick:function(e){return onClick(e,file)}},previewEnabled&&(0,ReplyAttachmentManager.wu)(file)&&react.createElement(ImagePreview,{file}),react.createElement("div",{className:"reply-attachment-info"},react.createElement(Icon.A,{className:"reply-attachment-icon",glyph:(0,ReplyAttachmentManager.HY)(file)}),react.createElement(Tooltip.A,{content:file.name},react.createElement("div",{className:"reply-file-name"},file.name)),isEditing?react.createElement(Button.A,{className:"attachment-button",title:"".concat(t("action.delete")," ").concat(t("option.type.fileattachment")),img:"icon-close",onClick:function(e){return function(e,file){e.preventDefault(),e.stopPropagation(),fileDeleted(file)}(e,file)}}):react.createElement(Button.A,{className:"attachment-button",title:"".concat(t("action.download")," ").concat(t("option.type.fileattachment")),img:"icon-download",onClick:function(e){return onDownload(e,file)}})))})))};const components_ReplyAttachmentList_ReplyAttachmentList=ReplyAttachmentList_ReplyAttachmentList;ReplyAttachmentList_ReplyAttachmentList.__docgenInfo={description:"",methods:[],displayName:"ReplyAttachmentList"}},"./src/helpers/ReplyAttachmentManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}__webpack_require__.d(__webpack_exports__,{ET:()=>setAnnotationAttachments,HY:()=>getAttachmentIcon,jF:()=>decompressFileContent,wu:()=>isImage});var icons={pdf:"ic-file-pdf",image:"ic-file-img",cad:"ic-file-cad",doc:"ic-file-doc",ppt:"ic-file-ppt",xls:"ic-file-xls",unknown:"ic-file-etc"},FileAttachmentUtils=window.Core.Annotations.FileAttachmentUtils;function decompressFileContent(file){return _decompressFileContent.apply(this,arguments)}function _decompressFileContent(){return(_decompressFileContent=_async_to_generator((function(file){return _ts_generator(this,(function(_state){return[2,FileAttachmentUtils.decompressWithFlateDecode(file.content,file.type)]}))}))).apply(this,arguments)}function setAnnotationAttachments(annotation){return _setAnnotationAttachments.apply(this,arguments)}function _setAnnotationAttachments(){return _setAnnotationAttachments=_async_to_generator((function(annotation){var files,_arguments=arguments;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return files=_arguments.length>1&&void 0!==_arguments[1]?_arguments[1]:[],[4,annotation.setAttachments(files)];case 1:return _state.sent(),[2]}}))})),_setAnnotationAttachments.apply(this,arguments)}function isImage(file){return!(!file.type||!file.type.startsWith("image/"))}function getAttachmentIcon(file){var _file_name;if(isImage(file))return icons.image;switch(null===(_file_name=file.name)||void 0===_file_name?void 0:_file_name.split(".").pop().toLowerCase()){case"pdf":return icons.pdf;case"cad":return icons.cad;case"doc":case"docx":return icons.doc;case"ppt":case"pptx":return icons.ppt;case"xls":case"xlsx":return icons.xls;default:return icons.unknown}}}}]);