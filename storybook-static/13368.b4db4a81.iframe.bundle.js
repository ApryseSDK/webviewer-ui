(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[13368],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/FlyoutMenu/FlyoutMenu.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.FlyoutMenu{visibility:visible}.closed.FlyoutMenu{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.FlyoutMenu{position:absolute;z-index:95;overflow:auto;display:flex;flex-direction:column;align-items:flex-start;border-radius:4px;background:var(--component-background);box-shadow:0 0 3px 0 var(--document-box-shadow);padding:6px 0}@media(max-height:500px){.App:not(.is-web-component) .FlyoutMenu{max-height:100%;display:block}}@container (max-height: 500px){.App.is-web-component .FlyoutMenu{max-height:100%;display:block}}.FlyoutMenu .row{width:100%;margin:2px 0;height:32px;display:flex;align-items:center;padding-inline-start:12px;padding-inline-end:18px;cursor:pointer}.FlyoutMenu .row:hover{background:var(--popup-button-hover)}.FlyoutMenu .row.active{background:var(--popup-button-active)}.FlyoutMenu .row .title{margin-inline-start:4px}.FlyoutMenu .type{margin-top:2px;margin-bottom:8px;padding-inline-start:12px;padding-inline-end:18px;font-weight:700}.FlyoutMenu .divider{margin:8px}.FlyoutMenu .divider,.FlyoutMenu .dividerSmall{height:1px;background:var(--divider);width:calc(100% - 16px)}.FlyoutMenu .dividerSmall{margin:2px 8px}.FlyoutMenu.mobile{position:fixed;width:100%;inset-inline-start:0;inset-block-end:0;border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px;border:0;box-shadow:0 0 3px 0 var(--document-box-shadow);padding-top:30px;padding-bottom:30px}.FlyoutMenu.mobile .swipe-indicator{background:var(--gray-6);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}.FlyoutMenu.mobile .row,.FlyoutMenu.mobile .type{padding:0 24px}.FlyoutMenu[data-element=pageManipulationOverlay] .Button .Icon path,.FlyoutMenu[data-element=pageManipulationOverlay] .Button .Icon rect{fill:var(--icon-color)}.FlyoutMenu[data-element=pageManipulationOverlay].mobile{z-index:101}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/apis/disableFeatures.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createFeatureAPI.js");const __WEBPACK_DEFAULT_EXPORT__=store=>(0,helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__.A)(false,store)},"./src/apis/disableTools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createToolAPI.js");const __WEBPACK_DEFAULT_EXPORT__=store=>(0,helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__.A)(false,store)},"./src/apis/enableFeatures.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createFeatureAPI.js");const __WEBPACK_DEFAULT_EXPORT__=store=>(0,helpers_createFeatureAPI__WEBPACK_IMPORTED_MODULE_0__.A)(true,store)},"./src/apis/enableTools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/createToolAPI.js");const __WEBPACK_DEFAULT_EXPORT__=store=>(0,helpers_createToolAPI__WEBPACK_IMPORTED_MODULE_0__.A)(true,store)},"./src/apis/hotkeys.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/hotkeysManager.js");const __WEBPACK_DEFAULT_EXPORT__={on:(...args)=>{helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_0__.Ay.on(...args)},off:(...args)=>{helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_0__.Ay.off(...args)},restoreHotkeys:()=>{helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_0__.Ay.restoreHotkeys()},Keys:helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_0__.D$}},"./src/apis/setToolMode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js");const __WEBPACK_DEFAULT_EXPORT__=store=>toolName=>{const state=store.getState(),featureFlags=state.featureFlags,{customizableUI}=featureFlags;if(customizableUI){const ribbonAssociatedWithTool=selectors__WEBPACK_IMPORTED_MODULE_2__.A.getRibbonAssociatedWithTool(state,toolName);ribbonAssociatedWithTool&&store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setActiveCustomRibbon(ribbonAssociatedWithTool))}core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode(toolName)}},"./src/components/FlyoutMenu/FlyoutMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_FlyoutMenu_FlyoutMenu});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),actions=__webpack_require__("./src/redux/actions/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),getOverlayPositionBasedOn=__webpack_require__("./src/helpers/getOverlayPositionBasedOn.js"),getDeviceSize=__webpack_require__("./src/helpers/getDeviceSize.js"),useOnClickOutside=__webpack_require__("./src/hooks/useOnClickOutside.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_swipeable_es=__webpack_require__("./node_modules/react-swipeable/es/index.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),domUtils=__webpack_require__("./node_modules/@pdftron/webviewer-react-toolkit/dist/esm/utils/domUtils.js"),accessibility=__webpack_require__("./src/helpers/accessibility.js");var getRootNode=__webpack_require__("./src/helpers/getRootNode.js"),dataElement=__webpack_require__("./src/constants/dataElement.js");__webpack_require__("./src/components/FlyoutMenu/FlyoutMenu.scss");const MENUS=[dataElement.A.MENU_OVERLAY,"groupOverlay",dataElement.A.VIEW_CONTROLS_OVERLAY,"searchOverlay","signatureOverlay",dataElement.A.ZOOM_OVERLAY,"zoomOverlay1","zoomOverlay2","redactionOverlay","toolStylePopup",dataElement.A.PAGE_MANIPULATION_OVERLAY,dataElement.A.THUMBNAILS_CONTROL_MANIPULATE_POPUP,dataElement.A.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL,"tabMenu"],TRIGGERS=[dataElement.A.MENU_OVERLAY_BUTTON,dataElement.A.VIEW_CONTROLS_OVERLAY_BUTTON,dataElement.A.ZOOM_OVERLAY_BUTTON,"zoomOverlayButton1","zoomOverlayButton2",dataElement.A.PAGE_MANIPULATION_OVERLAY_BUTTON,dataElement.A.THUMBNAILS_CONTROL_ROTATE_POPUP_TRIGGER,dataElement.A.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER,dataElement.A.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER,"tabTrigger"],propTypes={menu:prop_types_default().oneOf(MENUS).isRequired,trigger:prop_types_default().oneOf(TRIGGERS).isRequired,children:prop_types_default().node.isRequired,onClose:prop_types_default().func,ariaLabel:prop_types_default().string},viewerHeight=window.isApryseWebViewerWebComponent?(0,getRootNode.Ay)()?.host.clientHeight:window.innerHeight;function FlyoutMenu_FlyoutMenu({menu,trigger,onClose,children,ariaLabel}){const dispatch=(0,es.wA)(),allOtherMenus=(0,react.useMemo)((()=>MENUS.filter((m=>m!==menu))),[menu]),isDisabled=(0,es.d4)((state=>selectors.A.isElementDisabled(state,menu))),isOpen=(0,es.d4)((state=>selectors.A.isElementOpen(state,menu))),isInDesktopOnlyMode=(0,es.d4)((state=>selectors.A.isInDesktopOnlyMode(state))),pageManipulationOverlayAlternativePosition=(0,es.d4)((state=>selectors.A.getPageManipulationOverlayAlternativePosition(state))),closeMenu=(0,react.useCallback)((()=>{dispatch(actions.A.closeElements([menu])),onClose&&onClose()}),[dispatch,menu,onClose]),overlayRef=(0,react.useRef)(null);!function useArrowFocus(isOpen,onClose,overlayRef){const getFocusableElements=(0,react.useCallback)((()=>overlayRef.current.querySelectorAll(domUtils.O1)),[overlayRef]);(0,react.useEffect)((()=>{if(isOpen){const lastFocusedElement=document.activeElement,keydownListener=e=>{if("Tab"===e.key||"Escape"===e.key)return onClose(),void(lastFocusedElement&&lastFocusedElement.focus());if("ArrowUp"===e.key||"ArrowDown"===e.key){const focusable=getFocusableElements();if(0===focusable.length)return;let focusIndex=(0,accessibility.ci)(focusable,document.activeElement);"ArrowUp"===e.key&&-1===focusIndex&&(focusIndex=0),focusable[(focusIndex+("ArrowUp"===e.key?-1:1)+focusable.length)%focusable.length].focus(),document.documentElement.setAttribute("data-tabbing","true")}};return window.addEventListener("keydown",keydownListener),()=>window.removeEventListener("keydown",keydownListener)}}),[getFocusableElements,isOpen,onClose])}(!isDisabled&&isOpen,closeMenu,overlayRef);const onClickOutside=(0,react.useCallback)((e=>{const menuButton=(0,getRootNode.Ay)().querySelector(`[data-element="${trigger}"]`),clickedMenuButton=menuButton?.contains(e.target);clickedMenuButton||closeMenu()}),[closeMenu,trigger]);(0,useOnClickOutside.A)(overlayRef,onClickOutside);const[position,setPosition]=(0,react.useState)((()=>({left:0,right:"auto",top:"auto"}))),isMobile=(0,getDeviceSize.IS)(),isTabletAndMobile=(0,getDeviceSize.$p)();if((0,react.useLayoutEffect)((()=>{if(isOpen){dispatch(actions.A.closeElements(allOtherMenus));const onResize=()=>{let overlayAlternativePosition;trigger===dataElement.A.PAGE_MANIPULATION_OVERLAY_BUTTON&&pageManipulationOverlayAlternativePosition?overlayAlternativePosition=(()=>{const alternativePosition=pageManipulationOverlayAlternativePosition,verticalGap=isMobile&&isTabletAndMobile?14:6,clickTop=alternativePosition.top;let top=clickTop+verticalGap;if(clickTop>100){const flyoutMenuHeight=overlayRef.current.clientHeight;if(clickTop+flyoutMenuHeight>viewerHeight){const calculatedTop=viewerHeight-flyoutMenuHeight-verticalGap;top=calculatedTop>0?calculatedTop:0,alternativePosition.top=top}}return alternativePosition})():(overlayAlternativePosition=(0,getOverlayPositionBasedOn.A)(trigger,overlayRef,isMobile&&isTabletAndMobile),overlayAlternativePosition.maxHeight=viewerHeight-overlayAlternativePosition.top),setPosition(overlayAlternativePosition)};return onResize(),window.addEventListener("resize",onResize),()=>window.removeEventListener("resize",onResize)}}),[allOtherMenus,dispatch,isOpen,isTabletAndMobile,trigger,isMobile]),isDisabled)return null;const overlayClass=classnames_default()("Overlay","FlyoutMenu",{mobile:isMobile&&!isInDesktopOnlyMode,closed:!isOpen});return(0,jsx_runtime.jsx)(react_swipeable_es.Hx,{onSwipedUp:closeMenu,onSwipedDown:closeMenu,preventDefaultTouchmoveEvent:!0,children:(0,jsx_runtime.jsxs)("div",{className:overlayClass,"data-element":menu,style:!isMobile||isInDesktopOnlyMode?position:void 0,ref:overlayRef,role:"listbox","aria-label":ariaLabel,children:[isMobile&&!isInDesktopOnlyMode&&(0,jsx_runtime.jsx)("div",{className:"swipe-indicator"}),children]})})}FlyoutMenu_FlyoutMenu.propTypes=propTypes;const components_FlyoutMenu_FlyoutMenu=FlyoutMenu_FlyoutMenu;FlyoutMenu_FlyoutMenu.__docgenInfo={description:"",methods:[],displayName:"FlyoutMenu",props:{menu:{description:"Menu must be one of the available menus.",type:{name:"enum",value:[{value:"DataElements.MENU_OVERLAY",computed:!0},{value:"'groupOverlay'",computed:!1},{value:"DataElements.VIEW_CONTROLS_OVERLAY",computed:!0},{value:"'searchOverlay'",computed:!1},{value:"'signatureOverlay'",computed:!1},{value:"DataElements.ZOOM_OVERLAY",computed:!0},{value:"'zoomOverlay1'",computed:!1},{value:"'zoomOverlay2'",computed:!1},{value:"'redactionOverlay'",computed:!1},{value:"'toolStylePopup'",computed:!1},{value:"DataElements.PAGE_MANIPULATION_OVERLAY",computed:!0},{value:"DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP",computed:!0},{value:"DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL",computed:!0},{value:"'tabMenu'",computed:!1}]},required:!0},trigger:{description:"The button that triggered the menu.",type:{name:"enum",value:[{value:"DataElements.MENU_OVERLAY_BUTTON",computed:!0},{value:"DataElements.VIEW_CONTROLS_OVERLAY_BUTTON",computed:!0},{value:"DataElements.ZOOM_OVERLAY_BUTTON",computed:!0},{value:"'zoomOverlayButton1'",computed:!1},{value:"'zoomOverlayButton2'",computed:!1},{value:"DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON",computed:!0},{value:"DataElements.THUMBNAILS_CONTROL_ROTATE_POPUP_TRIGGER",computed:!0},{value:"DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER",computed:!0},{value:"DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER",computed:!0},{value:"'tabTrigger'",computed:!1}]},required:!0},children:{description:"The menu content.",type:{name:"node"},required:!0},onClose:{description:"Fired when the menu is closed.",type:{name:"func"},required:!1},ariaLabel:{description:"Accessibility",type:{name:"string"},required:!1}}}},"./src/components/FlyoutMenu/FlyoutMenu.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/FlyoutMenu/FlyoutMenu.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/constants/displayModeObjects.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=[{displayMode:"Single",pageTransition:"default",layout:"single"},{displayMode:"Continuous",pageTransition:"continuous",layout:"single"},{displayMode:"Facing",pageTransition:"default",layout:"double"},{displayMode:"FacingContinuous",pageTransition:"continuous",layout:"double"},{displayMode:"CoverFacing",pageTransition:"default",layout:"cover"},{displayMode:"Cover",pageTransition:"continuous",layout:"cover"}]},"./src/helpers/TouchEventManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_device__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/device.js"),helpers_getNumberOfPagesToNavigate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/getNumberOfPagesToNavigate.js"),constants_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/map.js"),constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants/zoomFactors.js");const touchType_TAP="tap",touchType_DOUBLE_TAP="doubleTap",touchType_PINCH="pinch",touchType_PAN="pan",touchType_SWIPE="swipe",TouchEventManager={initialize(document,container){this.document=document,this.container=container,this.allowSwipe=!0,this.allowHorizontalSwipe=!0,this.allowVerticalSwipe=!1,this.verticalMomentum=0,this.horziontalMomentum=0,this.verticalLock=!1,this.horziontalLock=!1,this.enableTouchScrollLock=!0,this.startingScrollLeft=null,this.startingScrollTop=null,this._useNativeScroll=!1;try{const val1=localStorage.getItem("useNativeScroll");val1&&(this._useNativeScroll=JSON.parse(val1))}catch(err){console.warn(`localStorage could not be accessed. ${err.message}`)}this.touch={clientX:0,clientY:0,distance:0,horizontalDistance:0,verticalDistance:0,scale:1,zoom:1,type:""},this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchCancel=this.handleTouchCancel.bind(this),this.container.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.container.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEnd,{passive:!1}),this.container.addEventListener("touchcancel",this.handleTouchCancel,{passive:!1})},terminate(){this.container.removeEventListener("touchstart",this.handleTouchStart),this.container.removeEventListener("touchmove",this.handleTouchMove),this.container.removeEventListener("touchend",this.handleTouchEnd),this.container.removeEventListener("touchcancel",this.handleTouchCancel)},handleTouchStart(e){if("Pan"===core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().name&&core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().isStylusModeEnabled()&&"stylus"===e.touches[0].touchType)core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode(core__WEBPACK_IMPORTED_MODULE_0__.A.getTool("Pan").previouslyUsedTool.name);else switch(e.touches.length){case 1:{const touch=e.touches[0],scrollWidth=this.container.clientWidth,viewerWidth=this.document.clientWidth,isDoubleTap=this.touch.type===touchType_TAP&&this.getDistance(this.touch,touch)<=10;this.touch={clientX:touch.clientX,clientY:touch.clientY,distance:0,scale:scrollWidth/viewerWidth,zoom:core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(),type:isDoubleTap?touchType_DOUBLE_TAP:touchType_TAP,touchStartTimeStamp:Date.now(),stopMomentumScroll:!0,touchMoveCount:0},this.startingScrollLeft=this.container.scrollLeft,this.startingScrollTop=this.container.scrollTop,clearTimeout(this.doubleTapTimeout);break}case 2:{e.cancelable&&e.preventDefault();const t1=e.touches[0],t2=e.touches[1],clientX=(t1.clientX+t2.clientX)/2,clientY=(t1.clientY+t2.clientY)/2,docX=clientX-this.document.offsetLeft+this.container.scrollLeft,docY=clientY-this.document.offsetTop+this.container.scrollTop;this.touch={previousPinchScale:0,marginLeft:this.document.offsetLeft,marginTop:parseFloat(window.getComputedStyle(this.document).marginTop),clientX,clientY,docX,docY,distance:this.getDistance(t1,t2),scale:1,zoom:core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom(),touchStartTimeStamp:Date.now(),stopMomentumScroll:!0,touchMoveCount:0},helpers_device__WEBPACK_IMPORTED_MODULE_1__.un||(this.document.style.transformOrigin=`${docX}px ${docY}px`),this.startingScrollLeft=this.container.scrollLeft,this.startingScrollTop=this.container.scrollTop;break}}},axisLockThreshold:8,isScrollingVertically(){return Math.abs(this.verticalMomentum)>0&&0===this.horziontalMomentum||Math.abs(this.touch.verticalDistance)>this.axisLockThreshold*Math.abs(this.touch.horizontalDistance)},isScrollingHorziontally(){return Math.abs(this.horziontalMomentum)>0&&0===this.verticalMomentum||Math.abs(this.touch.horizontalDistance)>this.axisLockThreshold*Math.abs(this.touch.verticalDistance)},canLockScrolling(){const{container,document:doc}=this,doesPagesFitOnScreen=doc.clientWidth<container.clientWidth||doc.clientHeight<container.clientHeight,alreadyLocked=this.verticalLock||this.horziontalLock;return!doesPagesFitOnScreen&&this.enableTouchScrollLock&&this.touch.touchMoveCount<6&&!alreadyLocked},handleScroll(t){this.useNativeScroll||(this.touch.horizontalDistance=this.touch.clientX-t.clientX,this.touch.verticalDistance=this.touch.clientY-t.clientY,this.canLockScrolling()&&(this.verticalLock=this.isScrollingVertically(),this.horziontalLock=this.isScrollingHorziontally()),this.enableTouchScrollLock&&(this.verticalLock&&(this.container.scrollTo(this.startingScrollLeft,this.container.scrollTop),this.touch.horizontalDistance=0),this.horziontalLock&&(this.container.scrollTo(this.container.scrollLeft,this.startingScrollTop),this.touch.verticalDistance=0)))},handleTouchMove(e){switch(e.touches.length){case 1:{e.cancelable&&e.preventDefault();const t=e.touches[0];this.getDistance(this.touch,t)>10&&(this.touch.type=touchType_SWIPE),this.handleScroll(t),this.touch.touchMoveCount++;break}case 2:{const t1=e.touches[0],t2=e.touches[1],panTool=core__WEBPACK_IMPORTED_MODULE_0__.A.getTool("Pan"),isPanning=panTool.isPanning(),isPinching=panTool.isPinching();if(isPanning){this.touch.type=touchType_PAN,e.cancelable&&e.preventDefault();const t={clientX:(t1.clientX+t2.clientX)/2,clientY:(t1.clientY+t2.clientY)/2};this.getDistance(this.touch,t)>10&&(this.touch.type=touchType_SWIPE),this.handleScroll(t),this.touch.touchMoveCount++;break}if(isPinching){if(this.touch.type=touchType_PINCH,e.cancelable&&e.preventDefault(),this.touch.scale=this.getDistance(t1,t2)/this.touch.distance,this.touch.scale*this.touch.zoom<(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()?this.touch.scale=(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()/this.touch.zoom:this.touch.scale*this.touch.zoom>(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()&&(this.touch.scale=(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()/this.touch.zoom),helpers_device__WEBPACK_IMPORTED_MODULE_1__.un){const marginLeft=(this.touch.marginLeft-this.container.offsetLeft+(1-this.touch.scale)*this.touch.docX)/this.touch.scale,marginTop=(this.touch.marginTop+(1-this.touch.scale)*this.touch.docY)/this.touch.scale;this.document.style.marginLeft=`${marginLeft}px`,this.document.style.marginTop=`${marginTop}px`,this.document.style.zoom=this.touch.scale}else this.document.style.transform=`scale(${this.touch.scale})`;break}}}},handleTouchEnd(e){switch(this.touch.type){case touchType_TAP:this.doubleTapTimeout=setTimeout((()=>{this.touch.type=""}),300),this.horziontalLock=!1,this.verticalLock=!1;break;case touchType_SWIPE:{const isStylusModeDisabled=!core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().isStylusModeEnabled(),isUsingAnnotationToolsAndStylusIsDisabled=this.isUsingAnnotationTools()&&isStylusModeDisabled,isUsingPenAndStylusEnabled=this.isUsingPen()&&!isStylusModeDisabled,{container,document:doc}=this;if(!this.allowSwipe||isUsingAnnotationToolsAndStylusIsDisabled||isUsingPenAndStylusEnabled||core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedText().length||core__WEBPACK_IMPORTED_MODULE_0__.A.getSelectedAnnotations().length)return this.horziontalLock=!1,void(this.verticalLock=!1);const{reachedLeft,reachedTop,reachedRight,reachedBottom}=this.reachedBoundary(),threshold=.1*this.container.clientWidth,swipedToBottom=reachedBottom&&this.touch.verticalDistance>threshold,swipedToTop=reachedTop&&this.touch.verticalDistance<-threshold,swipedToRight=reachedRight&&this.touch.horizontalDistance>threshold,swipedToLeft=reachedLeft&&this.touch.horizontalDistance<-threshold,currentPage=core__WEBPACK_IMPORTED_MODULE_0__.A.getCurrentPage(),totalPages=core__WEBPACK_IMPORTED_MODULE_0__.A.getTotalPages(),numberOfPagesToNavigate=(0,helpers_getNumberOfPagesToNavigate__WEBPACK_IMPORTED_MODULE_2__.A)(),isFirstPage=1===currentPage,isLastPage=currentPage===totalPages,isSingleDisplayMode=!core__WEBPACK_IMPORTED_MODULE_0__.A.isContinuousDisplayMode(),doesPagesFitOnScreen=doc.clientWidth<container.clientWidth||doc.clientHeight<container.clientHeight,shouldGoToPrevPage=isSingleDisplayMode&&!isFirstPage&&(swipedToLeft&&this.allowHorizontalSwipe||swipedToTop&&this.allowVerticalSwipe)&&doesPagesFitOnScreen,shouldGoToNextPage=isSingleDisplayMode&&!isLastPage&&(swipedToRight&&this.allowHorizontalSwipe||swipedToBottom&&this.allowVerticalSwipe)&&doesPagesFitOnScreen;if(shouldGoToPrevPage)core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(Math.max(1,currentPage-numberOfPagesToNavigate));else if(shouldGoToNextPage)core__WEBPACK_IMPORTED_MODULE_0__.A.setCurrentPage(Math.min(totalPages,currentPage+numberOfPagesToNavigate));else if(!this.useNativeScroll){const millisecondsToSeconds=1e3,touchDuration=(Date.now()-this.touch.touchStartTimeStamp)/millisecondsToSeconds;touchDuration<.2?(this.touch.stopMomentumScroll=!1,this.startMomentumScroll(touchDuration)):(this.horziontalLock=!1,this.verticalLock=!1)}break}case touchType_DOUBLE_TAP:{const annotationUnderMouse=core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationByMouseEvent(e),isFreeTextUnderMouse=annotationUnderMouse&&annotationUnderMouse instanceof window.Core.Annotations.FreeTextAnnotation;if(this.isUsingAnnotationTools()){const tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode();tool.finish&&tool.finish()}else if(!isFreeTextUnderMouse){this.oldZoom?(this.touch.scale=Math.max(this.oldZoom/this.touch.zoom,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.U9)()/this.touch.zoom),this.oldZoom=null):(this.touch.scale=Math.min(3,(0,constants_zoomFactors__WEBPACK_IMPORTED_MODULE_4__.Wl)()/this.touch.zoom),this.oldZoom=this.touch.zoom);const zoom=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom()*this.touch.scale,{x,y}=this.getPointAfterScale();core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(zoom,x,y)}isFreeTextUnderMouse&&core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().trigger("annotationDoubleClicked",annotationUnderMouse);break}case touchType_PINCH:{if(this.touch.previousPinchScale===this.touch.scale)return;this.touch.previousPinchScale=this.touch.scale,helpers_device__WEBPACK_IMPORTED_MODULE_1__.un?(this.document.style.zoom=1,this.document.style.margin="auto"):this.document.style.transform="none";const zoom=core__WEBPACK_IMPORTED_MODULE_0__.A.getZoom()*this.touch.scale,{x,y}=this.getPointAfterScale();core__WEBPACK_IMPORTED_MODULE_0__.A.zoomTo(zoom,x,y);break}}this.touch.touchMoveCount=0,this.verticalMomentum=0,this.horziontalMomentum=0},handleTouchCancel(e){this.handleTouchEnd(e)},startMomentumScroll(touchDuration){let currentIteration=1;const initScrollLeft=this.container.scrollLeft,initScrollTop=this.container.scrollTop,dHorizontal=this.touch.horizontalDistance/touchDuration/1.85,dVertical=this.touch.verticalDistance/touchDuration/1.85,momentumScroll=()=>{const nextLeft=this.easeOutQuad(currentIteration,initScrollLeft,dHorizontal,70),nextTop=this.easeOutQuad(currentIteration,initScrollTop,dVertical,70);this.verticalMomentum=dVertical,this.horziontalMomentum=dHorizontal;const isNotNewTouchEvent=!this.touch.touchMoveCount,horzDiff=this.container.scrollLeft-nextLeft,vertDiff=this.container.scrollTop-nextTop,isMomentumScrollAlmostFinish=Math.abs(horzDiff)<1&&Math.abs(vertDiff)<1;this.container.scrollLeft=nextLeft,this.container.scrollTop=nextTop,isNotNewTouchEvent&&isMomentumScrollAlmostFinish&&(this.horziontalLock=!1,this.verticalLock=!1),currentIteration<70&&!this.touch.stopMomentumScroll&&(currentIteration++,requestAnimationFrame(momentumScroll)),isNotNewTouchEvent&&70===currentIteration&&(this.horziontalLock=!1,this.verticalLock=!1,this.verticalMomentum=0,this.horziontalMomentum=0)};requestAnimationFrame(momentumScroll)},easeOutQuad:(currentTime,startValue,changeInValue,duration)=>-changeInValue*(currentTime/=duration)*(currentTime-2)+startValue,reachedBoundary(){const{clientHeight:scrollHeight,clientWidth:scrollWidth,scrollLeft,scrollTop}=this.container,{clientHeight:viewerHeight,clientWidth:viewerWidth}=this.document;return{reachedLeft:scrollLeft<=0,reachedTop:scrollTop<=0,reachedBottom:scrollHeight+scrollTop>=viewerHeight,reachedRight:scrollWidth+scrollLeft>=viewerWidth}},getDistance:(t1,t2)=>Math.hypot(t1.clientX-t2.clientX,t1.clientY-t2.clientY),getPointAfterScale(){return{x:(this.touch.clientX+this.container.scrollLeft-this.document.offsetLeft)*this.touch.scale-this.touch.clientX+this.container.offsetLeft,y:(this.touch.clientY+this.container.scrollTop-this.document.offsetTop)*this.touch.scale-this.touch.clientY+this.container.offsetTop}},isUsingAnnotationTools(){const tool=core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode();return(0,constants_map__WEBPACK_IMPORTED_MODULE_3__.ap)((0,constants_map__WEBPACK_IMPORTED_MODULE_3__.YP)(tool.name)).annotationCheck},isUsingPen:()=>core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().pointerType&&"pen"===core__WEBPACK_IMPORTED_MODULE_0__.A.getToolMode().pointerType,get useNativeScroll(){return this._useNativeScroll},set useNativeScroll(val){this._useNativeScroll=val;try{localStorage.setItem("useNativeScroll",JSON.stringify(this._useNativeScroll))}catch(err){console.warn(`localStorage could not be accessed. ${err.message}`)}}},__WEBPACK_DEFAULT_EXPORT__=Object.create(TouchEventManager)},"./src/helpers/createFeatureAPI.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),helpers_localStorageManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/localStorageManager.js"),helpers_TouchEventManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/TouchEventManager.js"),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/hotkeysManager.js"),helpers_TabManager__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/TabManager.js"),constants_feature__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/constants/feature.js"),constants_actionPriority__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/constants/actionPriority.js"),actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/actions/index.js"),src_apis_enableTools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/apis/enableTools.js"),src_apis_disableTools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/apis/disableTools.js"),src_apis_setToolMode__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/apis/setToolMode.js"),selectors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/redux/selectors/index.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/constants/dataElement.js"),constants_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/constants/types.js"),core_getType__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/core/getType.js"),_officeEditor__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/helpers/officeEditor.js");const __WEBPACK_DEFAULT_EXPORT__=(enable,store)=>(features,priority=constants_actionPriority__WEBPACK_IMPORTED_MODULE_15__.CU)=>{const map={[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Ribbons]:{dataElements:["ribbons"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Annotating]:{dataElements:["toolsHeader","toggleToolsButton","linkButton","noteState",constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.NOTE_MULTI_SELECT_MODE_BUTTON,"tools-header","markReplaceTextToolButton"],fn:()=>{enable?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.enableRibbons()):store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setReadOnlyRibbons())}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Measurement]:{dataElements:["toolbarGroup-Measure","measurementOverlay","distanceToolGroupButton","arcMeasurementToolGroupButton","perimeterToolGroupButton","areaToolGroupButton","rectangleAreaToolGroupButton","ellipseAreaToolGroupButton","countToolGroupButton","cloudyRectangleAreaToolGroupButton"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Annotations]:{dataElements:["ribbons","notesPanel","toggleNotesButton","toggleToolsButton","toolsButton","linkButton","toolsHeader","toolsOverlay","default-ribbon-group","tools-header","notesPanelToggle","rubberStampPanel","stylePanel","signatureListPanel","markReplaceTextToolButton"],fn:()=>{enable?(core__WEBPACK_IMPORTED_MODULE_0__.A.showAnnotations(core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationsList()),(0,src_apis_enableTools__WEBPACK_IMPORTED_MODULE_7__.A)(store)()):(core__WEBPACK_IMPORTED_MODULE_0__.A.hideAnnotations(core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationsList()),(0,src_apis_disableTools__WEBPACK_IMPORTED_MODULE_8__.A)(store)())}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Download]:{dataElements:["downloadButton"],fn:()=>{enable?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.enableDeleteTabWarning()):store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.disableDeleteTabWarning())}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.FilePicker]:{dataElements:["filePickerHandler","filePickerButton"],fn:()=>{enable?helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.OPEN_FILE):helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.OPEN_FILE)}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.LocalStorage]:{fn:()=>{enable?helpers_localStorageManager__WEBPACK_IMPORTED_MODULE_1__.A.enableLocalStorage():helpers_localStorageManager__WEBPACK_IMPORTED_MODULE_1__.A.disableLocalStorage()}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.NotesPanel]:{dataElements:["notesPanelButton","notesPanel","toggleNotesButton","notesPanelToggle"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.InlineComment]:{dataElements:[constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP_EXPAND_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP_CLOSE_BUTTON],fn:()=>{enable&&store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setEnableRightClickAnnotationPopup(!0))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.RightClickAnnotationPopup]:{dataElements:[],fn:()=>{enable?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setEnableRightClickAnnotationPopup(!0)):(store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.disableElements([constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP_EXPAND_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.INLINE_COMMENT_POPUP_CLOSE_BUTTON],constants_actionPriority__WEBPACK_IMPORTED_MODULE_15__.CU)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setEnableRightClickAnnotationPopup(!1)))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Print]:{dataElements:["printButton","printModal"],fn:()=>{enable?helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.PRINT):helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.PRINT)}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Redaction]:{dataElements:["toolbarGroup-Redact","redactionToolGroupButton","redactionPanel","redactionPanelToggle","pageRedactionToolGroupButton"],fn:()=>{if(enable&&!core__WEBPACK_IMPORTED_MODULE_0__.A.isFullPDFEnabled())console.warn("Full api is not enabled, applying redactions is disabled");else{core__WEBPACK_IMPORTED_MODULE_0__.A.enableRedaction(enable);const currentToolbarGroup=selectors__WEBPACK_IMPORTED_MODULE_10__.A.getCurrentToolbarGroup(store.getState());enable||"toolbarGroup-Redact"!==currentToolbarGroup||(0,src_apis_setToolMode__WEBPACK_IMPORTED_MODULE_9__.A)("AnnotationEdit")}}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.TextSelection]:{dataElements:["textPopup","textSelectButton"],fn:()=>{enable||(core__WEBPACK_IMPORTED_MODULE_0__.A.clearSelection(),core__WEBPACK_IMPORTED_MODULE_0__.A.setToolMode("AnnotationEdit")),window.Core.Tools.Tool.ENABLE_TEXT_SELECTION=enable}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.TouchScrollLock]:{fn:()=>{helpers_TouchEventManager__WEBPACK_IMPORTED_MODULE_2__.A.enableTouchScrollLock=enable}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Copy]:{dataElements:["copyTextButton"],fn:()=>{enable?helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.COPY):helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.COPY)}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.MultipleViewerMerging]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setIsMultipleViewerMerging(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ThumbnailMerging]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setThumbnailMerging(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ThumbnailReordering]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setThumbnailReordering(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ThumbnailMultiselect]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setThumbnailMultiselect(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.NotesPanelVirtualizedList]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setEnableNotesPanelVirtualizedList(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.PageNavigation]:{fn:()=>{enable?(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.UP),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.DOWN),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.PREVIOUS_PAGE),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.NEXT_PAGE)):(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.UP),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.DOWN),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.PREVIOUS_PAGE),helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.NEXT_PAGE),core__WEBPACK_IMPORTED_MODULE_0__.A.setDisplayMode("Single")),helpers_TouchEventManager__WEBPACK_IMPORTED_MODULE_2__.A.allowSwipe=enable,store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setAllowPageNavigation(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.MouseWheelZoom]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setMouseWheelZoom(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Search]:{dataElements:["searchButton","searchPanelToggle"],fn:()=>{enable?helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.enableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.SEARCH):helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Ay.disableShortcut(helpers_hotkeysManager__WEBPACK_IMPORTED_MODULE_3__.Om.SEARCH)}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.MathSymbols]:{dataElements:["mathSymbolsButton","richTextPopup"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.OutlineEditing]:{dataElements:[constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_MULTI_SELECT,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_ADD_NEW_BUTTON_CONTAINER,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_ADD_NEW_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_RENAME_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_SET_DESTINATION_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_DELETE_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_MOVE_UP_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_MOVE_DOWN_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_MOVE_LEFT_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.OUTLINE_MOVE_RIGHT_BUTTON],fn:()=>{(0,core_getType__WEBPACK_IMPORTED_MODULE_13__.A)()===constants_types__WEBPACK_IMPORTED_MODULE_12__._.OFFICE&&console.warn("Outline Editing is not supported in Office Viewing mode"),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setIsOutlineEditing(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.NotesShowLastUpdatedDate]:{fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setNotesShowLastUpdatedDate(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.MultiTab]:{fn:()=>{(0,_officeEditor__WEBPACK_IMPORTED_MODULE_14__.pb)()?console.warn("Multi-tab is not supported in Office Editor mode"):enable?(selectors__WEBPACK_IMPORTED_MODULE_10__.A.isMultiViewerMode(store.getState())&&(console.error("MultiTab and MultiViewerMode cannot be enabled at the same time, disabling MultiViewerMode"),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setIsMultiViewerMode(!1))),store.dispatch((0,helpers_TabManager__WEBPACK_IMPORTED_MODULE_4__.Cf)())):(store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setMultiTab(!1)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setTabManager(null)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setTabs([])),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setActiveTab(0)))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ChangeView]:{dataElements:["changeViewToolGroupButton"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ContentEdit]:{dataElements:["toolbarGroup-EditText","addParagraphToolGroupButton","addImageContentToolGroupButton","contentEditButton","searchAndReplace"]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.MultiViewerMode]:{fn:()=>{enable&&selectors__WEBPACK_IMPORTED_MODULE_10__.A.getIsMultiTab(store.getState())&&(console.error("MultiTab and MultiViewerMode cannot be enabled at the same time, disabling MultiTab"),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setMultiTab(!1)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setTabManager(null)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setTabs([])),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setActiveTab(0))),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setIsMultiViewerModeAvailable(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.ComparePages]:{dataElements:["comparePanelToggle"],fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setComparePagesButtonEnabled(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Initials]:{dataElements:["signatureOptionsDropdown","savedSignatureAndInitialsTabs"],fn:()=>{const state=store.getState(),signatures=selectors__WEBPACK_IMPORTED_MODULE_10__.A.getDisplayedSignatures(state);signatures?.length>0&&store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setInitialsOffset(signatures.length)),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setInitialsMode(enable))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.SavedSignaturesTab]:{dataElements:[constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.SAVED_SIGNATURES_TAB],fn:()=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setSavedSignaturesTabEnabled(enable)),enable||store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.setSelectedTab("signatureModal","inkSignaturePanelButton"))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Panel]:{fn:()=>{const keys=store.getState().viewer.genericPanels.map((item=>item.dataElement));enable?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.enableElements(keys,priority)):store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.disableElements(keys,priority))}},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.LegacyRichTextPopup]:{dataElements:[constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.LEGACY_RICH_TEXT_POPUP]},[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Portfolio]:{fn:()=>{if(enable){if(!core__WEBPACK_IMPORTED_MODULE_0__.A.isFullPDFEnabled())return void console.warn("Full api is not enabled, portfolio is disabled");store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.enableElements([constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.CREATE_PORTFOLIO_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.PORTFOLIO_PANEL_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.PORTFOLIO_PANEL],constants_actionPriority__WEBPACK_IMPORTED_MODULE_15__.CU))}else store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.disableElements([constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.CREATE_PORTFOLIO_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.PORTFOLIO_PANEL_BUTTON,constants_dataElement__WEBPACK_IMPORTED_MODULE_11__.A.PORTFOLIO_PANEL],constants_actionPriority__WEBPACK_IMPORTED_MODULE_15__.CU))}}};Array.isArray(features)||(features=[features]),features.forEach((feature=>{const{dataElements=[],fn=()=>{}}=map[feature];enable?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.enableElements(dataElements,priority)):store.dispatch(actions__WEBPACK_IMPORTED_MODULE_6__.A.disableElements(dataElements,priority)),fn()}))}},"./src/helpers/createToolAPI.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var src_apis_hotkeys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/apis/hotkeys.js"),core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/index.js"),constants_actionPriority__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/constants/actionPriority.js"),helpers_getAnnotationCreateToolNames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/getAnnotationCreateToolNames.js"),actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/redux/selectors/index.js");const __WEBPACK_DEFAULT_EXPORT__=(enable,store)=>toolNames=>{const map={AnnotationCreateTextUnderline:"textUnderlineToolButton",AnnotationCreateTextHighlight:"textHighlightToolButton",AnnotationCreateTextSquiggly:"textSquigglyToolButton",AnnotationCreateTextStrikeout:"textStrikeoutToolButton"};let emptyArgument=!1;void 0===toolNames&&(toolNames=(0,helpers_getAnnotationCreateToolNames__WEBPACK_IMPORTED_MODULE_2__.A)(),emptyArgument=!0);const toolNameArray="string"==typeof toolNames?[toolNames]:toolNames,dataElements=selectors__WEBPACK_IMPORTED_MODULE_4__.A.getToolButtonDataElements(store.getState(),toolNameArray);emptyArgument&&dataElements.push("toolbarGroup-Forms"),Object.keys(map).forEach((toolName=>{-1!==toolNameArray.indexOf(toolName)&&dataElements.push(map[toolName])}));const currTool=core__WEBPACK_IMPORTED_MODULE_1__.A.getToolMode();!enable&&toolNames.indexOf(currTool?.name)>-1&&core__WEBPACK_IMPORTED_MODULE_1__.A.setToolMode(window.Core.Tools.ToolNames.EDIT),enable?(toolNameArray.forEach((toolName=>{toolName&&src_apis_hotkeys__WEBPACK_IMPORTED_MODULE_0__.A.on(toolName)})),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_3__.A.enableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_5__.CU))):(toolNameArray.forEach((toolName=>{toolName&&src_apis_hotkeys__WEBPACK_IMPORTED_MODULE_0__.A.off(toolName)})),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_3__.A.disableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_5__.CU)))}},"./src/helpers/readerMode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>enterReaderMode,t:()=>exitReaderMode});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/redux/selectors/index.js"),src_apis_enableFeatures__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/apis/enableFeatures.js"),src_apis_disableFeatures__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/apis/disableFeatures.js"),constants_feature__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/constants/feature.js"),constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/constants/actionPriority.js"),constants_dataElement__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/constants/dataElement.js");const features=[constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Download,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Print,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.Search,constants_feature__WEBPACK_IMPORTED_MODULE_5__.A.NotesPanel],dataElements=["panToolButton","selectToolButton",constants_dataElement__WEBPACK_IMPORTED_MODULE_6__.A.OUTLINE_PANEL_BUTTON,"bookmarksPanelButton","signaturePanelButton","toolbarGroup-Shapes","toolbarGroup-Insert","toolbarGroup-Edit","toolbarGroup-EditText","toolbarGroup-FillAndSign","toolbarGroup-Forms","stickyToolGroupButton","freeTextToolGroupButton","markInsertTextGroupButton","markReplaceTextGroupButton","shapeToolGroupButton","freeHandToolGroupButton","freeHandHighlightToolGroupButton","undoButton","redoButton","eraserToolButton"],enterReaderMode=async store=>{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.openElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_6__.A.LOADING_MODAL));const state=store.getState(),docViewer=core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer(),pdfDoc=await docViewer.getDocument().getPDFDoc(),xfdf=await core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager().exportAnnotations({widgets:!1,fields:!1}),PDFNet=window.Core.PDFNet;PDFNet.initialize().then((()=>{PDFNet.runWithCleanup((async()=>{try{const fdfDoc=await PDFNet.FDFDoc.createFromXFDF(xfdf);await pdfDoc.fdfUpdate(fdfDoc),core__WEBPACK_IMPORTED_MODULE_0__.A.setDisplayMode("Single"),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setReaderMode(!0)),(0,src_apis_disableFeatures__WEBPACK_IMPORTED_MODULE_4__.A)(store)(features,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.disableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc)),selectors__WEBPACK_IMPORTED_MODULE_2__.A.isElementDisabled(state,"toolbarGroup-Annotate")?store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setToolbarGroup("toolbarGroup-View")):(store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setToolbarGroup("toolbarGroup-Annotate")),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setActiveToolGroup(""))),docViewer.setToolMode(docViewer.getTool(window.Core.Tools.ToolNames.EDIT))}catch(err){console.warn(err)}finally{store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.closeElement(constants_dataElement__WEBPACK_IMPORTED_MODULE_6__.A.LOADING_MODAL))}}))}))},exitReaderMode=async store=>{const PDFNet=window.Core.PDFNet;store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.setReaderMode(!1)),(0,src_apis_enableFeatures__WEBPACK_IMPORTED_MODULE_3__.A)(store)(features,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc),store.dispatch(actions__WEBPACK_IMPORTED_MODULE_1__.A.enableElements(dataElements,constants_actionPriority__WEBPACK_IMPORTED_MODULE_7__.sc));const pdfDoc=await core__WEBPACK_IMPORTED_MODULE_0__.A.getDocumentViewer().getDocument().getPDFDoc(),fdfDoc=await pdfDoc.fdfExtract(PDFNet.PDFDoc.ExtractFlag.e_both),xfdf=await fdfDoc.saveAsXFDFAsString(),annotManager=core__WEBPACK_IMPORTED_MODULE_0__.A.getAnnotationManager();await annotManager.importAnnotations(xfdf,{replace:[window.Core.Annotations.TextMarkupAnnotation]})}}}]);