(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[3674,9323],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Outline/Outline.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,':host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-right:var(--padding-small);margin-top:2px;margin-bottom:2px;min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:16px;height:16px}.outline-drag-line{margin-left:var(--padding);margin-right:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:"";display:block;position:absolute;width:5px;height:5px;top:-3px;left:0;background-color:var(--focus-border);border-radius:50%}',""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineContent/OutlineContent.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineControls/OutlineControls.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlinesPanel/OutlinesPanel.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel{margin:16px;padding:0;overflow-y:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel{margin:16px;padding:0;overflow-y:auto}}.OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-single-container:not(.editing){height:32px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.selected{outline:1px solid var(--outline-selected-border)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen{display:flex}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen .Icon{color:var(--blue-5)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default.hover:not(.selected),.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default:hover:not(.selected){background:none;outline:1px solid var(--secondary-button-hover)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.focus-visible,.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container:focus-visible{outline:var(--focus-visible-outline)!important}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input{font-size:13px}}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input:active{border-color:var(--focus-border)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-cancel-button,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-control-button,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-save-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-cancel-button,.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-control-button,.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-save-button{font-size:13px}}.Panel.OutlinesPanel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/Outline/Outline.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Outline/Outline.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/OutlineContent/OutlineContent.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineContent/OutlineContent.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/OutlineControls/OutlineControls.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlineControls/OutlineControls.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/OutlinesPanel/OutlinesPanel.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/OutlinesPanel/OutlinesPanel.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Outline/Context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext()},"./src/components/Outline/Outline.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_18__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react-dnd/dist/esm/decorators/DropTarget.js"),react_dnd__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/react-dnd/dist/esm/decorators/DragSource.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"),constants_dnd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/dnd.js"),core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/index.js"),actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/redux/actions/index.js"),selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/redux/selectors/index.js"),constants_events__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/constants/events.js"),helpers_fireEvent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/fireEvent.js"),helpers_OutlineUtils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/helpers/OutlineUtils.js"),helpers_device__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/device.js"),_Context__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/Outline/Context.js"),src_components_OutlineContent__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/OutlineContent/index.js"),_DataElementWrapper__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/DataElementWrapper/index.js"),_Choice__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/Choice/index.js"),_Button__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/Button/index.js");__webpack_require__("./src/components/Outline/Outline.scss"),__webpack_require__("./src/constants/bookmarksOutlinesShared.scss");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={outline:prop_types__WEBPACK_IMPORTED_MODULE_18___default().object.isRequired,setMultiSelected:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func,moveOutlineInward:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func.isRequired,moveOutlineBeforeTarget:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func.isRequired,moveOutlineAfterTarget:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func.isRequired,connectDragSource:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func,connectDragPreview:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func,connectDropTarget:prop_types__WEBPACK_IMPORTED_MODULE_18___default().func,isDragging:prop_types__WEBPACK_IMPORTED_MODULE_18___default().bool,isDraggedUpwards:prop_types__WEBPACK_IMPORTED_MODULE_18___default().bool,isDraggedDownwards:prop_types__WEBPACK_IMPORTED_MODULE_18___default().bool},Outline=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function Outline(param,ref){var outline=param.outline,setMultiSelected=param.setMultiSelected,isDragging=param.isDragging,isDraggedUpwards=param.isDraggedUpwards,isDraggedDownwards=param.isDraggedDownwards,connectDragSource=param.connectDragSource,connectDragPreview=param.connectDragPreview,connectDropTarget=param.connectDropTarget,moveOutlineInward=param.moveOutlineInward,moveOutlineBeforeTarget=param.moveOutlineBeforeTarget,moveOutlineAfterTarget=param.moveOutlineAfterTarget,outlines=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)((function(state){return selectors__WEBPACK_IMPORTED_MODULE_6__.A.getOutlines(state)})),_useContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Context__WEBPACK_IMPORTED_MODULE_11__.A),setActiveOutlinePath=_useContext.setActiveOutlinePath,activeOutlinePath=_useContext.activeOutlinePath,isOutlineActive=_useContext.isOutlineActive,setAddingNewOutline=_useContext.setAddingNewOutline,isAddingNewOutline=_useContext.isAddingNewOutline,isAnyOutlineRenaming=_useContext.isAnyOutlineRenaming,isMultiSelectMode=_useContext.isMultiSelectMode,shouldAutoExpandOutlines=_useContext.shouldAutoExpandOutlines,isOutlineEditable=_useContext.isOutlineEditable,selectedOutlines=_useContext.selectedOutlines,updateOutlines=_useContext.updateOutlines,outlinePath=helpers_OutlineUtils__WEBPACK_IMPORTED_MODULE_9__.A.getPath(outline),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(shouldAutoExpandOutlines),2),isExpanded=_useState[0],setIsExpanded=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(selectedOutlines.includes(outlinePath)),2),isSelected=_useState1[0],setIsSelected=_useState1[1],_useState2=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isRenaming=_useState2[0],setIsRenaming=_useState2[1],_useState3=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isChangingDest=_useState3[0],setChangingDest=_useState3[1],_useState4=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isHovered=_useState4[0],setHovered=_useState4[1],_useState5=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),2),clearSingleClick=_useState5[0],setClearSingleClick=_useState5[1],dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.wA)(),elementRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);connectDragSource(elementRef),connectDragPreview((0,react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_19__.n)(),{captureDraggingState:!0}),connectDropTarget(elementRef);var opacity=isDragging?.5:1;(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(function(){return{getNode:function(){return elementRef.current}}})),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){null!==activeOutlinePath&&activeOutlinePath!==outlinePath&&activeOutlinePath.startsWith(outlinePath)&&setIsExpanded(!0)}),[activeOutlinePath,isAddingNewOutline,outline]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){setIsExpanded(shouldAutoExpandOutlines)}),[shouldAutoExpandOutlines]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){setIsRenaming(!1),setChangingDest(!1),isAddingNewOutline&&activeOutlinePath===outlinePath&&setIsExpanded(!0)}),[outlines]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setIsSelected(selectedOutlines.includes(outlinePath))}),[selectedOutlines]);var rgbObject,rValue,gValue,bValue,toggleOutline=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setIsExpanded((function(expand){return!expand}))}),[]),onSingleClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){core__WEBPACK_IMPORTED_MODULE_4__.A.goToOutline(outline),setActiveOutlinePath(outlinePath===activeOutlinePath?null:outlinePath),isAddingNewOutline&&(setAddingNewOutline(!1),updateOutlines()),(0,helpers_device__WEBPACK_IMPORTED_MODULE_10__.Fr)()&&dispatch(actions__WEBPACK_IMPORTED_MODULE_5__.A.closeElement("leftPanel"))}),[dispatch,setActiveOutlinePath,activeOutlinePath,isAddingNewOutline,outline]),isActive=isOutlineActive(outline);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:!isAddingNewOutline&&!isAnyOutlineRenaming&&isMultiSelectMode&&isOutlineEditable?elementRef:null,className:"outline-drag-container",style:{opacity}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"outline-drag-line",style:{opacity:isDraggedUpwards?1:0}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DataElementWrapper__WEBPACK_IMPORTED_MODULE_13__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"bookmark-outline-single-container":!0,editing:isRenaming||isChangingDest,default:!isRenaming&&!isChangingDest,selected:isActive,hover:isHovered&&!isActive}),tabIndex:0,onKeyDown:function(e){return"Enter"===e.key&&onSingleClick()},onClick:function(e){isRenaming||isChangingDest||1!==e.detail||setClearSingleClick(setTimeout(onSingleClick,300))},onDoubleClick:function(){isRenaming||isChangingDest||clearTimeout(clearSingleClick)}},isMultiSelectMode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Choice__WEBPACK_IMPORTED_MODULE_14__.A,{type:"checkbox",className:"bookmark-outline-checkbox",id:"outline-checkbox-".concat(outlinePath),checked:isSelected,onClick:function(e){return e.stopPropagation()},onChange:function(e){setIsSelected(e.target.checked),setMultiSelected(outlinePath,e.target.checked)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"outline-treeview-toggle":!0,expanded:isExpanded}),style:{marginLeft:12*helpers_OutlineUtils__WEBPACK_IMPORTED_MODULE_9__.A.getNestedLevel(outline),display:isRenaming?"none":"block"}},outline.getChildren().length>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_15__.A,{img:"icon-chevron-right",tabIndex:0,onClick:function(e){e.stopPropagation(),toggleOutline()}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(src_components_OutlineContent__WEBPACK_IMPORTED_MODULE_12__.A,{text:outline.getName(),outlinePath,isOutlineRenaming:isRenaming,setOutlineRenaming:setIsRenaming,isOutlineChangingDest:isChangingDest,setOutlineChangingDest:setChangingDest,setIsHovered:setHovered,textColor:outline.color?(rgbObject=outline.color,rValue=255*rgbObject.r,gValue=255*rgbObject.g,bValue=255*rgbObject.b,"rgb(".concat(rValue,", ").concat(gValue,", ").concat(bValue,")")):null,isAnyOutlineRenaming})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"outline-drag-line",style:{opacity:isDraggedDownwards?1:0}}),isExpanded&&outline.getChildren().map((function(child){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OutlineNested,{outline:child,key:helpers_OutlineUtils__WEBPACK_IMPORTED_MODULE_9__.A.getOutlineId(child),setMultiSelected,moveOutlineInward,moveOutlineBeforeTarget,moveOutlineAfterTarget})})),isAddingNewOutline&&isActive&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DataElementWrapper__WEBPACK_IMPORTED_MODULE_13__.A,{className:"bookmark-outline-single-container editing"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"outline-treeview-toggle",style:{marginLeft:12*helpers_OutlineUtils__WEBPACK_IMPORTED_MODULE_9__.A.getNestedLevel(outline)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(src_components_OutlineContent__WEBPACK_IMPORTED_MODULE_12__.A,{isAdding:!0,text:"",onCancel:function(){return setAddingNewOutline(!1)}})))}));Outline.propTypes=propTypes;var OutlineNested=(0,react_dnd__WEBPACK_IMPORTED_MODULE_20__.T)(constants_dnd__WEBPACK_IMPORTED_MODULE_3__.ll.OUTLINE,{hover:function hover(props,dropTargetMonitor,dropTargetContainer){if(dropTargetContainer){var dragObject=dropTargetMonitor.getItem();if(dragObject){var dragOutline=dragObject.dragOutline,dragSourceNode=dragObject.dragSourceNode,dropOutline=props.outline,dropTargetNode=dropTargetContainer.getNode();if(dragSourceNode&&dropTargetNode){if(dragSourceNode.contains(dropTargetNode))return dragObject.dropTargetNode=void 0,void(dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.INITIAL);dragObject.dropTargetNode=dropTargetNode;var dragIndex=dragOutline.index,hoverIndex=dropOutline.index;if(dragOutline.parent!==dropOutline.parent||dragIndex!==hoverIndex){var dropTargetBoundingRect=dropTargetNode.getBoundingClientRect(),dropTargetVerticalMiddlePoint=(dropTargetBoundingRect.bottom-dropTargetBoundingRect.top)/2,dropTargetClientY=dropTargetMonitor.getClientOffset().y-dropTargetBoundingRect.top;switch(!0){case dropTargetClientY<=dropTargetVerticalMiddlePoint+constants_dnd__WEBPACK_IMPORTED_MODULE_3__.n0&&dropTargetClientY>=dropTargetVerticalMiddlePoint-constants_dnd__WEBPACK_IMPORTED_MODULE_3__.n0:dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.ON_TARGET_HORIZONTAL_MIDPOINT,dropTargetMonitor.isOver({shallow:!0})&&dropTargetNode.classList.add("isNesting"),setTimeout((function(){(null==dragObject?void 0:dragObject.dropTargetNode)!==dropTargetNode&&dropTargetNode.classList.remove("isNesting")}),100);break;case dropTargetClientY>dropTargetVerticalMiddlePoint+constants_dnd__WEBPACK_IMPORTED_MODULE_3__.n0:dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.BELOW_TARGET,dropTargetNode.classList.remove("isNesting");break;case dropTargetClientY<dropTargetVerticalMiddlePoint-constants_dnd__WEBPACK_IMPORTED_MODULE_3__.n0:dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.ABOVE_TARGET,dropTargetNode.classList.remove("isNesting");break;default:dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.INITIAL,dropTargetNode.classList.remove("isNesting")}(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_8__.A)(constants_events__WEBPACK_IMPORTED_MODULE_7__.A.DRAG_OUTLINE,{targetOutline:dropOutline,draggedOutline:dragObject.dragOutline,dropLocation:dragObject.dropLocation})}}}}},drop:function drop(props,dropTargetMonitor,dropTargetContainer){if(dropTargetContainer){var dragObject=dropTargetMonitor.getItem(),dragOutline=dragObject.dragOutline,dropTargetNode=dragObject.dropTargetNode,dropOutline=props.outline,moveOutlineInward=props.moveOutlineInward,moveOutlineBeforeTarget=props.moveOutlineBeforeTarget,moveOutlineAfterTarget=props.moveOutlineAfterTarget;if(dropTargetNode){switch(dragObject.dropLocation){case constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.ON_TARGET_HORIZONTAL_MIDPOINT:moveOutlineInward(dragOutline,dropOutline);break;case constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.ABOVE_TARGET:moveOutlineBeforeTarget(dragOutline,dropOutline);break;case constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.BELOW_TARGET:moveOutlineAfterTarget(dragOutline,dropOutline)}dropTargetNode.classList.remove("isNesting"),(0,helpers_fireEvent__WEBPACK_IMPORTED_MODULE_8__.A)(constants_events__WEBPACK_IMPORTED_MODULE_7__.A.DROP_OUTLINE,{targetOutline:dropOutline,draggedOutline:dragOutline,dropLocation:dragObject.dropLocation}),dragObject.dropLocation=constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.INITIAL}}}},(function(connect,dropTargetState){var _dropTargetState_getItem,_dropTargetState_getItem1;return{connectDropTarget:connect.dropTarget(),isDraggedUpwards:dropTargetState.isOver({shallow:!0})&&(null===(_dropTargetState_getItem=dropTargetState.getItem())||void 0===_dropTargetState_getItem?void 0:_dropTargetState_getItem.dropLocation)===constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.ABOVE_TARGET,isDraggedDownwards:dropTargetState.isOver({shallow:!0})&&(null===(_dropTargetState_getItem1=dropTargetState.getItem())||void 0===_dropTargetState_getItem1?void 0:_dropTargetState_getItem1.dropLocation)===constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.BELOW_TARGET}}))((0,react_dnd__WEBPACK_IMPORTED_MODULE_21__.I)(constants_dnd__WEBPACK_IMPORTED_MODULE_3__.ll.OUTLINE,{beginDrag:function(props,dragSourceMonitor,dragSourceContainer){return{sourceId:dragSourceMonitor.sourceId,dragOutline:props.outline,dragSourceNode:dragSourceContainer.getNode(),dropLocation:constants_dnd__WEBPACK_IMPORTED_MODULE_3__.V7.INITIAL}},canDrag:function canDrag(){return helpers_device__WEBPACK_IMPORTED_MODULE_10__.lT?(console.warn("Drag and drop outlines for IE11 is not supported"),!1):!!core__WEBPACK_IMPORTED_MODULE_4__.A.isFullPDFEnabled()||(console.warn("Full API must be enabled to drag and drop outlines"),!1)}},(function(connect,dragSourceState){return{connectDragSource:connect.dragSource(),connectDragPreview:connect.dragPreview(),isDragging:dragSourceState.isDragging()}}))(Outline));OutlineNested.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=OutlineNested;Outline.__docgenInfo={description:"",methods:[{name:"getNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Outline",props:{outline:{description:"",type:{name:"object"},required:!0},setMultiSelected:{description:"",type:{name:"func"},required:!1},moveOutlineInward:{description:"",type:{name:"func"},required:!0},moveOutlineBeforeTarget:{description:"",type:{name:"func"},required:!0},moveOutlineAfterTarget:{description:"",type:{name:"func"},required:!0},connectDragSource:{description:"",type:{name:"func"},required:!1},connectDragPreview:{description:"",type:{name:"func"},required:!1},connectDropTarget:{description:"",type:{name:"func"},required:!1},isDragging:{description:"",type:{name:"bool"},required:!1},isDraggedUpwards:{description:"",type:{name:"bool"},required:!1},isDraggedDownwards:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/OutlineContent/OutlineContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/index.js"),selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/redux/selectors/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Button/index.js"),_MoreOptionsContextMenuPopup__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/MoreOptionsContextMenuPopup/index.js"),_Outline_Context__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Outline/Context.js");__webpack_require__("./src/components/OutlineContent/OutlineContent.scss"),__webpack_require__("./src/constants/bookmarksOutlinesShared.scss");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var propTypes={text:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,outlinePath:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,isAdding:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,isOutlineRenaming:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,setOutlineRenaming:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,isOutlineChangingDest:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,setOutlineChangingDest:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,setIsHovered:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,onCancel:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,textColor:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,isAnyOutlineRenaming:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool},OutlineContent=function(param){var text=param.text,outlinePath=param.outlinePath,isAdding=param.isAdding,isOutlineRenaming=param.isOutlineRenaming,setOutlineRenaming=param.setOutlineRenaming,isOutlineChangingDest=param.isOutlineChangingDest,setOutlineChangingDest=param.setOutlineChangingDest,setIsHovered=param.setIsHovered,onCancel=param.onCancel,textColor=param.textColor,isAnyOutlineRenaming=param.isAnyOutlineRenaming,_useContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Outline_Context__WEBPACK_IMPORTED_MODULE_7__.A),currentDestPage=_useContext.currentDestPage,currentDestText=_useContext.currentDestText,editingOutlines=_useContext.editingOutlines,setEditingOutlines=_useContext.setEditingOutlines,isMultiSelectMode=_useContext.isMultiSelectMode,isOutlineEditable=_useContext.isOutlineEditable,addNewOutline=_useContext.addNewOutline,renameOutline=_useContext.renameOutline,updateOutlineDest=_useContext.updateOutlineDest,updateOutlines=_useContext.updateOutlines,removeOutlines=_useContext.removeOutlines,customizableUI=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((function(state){return selectors__WEBPACK_IMPORTED_MODULE_3__.A.getFeatureFlags(state)}),react_redux__WEBPACK_IMPORTED_MODULE_1__.bN).customizableUI,t=_sliced_to_array((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.B)(),1)[0],_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isDefault=_useState[0],setIsDefault=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(text),2),outlineText=_useState1[0],setOutlineText=_useState1[1],_useState2=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isContextMenuOpen=_useState2[0],setContextMenuOpen=_useState2[1],_useState3=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isRenaming=_useState3[0],setIsRenaming=_useState3[1],inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),onAddOutline=function(){addNewOutline(""===outlineText.trim()?"":outlineText)},onRenameOutline=function(){setOutlineRenaming(!1),setIsRenaming(!1),renameOutline(outlinePath,outlineText)},onCancelOutline=function(){updateOutlines(),isOutlineRenaming&&(setOutlineRenaming(!1),setIsRenaming(!1),setOutlineText(text)),isOutlineChangingDest&&setOutlineChangingDest(!1),isAdding&&onCancel()},isRenameButtonDisabled=function(){return!outlineText||text===outlineText};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){outlineText!==text&&setOutlineText(text)}),[text]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){(isAdding||isOutlineRenaming)&&(inputRef.current.focus(),inputRef.current.select()),setIsDefault(!isAdding&&!isOutlineRenaming&&!isOutlineChangingDest)}),[isOutlineRenaming,isOutlineChangingDest]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var editingOutlinesClone=_object_spread({},editingOutlines),isOutlineEditing=isOutlineRenaming||isOutlineChangingDest;isOutlineEditing?editingOutlinesClone[outlinePath]=isOutlineEditing:delete editingOutlinesClone[outlinePath],setEditingOutlines(_object_spread({},editingOutlinesClone))}),[isOutlineRenaming,isOutlineChangingDest]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){isAdding||setIsHovered(isContextMenuOpen)}),[isContextMenuOpen]);var textStyle={color:textColor||"auto"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-label-row"},isAdding&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-label"},t("component.newOutlineTitle")),isRenaming&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-label"},t("component.outlineTitle")),isDefault&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-text outline-text",onDoubleClick:function(){isOutlineEditable&&(setOutlineRenaming(!0),setIsRenaming(!0))},style:textStyle},text),isOutlineEditable&&!isAnyOutlineRenaming&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_4___default()({"bookmark-outline-more-button":!0,contextMenuOpen:isContextMenuOpen}),dataElement:"outline-more-button-".concat(outlinePath),img:"icon-tool-more",tabIndex:0,onClick:function(e){e.stopPropagation(),setContextMenuOpen(!0)}}),isContextMenuOpen&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_MoreOptionsContextMenuPopup__WEBPACK_IMPORTED_MODULE_6__.A,{type:"outline",anchorButton:"outline-more-button-".concat(outlinePath),shouldDisplayDeleteButton:!isMultiSelectMode,onClosePopup:function(){return setContextMenuOpen(!1)},onRenameClick:function(){setContextMenuOpen(!1),setOutlineRenaming(!0),setIsRenaming(!0)},onSetDestinationClick:function(){setContextMenuOpen(!1),setOutlineChangingDest(!0),core__WEBPACK_IMPORTED_MODULE_2__.A.setToolMode("OutlineDestinationCreateTool")},onDeleteClick:function(){setContextMenuOpen(!1),removeOutlines([outlinePath])}})),isOutlineChangingDest&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-text outline-text",style:textStyle},text),(isAdding||isOutlineRenaming)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",name:"outline",ref:inputRef,className:"bookmark-outline-input",placeholder:customizableUI?"":t("component.outlineTitle"),"aria-label":t("action.name"),value:outlineText,onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),isAdding&&onAddOutline(),isOutlineRenaming&&!isRenameButtonDisabled()&&onRenameOutline()),"Escape"===e.key&&onCancelOutline()},onChange:function(e){return setOutlineText(e.target.value)}}),(isAdding||isRenaming||isOutlineChangingDest)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"outline-destination"},t("component.destination"),": ",t("component.bookmarkPage")," ",currentDestPage,",",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{fontStyle:"italic"}}," “",currentDestText,"”")),(isAdding||isOutlineRenaming||isOutlineChangingDest)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"bookmark-outline-editing-controls"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-cancel-button",label:t("action.cancel"),onClick:onCancelOutline}),isAdding&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-save-button",label:t("action.add"),isSubmitType:!0,onClick:onAddOutline}),isOutlineRenaming&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-save-button",label:t("action.save"),isSubmitType:!0,disabled:isRenameButtonDisabled(),onClick:onRenameOutline}),isOutlineChangingDest&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__.A,{className:"bookmark-outline-save-button",label:t("action.save"),isSubmitType:!0,onClick:function(){setOutlineChangingDest(!1),updateOutlineDest(outlinePath)}})))};OutlineContent.propTypes=propTypes;const __WEBPACK_DEFAULT_EXPORT__=OutlineContent;OutlineContent.__docgenInfo={description:"",methods:[],displayName:"OutlineContent",props:{text:{description:"",type:{name:"string"},required:!0},outlinePath:{description:"",type:{name:"string"},required:!1},isAdding:{description:"",type:{name:"bool"},required:!1},isOutlineRenaming:{description:"",type:{name:"bool"},required:!1},setOutlineRenaming:{description:"",type:{name:"func"},required:!1},isOutlineChangingDest:{description:"",type:{name:"bool"},required:!1},setOutlineChangingDest:{description:"",type:{name:"func"},required:!1},setIsHovered:{description:"",type:{name:"func"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},textColor:{description:"",type:{name:"string"},required:!1},isAnyOutlineRenaming:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/OutlineContent/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _OutlineContent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/OutlineContent/OutlineContent.js");const __WEBPACK_DEFAULT_EXPORT__=_OutlineContent__WEBPACK_IMPORTED_MODULE_0__.A;_OutlineContent__WEBPACK_IMPORTED_MODULE_0__.A.__docgenInfo={description:"",methods:[],displayName:"OutlineContent",props:{text:{description:"",type:{name:"string"},required:!0},outlinePath:{description:"",type:{name:"string"},required:!1},isAdding:{description:"",type:{name:"bool"},required:!1},isOutlineRenaming:{description:"",type:{name:"bool"},required:!1},setOutlineRenaming:{description:"",type:{name:"func"},required:!1},isOutlineChangingDest:{description:"",type:{name:"bool"},required:!1},setOutlineChangingDest:{description:"",type:{name:"func"},required:!1},setIsHovered:{description:"",type:{name:"func"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},textColor:{description:"",type:{name:"string"},required:!1},isAnyOutlineRenaming:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/OutlinesPanel/OutlinesPanel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_OutlinesPanel_OutlinesPanel});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),DndProvider=__webpack_require__("./node_modules/react-dnd/dist/esm/core/DndProvider.js"),device=__webpack_require__("./src/helpers/device.js"),esm=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/index.js"),dist_esm=__webpack_require__("./node_modules/react-dnd-touch-backend/dist/esm/index.js"),Button=__webpack_require__("./src/components/Button/index.js"),DataElementWrapper=__webpack_require__("./src/components/DataElementWrapper/index.js"),Context=__webpack_require__("./src/components/Outline/Context.js"),core=__webpack_require__("./src/core/index.js"),OutlineUtils=__webpack_require__("./src/helpers/OutlineUtils.js"),selectors=__webpack_require__("./src/redux/selectors/index.js"),dataElement=(__webpack_require__("./src/components/OutlineControls/OutlineControls.scss"),__webpack_require__("./src/constants/dataElement.js"));function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var OutlineControls_OutlineControls=function(){var outlines=(0,es.d4)((function(state){return selectors.A.getOutlines(state)})),_useContext=(0,react.useContext)(Context.A),activeOutlinePath=_useContext.activeOutlinePath,setActiveOutlinePath=_useContext.setActiveOutlinePath,updateOutlines=_useContext.updateOutlines,_useState=_sliced_to_array((0,react.useState)({up:!1,down:!1,outward:!1,inward:!1}),2),canMove=_useState[0],setCanMove=_useState[1],nextIndexRef=(0,react.useRef)(null),t=_sliced_to_array((0,useTranslation.B)(),1)[0];(0,react.useEffect)((function(){if(core.A.isFullPDFEnabled()){var _ref,setCanMoveState=(_ref=_async_to_generator((function(){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.getCanMoveState(activeOutlinePath)];case 1:return setCanMove.apply(void 0,[_state.sent()]),[2]}}))})),function setCanMoveState(){return _ref.apply(this,arguments)});setCanMoveState()}}),[activeOutlinePath]),(0,react.useEffect)((function(){null!==nextIndexRef.current&&(setActiveOutlinePath(nextIndexRef.current),nextIndexRef.current=null)}),[outlines,setActiveOutlinePath]);var _ref,moveOutlineUp=(_ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineUp(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))})),function moveOutlineUp(){return _ref.apply(this,arguments)}),moveOutlineDown=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineDown(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineDown(){return _ref.apply(this,arguments)}}(),moveOutlineOutward=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineOutward(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineOutward(){return _ref.apply(this,arguments)}}(),moveOutlineInward=function(){var _ref=_async_to_generator((function(){var nextIndex;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.moveOutlineInward(activeOutlinePath)];case 1:return nextIndex=_state.sent(),updateOutlines(),nextIndexRef.current=nextIndex,[2]}}))}));return function moveOutlineInward(){return _ref.apply(this,arguments)}}();return react.createElement(DataElementWrapper.A,{className:"OutlineControls",dataElement:dataElement.A.OUTLINE_CONTROLS},react.createElement("span",{className:"reorderText"},t("option.bookmarkOutlineControls.reorder")),react.createElement(Button.A,{img:"icon-arrow-up",disabled:!canMove.up,onClick:moveOutlineUp,dataElement:dataElement.A.OUTLINE_MOVE_UP_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-down",disabled:!canMove.down,onClick:moveOutlineDown,dataElement:dataElement.A.OUTLINE_MOVE_DOWN_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-left",disabled:!canMove.outward,onClick:moveOutlineOutward,dataElement:dataElement.A.OUTLINE_MOVE_OUTWARD_BUTTON}),react.createElement(Button.A,{img:"icon-arrow-right",disabled:!canMove.inward,onClick:moveOutlineInward,dataElement:dataElement.A.OUTLINE_MOVE_INWARD_BUTTON}))};const components_OutlineControls_OutlineControls=OutlineControls_OutlineControls;OutlineControls_OutlineControls.__docgenInfo={description:"",methods:[],displayName:"OutlineControls"};const components_OutlineControls=components_OutlineControls_OutlineControls;components_OutlineControls_OutlineControls.__docgenInfo={description:"",methods:[],displayName:"OutlineControls"};var Outline=__webpack_require__("./src/components/Outline/Outline.js");const components_Outline=Outline.A;Outline.A.__docgenInfo={description:"",methods:[{name:"getNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Outline",props:{outline:{description:"",type:{name:"object"},required:!0},setMultiSelected:{description:"",type:{name:"func"},required:!1},moveOutlineInward:{description:"",type:{name:"func"},required:!0},moveOutlineBeforeTarget:{description:"",type:{name:"func"},required:!0},moveOutlineAfterTarget:{description:"",type:{name:"func"},required:!0},connectDragSource:{description:"",type:{name:"func"},required:!1},connectDragPreview:{description:"",type:{name:"func"},required:!1},connectDropTarget:{description:"",type:{name:"func"},required:!1},isDragging:{description:"",type:{name:"bool"},required:!1},isDraggedUpwards:{description:"",type:{name:"bool"},required:!1},isDraggedDownwards:{description:"",type:{name:"bool"},required:!1}}};var OutlineContent=__webpack_require__("./src/components/OutlineContent/index.js"),defaultTool=__webpack_require__("./src/constants/defaultTool.js"),actions=__webpack_require__("./src/redux/actions/index.js"),useDragLayer=(__webpack_require__("./src/constants/bookmarksOutlinesShared.scss"),__webpack_require__("./src/components/OutlinesPanel/OutlinesPanel.scss"),__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDragLayer.js")),dnd=__webpack_require__("./src/constants/dnd.js"),layerStyles={position:"fixed",pointerEvents:"none",zIndex:99999,left:0,top:0,width:"100%",height:"100%"},getItemStyles=function(initialOffset,currentOffset){if(!initialOffset||!currentOffset)return{display:"none"};var x=currentOffset.x,y=currentOffset.y,transform="translate(calc(".concat(x,"px - 50%), calc(").concat(y,"px - 100%))");return{transform,WebkitTransform:transform}},OutlinesDragLayer=function(){var _useDragLayer=(0,useDragLayer.V)((function(dragLayerState){return{itemType:dragLayerState.getItemType(),item:dragLayerState.getItem(),isDragging:dragLayerState.isDragging(),initialOffset:dragLayerState.getInitialSourceClientOffset(),currentOffset:dragLayerState.getClientOffset()}})),itemType=_useDragLayer.itemType,item=_useDragLayer.item,isDragging=_useDragLayer.isDragging,initialOffset=_useDragLayer.initialOffset,currentOffset=_useDragLayer.currentOffset;return isDragging?react.createElement("div",{style:layerStyles},react.createElement("div",{className:"bookmark-outline-single-container preview",style:getItemStyles(initialOffset,currentOffset)},function(){if(!item)return null;var dragOutline=item.dragOutline;return itemType===dnd.ll.OUTLINE?react.createElement(react.Fragment,null,dragOutline.getName()):null}())):null};OutlinesDragLayer.__docgenInfo={description:"",methods:[],displayName:"OutlinesDragLayer"};var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);function OutlinesPanel_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OutlinesPanel_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OutlinesPanel_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function OutlinesPanel_sliced_to_array(arr,i){return function OutlinesPanel_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function OutlinesPanel_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||OutlinesPanel_unsupported_iterable_to_array(arr,i)||function OutlinesPanel_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return OutlinesPanel_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||OutlinesPanel_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OutlinesPanel_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return OutlinesPanel_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OutlinesPanel_array_like_to_array(o,minLen):void 0}}function OutlinesPanel_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var OutlinesPanel_OutlinesPanel=function(){var _useSelector=OutlinesPanel_sliced_to_array((0,es.d4)((function(state){return[selectors.A.isElementDisabled(state,dataElement.A.OUTLINE_PANEL),selectors.A.getOutlines(state),selectors.A.isOutlineControlVisible(state),selectors.A.getOutlineEditingEnabled(state),selectors.A.shouldAutoExpandOutlines(state),selectors.A.getCurrentPage(state),selectors.A.getPageLabels(state),selectors.A.getFeatureFlags(state)]}),es.bN),8),isDisabled=_useSelector[0],outlines=_useSelector[1],outlineControlVisibility=_useSelector[2],outlineEditingEnabled=_useSelector[3],shouldAutoExpandOutlines=_useSelector[4],currentPage=_useSelector[5],pageLabels=_useSelector[6],featureFlags=_useSelector[7],defaultDestText="Full Page",areaDestinationText="Area Selection",defaultDestCoord={x:0,y:0},_useState=OutlinesPanel_sliced_to_array((0,react.useState)(defaultDestText),2),currentDestText=_useState[0],setCurrentDestText=_useState[1],_useState1=OutlinesPanel_sliced_to_array((0,react.useState)(defaultDestCoord),2),currentDestCoord=_useState1[0],setCurrentDestCoord=_useState1[1],_useState2=OutlinesPanel_sliced_to_array((0,react.useState)(currentPage),2),currentDestPage=_useState2[0],setCurrentDestPage=_useState2[1],_useState3=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isOutlineEditable=_useState3[0],setOutlineEditable=_useState3[1],_useState4=OutlinesPanel_sliced_to_array((0,react.useState)(null),2),activeOutlinePath=_useState4[0],setActiveOutlinePath=_useState4[1],_useState5=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isAddingNewOutline=_useState5[0],setAddingNewOutline=_useState5[1],_useState6=OutlinesPanel_sliced_to_array((0,react.useState)({}),2),editingOutlines=_useState6[0],setEditingOutlines=_useState6[1],_useState7=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isAnyOutlineRenaming=_useState7[0],setAnyOutlineRenaming=_useState7[1],_useState8=OutlinesPanel_sliced_to_array((0,react.useState)(!1),2),isMultiSelectMode=_useState8[0],setMultiSelectMode=_useState8[1],_useState9=OutlinesPanel_sliced_to_array((0,react.useState)([]),2),selectedOutlines=_useState9[0],setSelectedOutlines=_useState9[1],customizableUI=featureFlags.customizableUI,t=OutlinesPanel_sliced_to_array((0,useTranslation.B)(),1)[0],dispatch=(0,es.wA)(),nextPathRef=(0,react.useRef)(null),TOOL_NAME="OutlineDestinationCreateTool",tool=core.A.getTool(TOOL_NAME),panelRef=(0,react.useRef)();(0,react.useLayoutEffect)((function(){setAddingNewOutline(!1),null!==nextPathRef.current&&(setActiveOutlinePath(nextPathRef.current),nextPathRef.current=null),0===outlines.length&&setMultiSelectMode(!1)}),[outlines]),(0,react.useEffect)((function(){setOutlineEditable(core.A.isFullPDFEnabled()&&outlineEditingEnabled)}),[outlineEditingEnabled]),(0,react.useEffect)((function(){var isAnyEditing=Object.values(editingOutlines).some((function(value){return value}));setAnyOutlineRenaming(isAnyEditing)}),[editingOutlines,outlines]),(0,react.useEffect)((function(){var onSetDestination=function(annotation){setCurrentDestText(annotation.IsText?annotation.getCustomData("trn-annot-preview"):areaDestinationText),setCurrentDestCoord({x:annotation.X,y:annotation.Y}),setCurrentDestPage(annotation.PageNumber)},onOutlinesBookmarksChanged=function(){core.A.getOutlines((function(outlines){dispatch(actions.A.setOutlines(outlines))}))},onDocumentLoaded=function(){setActiveOutlinePath(null)};return core.A.addEventListener("outlineSetDestination",onSetDestination),window.addEventListener("outlineBookmarksChanged",onOutlinesBookmarksChanged),core.A.addEventListener("documentLoaded",onDocumentLoaded),function(){core.A.removeEventListener("outlineSetDestination",onSetDestination),window.removeEventListener("outlineBookmarksChanged",onOutlinesBookmarksChanged),core.A.removeEventListener("documentLoaded",onDocumentLoaded)}}),[]),(0,react.useEffect)((function(){var handlePanelClick=function(event){event.target.classList.contains("bookmark-outline-row")&&(setActiveOutlinePath(null),setSelectedOutlines([]))};return panelRef.current&&panelRef.current.addEventListener("click",handlePanelClick),function(){panelRef.current&&panelRef.current.removeEventListener("click",handlePanelClick)}}),[]);var _ref,getCurrentDestViewerCoord=function(pageNum,param){var x=param.x,y=param.y;return core.A.getDocumentViewer().getDocument().getViewerCoordinates(pageNum,x,y)},addNewOutline=(_ref=OutlinesPanel_async_to_generator((function(name){var _getCurrentDestViewerCoord,x,y,outlineName,doc,pageRotation,tmp;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return _getCurrentDestViewerCoord=getCurrentDestViewerCoord(currentDestPage,currentDestCoord),x=_getCurrentDestViewerCoord.x,y=_getCurrentDestViewerCoord.y,outlineName=name,[defaultDestText,areaDestinationText].includes(currentDestText)||name?name||(outlineName=t("message.untitled")):outlineName=currentDestText.slice(0,40),doc=core.A.getDocumentViewer().getDocument(),(pageRotation=doc.getPageRotation(currentDestPage)/90)!==window.Core.PageRotation.E_90&&pageRotation!==window.Core.PageRotation.E_270||(tmp=x,x=y,y=tmp),0!==outlines.length?[3,2]:[4,OutlineUtils.A.addRootOutline(outlineName,currentDestPage,x,y,0)];case 1:return _state.sent(),[3,4];case 2:return[4,OutlineUtils.A.addNewOutline(outlineName,activeOutlinePath,currentDestPage,x,y,0)];case 3:_state.sent(),_state.label=4;case 4:return updateOutlines(),[2]}}))})),function addNewOutline(name){return _ref.apply(this,arguments)}),updateOutlines=function(){core.A.getOutlines((function(outlines){dispatch(actions.A.setOutlines(outlines))})),clearOutlineDestination(),setEditingOutlines({})},getPath=function(outline){return OutlineUtils.A.getPath(outline)},clearOutlineDestination=function(){core.A.setToolMode(defaultTool.A),setCurrentDestText(defaultDestText),setCurrentDestCoord(defaultDestCoord),setCurrentDestPage(currentPage),tool.clearOutlineDestination()},updateOutlineDest=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinePath){var _getCurrentDestViewerCoord,x,y,doc,pageRotation,tmp;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return _getCurrentDestViewerCoord=getCurrentDestViewerCoord(currentDestPage,currentDestCoord),x=_getCurrentDestViewerCoord.x,y=_getCurrentDestViewerCoord.y,doc=core.A.getDocumentViewer().getDocument(),(pageRotation=doc.getPageRotation(currentDestPage)/90)!==window.Core.PageRotation.E_90&&pageRotation!==window.Core.PageRotation.E_270||(tmp=x,x=y,y=tmp),[4,OutlineUtils.A.setOutlineDestination(outlinePath,currentDestPage,x,y,0)];case 1:return _state.sent(),nextPathRef.current=outlinePath,updateOutlines(),[2]}}))}));return function updateOutlineDest(outlinePath){return _ref.apply(this,arguments)}}();(0,react.useEffect)((function(){currentDestText===defaultDestText&&setCurrentDestPage(currentPage)}),[currentDestText,currentPage]),(0,react.useEffect)((function(){isAddingNewOutline?core.A.setToolMode(TOOL_NAME):clearOutlineDestination()}),[isAddingNewOutline]);var generalMoveOutlineAction=function(dragOutline,dropOutline,moveDirection){var dragPath=getPath(dragOutline),dropPath=getPath(dropOutline);setSelectedOutlines([]),moveDirection.call(OutlineUtils.A,dragPath,dropPath).then((function(path){updateOutlines(),nextPathRef.current=path})),core.A.goToOutline(dragOutline)},moveOutlineAfterTarget=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineAfterTarget)},moveOutlineBeforeTarget=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineBeforeTarget)},moveOutlineInward=function(dragOutline,dropOutline){generalMoveOutlineAction(dragOutline,dropOutline,OutlineUtils.A.moveOutlineInTarget)},renameOutline=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinePath,newName){return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,OutlineUtils.A.setOutlineName(outlinePath,newName)];case 1:return _state.sent(),updateOutlines(),[2]}}))}));return function renameOutline(outlinePath,newName){return _ref.apply(this,arguments)}}(),removeOutlines=function(){var _ref=OutlinesPanel_async_to_generator((function(outlinesToRemove){var confirmationWarning;return OutlinesPanel_ts_generator(this,(function(_state){return outlinesToRemove.sort().reverse(),confirmationWarning={message:t("warning.deleteOutline.message"),title:t("warning.deleteOutline.title"),confirmBtnText:t("action.delete"),onConfirm:OutlinesPanel_async_to_generator((function(){var i,fullIndex;return OutlinesPanel_ts_generator(this,(function(_state){switch(_state.label){case 0:i=0,_state.label=1;case 1:return i<outlinesToRemove.length?(fullIndex=outlinesToRemove[i],[4,OutlineUtils.A.deleteOutline(fullIndex)]):[3,4];case 2:_state.sent(),_state.label=3;case 3:return i++,[3,1];case 4:return updateOutlines(),setActiveOutlinePath(null),setSelectedOutlines([]),[2]}}))}))},dispatch(actions.A.showWarningMessage(confirmationWarning)),[2]}))}));return function removeOutlines(outlinesToRemove){return _ref.apply(this,arguments)}}();return isDisabled?null:react.createElement("div",{className:classnames_default()("Panel OutlinesPanel bookmark-outline-panel",{"modular-ui-panel":customizableUI}),"data-element":dataElement.A.OUTLINE_PANEL,ref:panelRef},react.createElement("div",{className:"bookmark-outline-panel-header"},react.createElement("div",{className:"header-title"},t("component.outlinesPanel")),isOutlineEditable&&(isMultiSelectMode?react.createElement(Button.A,{className:"bookmark-outline-control-button",dataElement:dataElement.A.OUTLINE_MULTI_SELECT,label:t("option.bookmarkOutlineControls.done"),disabled:isAddingNewOutline,onClick:function(){return setMultiSelectMode(!1)}}):react.createElement(Button.A,{className:"bookmark-outline-control-button",dataElement:dataElement.A.OUTLINE_MULTI_SELECT,label:t("option.bookmarkOutlineControls.edit"),disabled:isAddingNewOutline||0===outlines.length,onClick:function(){setMultiSelectMode(!0),setSelectedOutlines([])}}))),react.createElement(Context.A.Provider,{value:{currentDestPage:pageLabels[currentDestPage-1],currentDestText,setActiveOutlinePath,activeOutlinePath,isOutlineActive:function(outline){return getPath(outline)===activeOutlinePath},setAddingNewOutline,isAddingNewOutline,setEditingOutlines,editingOutlines,selectedOutlines,isAnyOutlineRenaming,isMultiSelectMode,shouldAutoExpandOutlines,isOutlineEditable,addNewOutline,updateOutlines,renameOutline,updateOutlineDest,removeOutlines}},outlineControlVisibility&&react.createElement(components_OutlineControls,null),react.createElement(DndProvider.Q,{backend:device.Xb?dist_esm.A:esm.t2},react.createElement(OutlinesDragLayer,null),react.createElement("div",{className:"bookmark-outline-row"},!isAddingNewOutline&&0===outlines.length&&react.createElement("div",{className:"msg msg-no-bookmark-outline"},t("message.noOutlines")),outlines.map((function(outline){return react.createElement(components_Outline,{key:OutlineUtils.A.getOutlineId(outline),outline,setMultiSelected:function(path,value){selectedOutlines.find((function(outline){return outline===path}))?value||setSelectedOutlines(selectedOutlines.filter((function(outline){return outline!==path}))):value&&setSelectedOutlines(_to_consumable_array(selectedOutlines).concat([path]))},moveOutlineInward,moveOutlineBeforeTarget,moveOutlineAfterTarget})})),isAddingNewOutline&&null===activeOutlinePath&&react.createElement(DataElementWrapper.A,{className:"bookmark-outline-single-container editing"},react.createElement(OutlineContent.A,{isAdding:!0,text:"",onCancel:function(){return setAddingNewOutline(!1)}})))),isOutlineEditable&&react.createElement(DataElementWrapper.A,{className:"bookmark-outline-footer",dataElement:dataElement.A.OUTLINE_ADD_NEW_BUTTON_CONTAINER},isMultiSelectMode?react.createElement(react.Fragment,null,react.createElement(Button.A,{className:"multi-selection-button",img:"icon-menu-add",disabled:selectedOutlines.length>0||isAddingNewOutline||isAnyOutlineRenaming,onClick:function(){return setAddingNewOutline(!0)}}),react.createElement(Button.A,{className:"multi-selection-button",img:"icon-delete-line",disabled:0===selectedOutlines.length||isAnyOutlineRenaming,onClick:function(){return removeOutlines(selectedOutlines)}})):react.createElement(Button.A,{className:"bookmark-outline-control-button add-new-button",img:"icon-menu-add",dataElement:dataElement.A.OUTLINE_ADD_NEW_BUTTON,disabled:isAddingNewOutline||isAnyOutlineRenaming,label:"".concat(t("action.add")," ").concat(t("component.outlinePanel")),onClick:function(){return setAddingNewOutline(!0)}}))))};const components_OutlinesPanel_OutlinesPanel=react.memo(OutlinesPanel_OutlinesPanel);OutlinesPanel_OutlinesPanel.__docgenInfo={description:"",methods:[],displayName:"OutlinesPanel"}},"./src/constants/dnd.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V7:()=>DropLocation,ll:()=>ItemTypes,n0:()=>BUFFER_ROOM});var ItemTypes={OUTLINE:"outline",PORTFOLIO:"portfolio"},DropLocation={ON_TARGET_HORIZONTAL_MIDPOINT:"onTargetHorizontalMidPoint",ABOVE_TARGET:"aboveTarget",BELOW_TARGET:"belowTarget",INITIAL:"initial"},BUFFER_ROOM=8}}]);