(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[70020],{"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/ImageSignature/ImageSignature.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.image-signature{width:100%;height:100%;padding:16px}@media(max-height:500px){.App:not(.is-web-component) .image-signature{height:192px}}@container (max-height: 500px){.App.is-web-component .image-signature{height:192px}}@media(max-height:320px){.App:not(.is-web-component) .image-signature{height:162px}}@container (max-height: 320px){.App.is-web-component .image-signature{height:162px}}.image-signature .image-signature-modal-overlay{position:absolute;width:100%;height:480px;background:transparent;z-index:9999;inset-inline-start:0;inset-block-start:-100px}.image-signature-image-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.image-signature-image-container img{max-height:100%;max-width:100%;width:auto;height:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.image-signature-image-container img{flex-grow:1;flex-basis:0}}.image-signature-image-container .Button{position:absolute;inset-block-end:0;inset-inline-end:0}.image-signature .mobile{background:var(--signature-draw-background);border:1px solid var(--modal-stroke-and-border)}.image-signature-upload-container{position:relative;border-radius:4px;border:1px dashed var(--modal-stroke-and-border);display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.image-signature-upload-container.dragging{background:var(--image-signature-drop-background);border:1px dashed var(--image-signature-drop-border)}.image-signature-dnd,.image-signature-separator{color:var(--faded-text)}.image-signature-upload input[type=file]{display:none}.image-signature-upload .pick-image-button{height:24px;border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);display:flex;align-items:center;padding:0 11px;cursor:pointer}.image-signature-upload .pick-image-button:hover{border:1px solid var(--primary-button-hover);color:var(--primary-button-hover)}.image-signature-upload .pick-image-button.focus-visible,.image-signature-upload .pick-image-button:focus-visible{outline:var(--focus-visible-outline)}.image-signature-separator{margin:10px}.image-signature-error{position:absolute;color:red;inset-block-end:0;inset-inline-end:0;margin:0 5px 5px 0}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/InkSignature/InkSignature.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ink-signature{width:100%;height:100%;padding:16px}.ink-signature-canvas-container{display:flex;flex-direction:column;background:var(--signature-draw-background);border-radius:4px;border:1px solid var(--modal-stroke-and-border);padding:8px;height:200px}.ink-signature-canvas-container.full-signature{flex:1.5 0 0}.ink-signature-canvas-container.initials{flex:1 0 0}.ink-signature .ink-signature-canvas{height:144px;border-bottom:1px solid var(--gray-6)}@media(max-height:500px){.App:not(.is-web-component) .ink-signature .ink-signature-canvas{height:116px}}@container (max-height: 500px){.App.is-web-component .ink-signature .ink-signature-canvas{height:116px}}@media(max-height:320px){.App:not(.is-web-component) .ink-signature .ink-signature-canvas{height:86px}}@container (max-height: 320px){.App.is-web-component .ink-signature .ink-signature-canvas{height:86px}}.ink-signature-canvas{z-index:1;width:inherit;height:inherit;cursor:crosshair}.ink-signature-footer{display:flex;flex-direction:row;border-top:1px solid var(--modal-stroke-and-border);padding-top:7px}.ink-signature-sign-here{color:var(--faded-text);height:48px;text-align:center;font-size:10px;flex:2 0 0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ink-signature-sign-here{inset-inline-start:44.5%}}.ink-signature .canvas-colorpalette-container{padding:0;box-sizing:border-box;display:flex;flex-direction:column}.ink-signature .colorpalette-clear-container{display:flex;height:44px;justify-content:space-between}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/SavedSignatures/SavedSignatures.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SavedSignatures{width:100%;height:276px;padding:16px;overflow-y:auto;display:flex;grid-gap:16px;gap:16px;flex-direction:column}@media(max-height:500px){.App:not(.is-web-component) .SavedSignatures{height:192px}}@container (max-height: 500px){.App.is-web-component .SavedSignatures{height:192px}}@media(max-height:320px){.App:not(.is-web-component) .SavedSignatures{height:162px}}@container (max-height: 320px){.App.is-web-component .SavedSignatures{height:162px}}.SavedSignatures .signature-row{display:flex;flex-direction:column;justify-content:center;height:25%;width:100%}.SavedSignatures .signature-row .inputContainer{width:100%;display:grid;grid-gap:8px;gap:8px;align-items:center;grid-template-columns:20px 1fr}.SavedSignatures .signature-row .inputContainer input{width:16px;height:16px}.SavedSignatures .signature-row .inputContainer input[type=radio]:checked{accent-color:var(--blue-5)}.SavedSignatures .signature-row .inputContainer .contentContainer{padding-bottom:4px;margin-bottom:4px;border-bottom:1px solid var(--gray-5);display:grid;align-items:center;grid-template-columns:1fr 1fr 1fr}.SavedSignatures .signature-row .inputContainer .contentContainer .icon-button{justify-self:end;padding:0;border:none;background-color:transparent;display:flex;align-items:center;justify-content:center;width:34px;border-radius:4px;cursor:pointer}:host(:not([data-tabbing=true])) .SavedSignatures .signature-row .inputContainer .contentContainer .icon-button,html:not([data-tabbing=true]) .SavedSignatures .signature-row .inputContainer .contentContainer .icon-button{outline:none}.SavedSignatures .signature-row .inputContainer .contentContainer .icon-button:hover{background:var(--tools-overlay-button-hover)}.SavedSignatures .signature-row .inputContainer .contentContainer .radioButton{border-radius:100px;border:1px solid var(--blue-5);width:16px;height:16px;border-spacing:2px}.SavedSignatures .signature-row .inputContainer .contentContainer .radioButton.selected{background-color:var(--blue-5)}.SavedSignatures .signature-row .inputContainer .contentContainer .imgContainer{width:162px;height:26px}.SavedSignatures .signature-row .inputContainer .contentContainer .imgContainer img{max-width:100%;max-height:100%}.SavedSignatures .signature-row .labelContainer{display:grid;grid-template-columns:1fr 2fr;padding-inline-start:28px;color:var(--gray-7)}.SavedSignatures .signature-row.no-initials .contentContainer{grid-template-columns:1fr 2fr}.SavedSignatures .emptyListContainer{height:100%;display:flex;align-items:center;justify-content:center;text-align:center}.SavedSignatures.empty{grid-template-rows:1fr}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/SignatureModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".open.SignatureModal{visibility:visible}.closed.SignatureModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignatureModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.SignatureModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.SignatureModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.SignatureModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.SignatureModal .footer .modal-button.cancel:hover,.SignatureModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.SignatureModal .footer .modal-button.cancel,.SignatureModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.SignatureModal .footer .modal-button.cancel.disabled,.SignatureModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.SignatureModal .footer .modal-button.cancel.disabled span,.SignatureModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.SignatureModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.SignatureModal .modal-container .wrapper .modal-content{padding:10px}.SignatureModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.SignatureModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.SignatureModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.SignatureModal .footer .modal-button.confirm{margin-inline-start:4px}.SignatureModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .footer .modal-button{padding:23px 8px}}.SignatureModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .swipe-indicator{width:32px}}.SignatureModal .modal-container .tab-list{width:100%;height:28px;display:flex;border-radius:4px;color:var(--text-color)}.SignatureModal .modal-container .tab-list .tab-options-button{text-align:center;vertical-align:middle;line-height:24px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1;border-radius:0;cursor:pointer}.SignatureModal .modal-container .tab-list .tab-options-button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.SignatureModal .modal-container .tab-list .tab-options-button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.SignatureModal .modal-container .tab-list .tab-options-button:hover{background:var(--popup-button-hover)}.SignatureModal .modal-container .tab-list .tab-options-button.selected{cursor:default}.SignatureModal .modal-container .tab-list .tab-options-button.focus-visible,.SignatureModal .modal-container .tab-list .tab-options-button:focus-visible{outline:var(--focus-visible-outline)}.SignatureModal .modal-container .tab-panel{width:100%;display:flex;flex-direction:column;align-items:center}.SignatureModal .modal-container .tab-panel.focus-visible,.SignatureModal .modal-container .tab-panel:focus-visible{outline:var(--focus-visible-outline)!important}.SignatureModal .modal-container{display:flex;flex-direction:column;justify-content:space-between;width:480px;padding:0;border-radius:4px;background:var(--component-background);overflow-y:visible}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .modal-container{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .modal-container{width:100%}}.SignatureModal .modal-container.include-initials{width:664px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .modal-container{border-radius:0;height:440px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .modal-container{border-radius:0;height:440px}}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .modal-container{display:grid;height:100%;position:fixed;inset-block-start:0;grid-template-rows:100px auto 70px;justify-content:normal}}@container (max-height: 320px){.App.is-web-component .SignatureModal .modal-container{display:grid;height:100%;position:fixed;inset-block-start:0;grid-template-rows:100px auto 70px;justify-content:normal}}.SignatureModal .modal-container .tabs-header-container{padding:16px 16px 0}.SignatureModal .modal-container .header{margin:0;display:flex;align-items:center;width:100%;height:24px}.SignatureModal .modal-container .header p{font-size:16px;font-weight:700;width:calc(100% - 32px);margin:0;margin-inline-end:16px}.SignatureModal .modal-container .header .signatureModalCloseButton{position:static;height:32px;width:32px}.SignatureModal .modal-container .header .signatureModalCloseButton:hover{background:var(--gray-2);border-radius:4px}.SignatureModal .modal-container .header .signatureModalCloseButton.selected{background:var(--view-header-button-active);cursor:default}.SignatureModal .modal-container .StylePopup{border-radius:0;box-shadow:none}.SignatureModal .modal-container .tab-panel{overflow-y:auto}.SignatureModal .modal-container .tab-list{font-size:14px}.SignatureModal .modal-container .tab-list .tab-options-button{padding:0;border:none;background-color:transparent}:host(:not([data-tabbing=true])) .SignatureModal .modal-container .tab-list .tab-options-button,html:not([data-tabbing=true]) .SignatureModal .modal-container .tab-list .tab-options-button{outline:none}.SignatureModal .modal-container .signature-style-options{width:90%;display:flex}.SignatureModal .modal-container .signature-style-options .ColorPalette{margin:8px;grid-template-columns:repeat(3,1fr);width:100px}.SignatureModal .modal-container .signature-style-options .ColorPalette :not(:last-child){margin-inline-end:8px}.SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container{width:28px;height:28px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container{width:22px;height:22px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container{width:22px;height:22px}}.SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:16px;height:16px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:14px;height:14px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:14px;height:14px}}.SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:28px;height:28px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:22px;height:22px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .modal-container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:22px;height:22px}}.SignatureModal .modal-container .signature-clear{background-color:transparent;color:var(--secondary-button-text);padding:0 16px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;height:28px;width:63px;margin:auto 8px;font-size:13px}:host(:not([data-tabbing=true])) .SignatureModal .modal-container .signature-clear,html:not([data-tabbing=true]) .SignatureModal .modal-container .signature-clear{outline:none}.SignatureModal .modal-container .signature-clear:enabled:hover{color:var(--secondary-button-hover)}.SignatureModal .modal-container .signature-clear:disabled{opacity:.5}.SignatureModal .modal-container .footer{display:flex;padding:16px;align-items:center;justify-content:flex-end;width:100%;box-shadow:inset 0 1px 0 var(--modal-stroke-and-border);margin:0}.SignatureModal .modal-container .footer .signature-create{border:none;background-color:transparent;background:var(--primary-button);border-radius:4px;padding:0 8px;height:32px;width:72px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}:host(:not([data-tabbing=true])) .SignatureModal .modal-container .footer .signature-create,html:not([data-tabbing=true]) .SignatureModal .modal-container .footer .signature-create{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .modal-container .footer .signature-create{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .modal-container .footer .signature-create{font-size:13px}}.SignatureModal .modal-container .footer .signature-create:enabled:hover{background:var(--primary-button-hover)}.SignatureModal .modal-container .footer .signature-create:disabled{opacity:.5;cursor:default}.SignatureModal .modal-container .footer .signature-create.focus-visible,.SignatureModal .modal-container .footer .signature-create:focus-visible{outline:var(--focus-visible-outline)}.SignatureModal .modal-container .tab-list .tab-options-divider+.tab-options-button{border-inline-start:none!important}.SignatureModal .modal-container .tab-list .tab-options-button{border-top:1px solid var(--tab-border-color);border-bottom:1px solid var(--tab-border-color)}.SignatureModal .modal-container .tab-list .tab-options-button:first-child{border-inline-start:1px solid var(--tab-border-color)}.SignatureModal .modal-container .tab-list .tab-options-button:last-child{border-inline-end:1px solid var(--tab-border-color)}.SignatureModal .modal-container .tab-list .tab-options-button:hover{background:var(--tab-background-color-hover);border-top:1px solid var(--tab-border-color-hover);border-bottom:1px solid var(--tab-border-color-hover);border-inline-end:1px solid var(--tab-border-color-hover)}.SignatureModal .modal-container .tab-list .tab-options-button:hover+button,.SignatureModal .modal-container .tab-list .tab-options-button:hover+div{border-inline-start:none}.SignatureModal .modal-container .tab-list .tab-options-button.selected{background:var(--tab-color-selected);border:1px solid var(--tab-color-selected);color:var(--tab-text-color-selected)}.SignatureModal .modal-container .tab-list .tab-options-button.selected+button,.SignatureModal .modal-container .tab-list .tab-options-button.selected+div{border-inline-start:none!important}.SignatureModal .modal-container .tab-list .tab-options-button:not(.selected){border-inline-end:solid 1px var(--tab-border-color)}.SignatureModal .colorpalette-clear-container{display:flex;height:38px;box-sizing:border-box;justify-content:space-between;align-items:baseline;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.SignatureModal .colorpalette-clear-container .signature-style-options{width:90%;display:flex}.SignatureModal .colorpalette-clear-container .signature-style-options .divider{display:inline-block;border-inline-start:1px solid var(--modal-stroke-and-border);margin:auto 8px auto 16px;height:16px}.SignatureModal .colorpalette-clear-container .signature-style-options .placeholder-dropdown{width:160px;height:31px;margin:auto 0}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper{width:160px;height:31px;position:absolute;margin:8px 0 auto}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown{width:100%!important;height:100%;text-align:start}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .picked-option-text{margin-inline-end:-18px;padding-inline-start:2px;font-size:13px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .arrow{flex:unset}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items{inset-block-end:auto;inset-block-start:100%;width:100%;inset-inline-start:0;inset-inline-end:auto}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(n){font-size:15px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(2){font-size:13px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(4){font-size:18px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__item{display:block;padding-inline-end:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:start}.SignatureModal .footer-signature-clear{padding:0;background-color:transparent;color:var(--secondary-button-text);display:flex;flex:0 0 0;align-items:baseline;justify-content:center;cursor:pointer;border:none;height:28px;width:63px;font-size:13px}:host(:not([data-tabbing=true])) .SignatureModal .footer-signature-clear,html:not([data-tabbing=true]) .SignatureModal .footer-signature-clear{outline:none}.SignatureModal .footer-signature-clear:enabled:hover{color:var(--secondary-button-hover)}.SignatureModal .footer-signature-clear:disabled{opacity:.5}.SignatureModal .footer-signature-clear.focus-visible,.SignatureModal .footer-signature-clear:focus-visible{outline:var(--focus-visible-outline)}.SignatureModal .signature-input{background:var(--signature-draw-background);border:1px solid var(--modal-stroke-and-border);display:flex;flex-direction:column;grid-gap:8px;gap:8px;align-items:center;justify-content:center;padding:8px;width:100%;height:200px;border-radius:4px}.SignatureModal .signature-input.full-signature{flex:1.5 0 0}.SignatureModal .signature-input.initials{flex:1 0 0}@media(max-height:500px){.App:not(.is-web-component) .SignatureModal .signature-input{height:116px}}@container (max-height: 500px){.App.is-web-component .SignatureModal .signature-input{height:116px}}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .signature-input{height:86px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .signature-input{height:86px}}.SignatureModal .signature-input.image{height:244px}.SignatureModal .signature-input-footer{display:flex;flex-direction:row;width:100%}.SignatureModal .signature-input .signature-prompt{font-size:10px;color:var(--faded-text);flex:3 0 0;text-align:center}.SignatureModal .signature-and-initials-container{display:flex;flex-direction:row;grid-gap:8px;gap:8px}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/TextSignature/TextSignature.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.text-signature{width:100%;height:100%;padding:16px}.text-signature canvas{display:none}.text-signature-input{outline:none;width:100%;background:transparent;border:none;border-bottom:1px solid var(--gray-6);border-radius:0;text-align:center;height:85px}@media(max-height:500px){.App:not(.is-web-component) .text-signature-input{font-size:42px!important;height:50px}}@container (max-height: 500px){.App.is-web-component .text-signature-input{font-size:42px!important;height:50px}}@media(max-height:320px){.App:not(.is-web-component) .text-signature-input{font-size:34px!important}}@container (max-height: 320px){.App.is-web-component .text-signature-input{font-size:34px!important}}.text-signature-input:focus{border:none;border-bottom:1px solid var(--gray-6)}.text-signature-inner-container{position:absolute;height:100%;min-width:100%}.text-signature-text{display:flex;align-items:center;background:var(--signature-draw-background);white-space:nowrap;border-radius:4px;padding:0 8px;margin-top:10px;overflow-y:auto;flex-grow:1;visibility:hidden;position:fixed}.text-signature-text:hover{cursor:pointer}.text-signature-text .text-container{margin:auto;padding:0 20px}.text-signature label{margin-top:60px;width:100%}.text-signature .Dropdown__items{inset-block-start:unset!important}.text-signature .Dropdown__items [data-testid=sig-no-result]{font-size:13px!important}",""]),exports.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},module.exports=exports},"./src/components/SignatureModal/ImageSignature/ImageSignature.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/ImageSignature/ImageSignature.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignatureModal/InkSignature/InkSignature.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/InkSignature/InkSignature.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignatureModal/SavedSignatures/SavedSignatures.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/SavedSignatures/SavedSignatures.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignatureModal/SignatureModal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_SignatureModal_SignatureModal});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),Tabs=__webpack_require__("./src/components/Tabs/index.js"),index_esm=__webpack_require__("./node_modules/react-measure/dist/index.esm.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),setToolStyles=__webpack_require__("./src/helpers/setToolStyles.js"),react_swipeable_es=__webpack_require__("./node_modules/react-swipeable/es/index.js"),ColorPalette=__webpack_require__("./src/components/ColorPalette/index.js"),Dropdown=__webpack_require__("./src/components/Dropdown/index.js"),signatureModes=__webpack_require__("./src/constants/signatureModes.js"),core=__webpack_require__("./src/core/index.js"),commonColors=__webpack_require__("./src/constants/commonColors.js");__webpack_require__("./src/components/SignatureModal/InkSignature/InkSignature.scss");const propTypes={isModalOpen:prop_types_default().bool,isTabPanelSelected:prop_types_default().bool,disableCreateButton:prop_types_default().func,enableCreateButton:prop_types_default().func,isInitialsModeEnabled:prop_types_default().bool},InkSignature_InkSignature=({isModalOpen,isTabPanelSelected,disableCreateButton,enableCreateButton,isInitialsModeEnabled=!1})=>{const fullSignatureCanvas=(0,react.useRef)(),initialsCanvas=(0,react.useRef)(),fullSignaturePathsRef=(0,react.useRef)(),initialsPathsRef=(0,react.useRef)(),[t]=(0,useTranslation.B)(),[dimension,setDimension]=(0,react.useState)({}),[fullSignatureDrawn,setFullSignatureDrawn]=(0,react.useState)(!1),[initialsDrawn,setInitialsDrawn]=(0,react.useState)(!1),forceUpdate=(()=>{const[,setIt]=(0,react.useState)(!1);return()=>setIt((it=>!it))})();(0,react.useEffect)((()=>{const signatureTool=core.A.getTool("AnnotationCreateSignature"),canvas=fullSignatureCanvas.current;signatureTool.setSignatureCanvas(canvas);const multiplier=window.Core.getCanvasMultiplier();canvas.getContext("2d").scale(multiplier,multiplier);const secondCanvas=initialsCanvas.current;signatureTool.setInitialsCanvas(secondCanvas),secondCanvas.getContext("2d").scale(multiplier,multiplier)}),[]),(0,react.useEffect)((()=>{isModalOpen&&(clearFullSignatureCanvas(),clearInitialsCanvas())}),[isModalOpen]),(0,react.useEffect)((()=>{!async function resizeFullSignatureCanvas(){if(isModalOpen&&isTabPanelSelected){const signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature");for(const signatureTool of signatureToolArray)signatureTool.setSignature(fullSignaturePathsRef.current),signatureTool.setInitials(initialsPathsRef.current),await signatureTool.resizeCanvas(signatureModes.A.FULL_SIGNATURE)}}(),async function resizeInitialsCanvas(){if(isModalOpen&&isTabPanelSelected&&isInitialsModeEnabled){const signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature");for(const signatureTool of signatureToolArray)signatureTool.setInitials(initialsPathsRef.current),await signatureTool.resizeCanvas(signatureModes.A.INITIALS)}}(),function checkEnableCreateButton(){isInitialsModeEnabled?fullSignaturePathsRef.current&&initialsPathsRef.current?enableCreateButton():disableCreateButton():fullSignaturePathsRef.current?enableCreateButton():disableCreateButton()}()}),[isTabPanelSelected,isModalOpen,isInitialsModeEnabled]),(0,react.useEffect)((()=>{!async function resizeCanvasAsyncCall(){if(dimension.height&&dimension.width){const signatureTool=core.A.getTool("AnnotationCreateSignature");await signatureTool.resizeCanvas(),isInitialsModeEnabled&&await signatureTool.resizeCanvas(signatureModes.A.INITIALS)}}()}),[dimension,isInitialsModeEnabled]),(0,react.useEffect)((()=>{!fullSignatureDrawn||isInitialsModeEnabled&&!initialsDrawn?disableCreateButton():enableCreateButton()}),[initialsDrawn,fullSignatureDrawn,isInitialsModeEnabled]);const clearFullSignatureCanvas=(0,react.useCallback)((()=>{core.A.getTool("AnnotationCreateSignature").clearSignatureCanvas(),fullSignaturePathsRef.current=null,setFullSignatureDrawn(!1)}),[]),clearInitialsCanvas=(0,react.useCallback)((()=>{core.A.getTool("AnnotationCreateSignature").clearInitialsCanvas(),initialsPathsRef.current=null,setInitialsDrawn(!1)}),[]),handleFinishDrawingFullSignature=async()=>{const signatureTool=core.A.getTool("AnnotationCreateSignature");await signatureTool.isEmptySignature()||(fullSignaturePathsRef.current=deepCopy(signatureTool.getFullSignatureAnnotation().getPaths()),setFullSignatureDrawn(!0))},handleFinishDrawingInitials=async()=>{const signatureTool=core.A.getTool("AnnotationCreateSignature");signatureTool.getInitialsAnnotation()&&(initialsPathsRef.current=deepCopy(signatureTool.getInitialsAnnotation().getPaths()),setInitialsDrawn(!0))},deepCopy=paths=>{const pathsCopy=[];for(let i=0;i<paths.length;++i)for(let j=0;j<paths[i].length;++j)pathsCopy[i]||(pathsCopy[i]=[]),pathsCopy[i][j]=new window.Core.Math.Point(paths[i][j].x,paths[i][j].y);return pathsCopy},toolStyles=core.A.getTool("AnnotationCreateSignature").defaults,initialsContainerStyle=isInitialsModeEnabled?{}:{display:"none"};return(0,jsx_runtime.jsx)(index_esm.A,{bounds:!0,onResize:({bounds})=>setDimension(bounds),children:({measureRef})=>(0,jsx_runtime.jsx)("div",{className:"ink-signature",ref:measureRef,children:(0,jsx_runtime.jsxs)(react_swipeable_es.Hx,{onSwiping:({event})=>event.stopPropagation(),className:"canvas-colorpalette-container",children:[(0,jsx_runtime.jsxs)("div",{className:"signature-and-initials-container",children:[(0,jsx_runtime.jsxs)("div",{className:"signature-input full-signature",children:[(0,jsx_runtime.jsx)("canvas",{className:"ink-signature-canvas",onMouseUp:handleFinishDrawingFullSignature,onTouchEnd:handleFinishDrawingFullSignature,onMouseLeave:handleFinishDrawingFullSignature,ref:fullSignatureCanvas}),(0,jsx_runtime.jsxs)("div",{className:"signature-input-footer",children:[(0,jsx_runtime.jsx)("div",{className:"signature-prompt",children:t("option.signatureModal.drawSignature")}),(0,jsx_runtime.jsx)("button",{className:"footer-signature-clear",onClick:clearFullSignatureCanvas,disabled:!fullSignatureDrawn,"aria-label":t("action.clearSignature"),children:t("action.clear")})]})]}),(0,jsx_runtime.jsxs)("div",{className:"signature-input initials",style:initialsContainerStyle,children:[(0,jsx_runtime.jsx)("canvas",{className:"ink-signature-canvas",onMouseUp:handleFinishDrawingInitials,onTouchEnd:handleFinishDrawingInitials,onMouseLeave:handleFinishDrawingInitials,ref:initialsCanvas}),(0,jsx_runtime.jsxs)("div",{className:"signature-input-footer",children:[(0,jsx_runtime.jsx)("div",{className:"signature-prompt",children:t("option.signatureModal.drawInitial")}),(0,jsx_runtime.jsx)("button",{className:"footer-signature-clear",onClick:clearInitialsCanvas,disabled:!initialsDrawn,"aria-label":t("action.clearInitial"),children:t("action.clear")})]})]})]}),(0,jsx_runtime.jsx)("div",{className:"colorpalette-clear-container",children:(0,jsx_runtime.jsxs)("div",{className:"signature-style-options",children:[(0,jsx_runtime.jsx)(Dropdown.A,{id:"ink-signature-font-dropdown",disabled:!0,placeholder:"Text Styles"}),(0,jsx_runtime.jsx)("div",{className:"placeholder-dropdown"}),(0,jsx_runtime.jsx)("div",{className:"divider"}),(0,jsx_runtime.jsx)(ColorPalette.A,{color:toolStyles.StrokeColor,property:"StrokeColor",onStyleChange:(property,value)=>((property,value)=>{(0,setToolStyles.A)("AnnotationCreateSignature",property,value);const signatureTool=core.A.getTool("AnnotationCreateSignature");signatureTool.getFullSignatureAnnotation()&&(signatureTool.getFullSignatureAnnotation().StrokeColor=value,signatureTool.resizeCanvas(signatureModes.A.FULL_SIGNATURE)),signatureTool.getInitialsAnnotation()&&(signatureTool.getInitialsAnnotation().StrokeColor=value,signatureTool.resizeCanvas(signatureModes.A.INITIALS)),forceUpdate()})(property,value),overridePalette2:[commonColors.zb.black,commonColors.R0[12],commonColors.R0[7]]})]})})]})})})};InkSignature_InkSignature.propTypes=propTypes;const SignatureModal_InkSignature_InkSignature=InkSignature_InkSignature;InkSignature_InkSignature.__docgenInfo={description:"",methods:[],displayName:"InkSignature",props:{isInitialsModeEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isModalOpen:{description:"",type:{name:"bool"},required:!1},isTabPanelSelected:{description:"",type:{name:"bool"},required:!1},disableCreateButton:{description:"",type:{name:"func"},required:!1},enableCreateButton:{description:"",type:{name:"func"},required:!1}}};const SignatureModal_InkSignature=SignatureModal_InkSignature_InkSignature;var device=__webpack_require__("./src/helpers/device.js");const helpers_cropImageFromCanvas=function cropImageFromCanvas(canvas){const ctx=canvas.getContext("2d");let width=canvas.width,height=canvas.height;const pixels={x:[],y:[]},imageData=ctx.getImageData(0,0,canvas.width,canvas.height);let x,y,index;for(y=0;y<height;y++)for(x=0;x<width;x++)index=4*(y*width+x),imageData.data[index+3]>0&&(pixels.x.push(x),pixels.y.push(y));pixels.x.sort((function(a,b){return a-b})),pixels.y.sort((function(a,b){return a-b}));const n=pixels.x.length-1;width=1+pixels.x[n]-pixels.x[0],height=1+pixels.y[n]-pixels.y[0];const cut=ctx.getImageData(pixels.x[0],pixels.y[0],width,height);return canvas.width=width,canvas.height=height,ctx.putImageData(cut,0,0),canvas.toDataURL()};var selectors=__webpack_require__("./src/redux/selectors/index.js"),getRootNode=(__webpack_require__("./src/components/SignatureModal/TextSignature/TextSignature.scss"),__webpack_require__("./src/helpers/getRootNode.js"));const TextSignature_propTypes={isModalOpen:prop_types_default().bool,isTabPanelSelected:prop_types_default().bool,disableCreateButton:prop_types_default().func,enableCreateButton:prop_types_default().func,isInitialsModeEnabled:prop_types_default().bool},DEFAULT_FONT_COLOR=commonColors.zb.black,CANVAS_MULTIPLIER=window.Core.getCanvasMultiplier(),parseInitialsFromFullSignature=fullSiganture=>fullSiganture?.split(" ").map((x=>x[0])).join("").toUpperCase(),getSignatureLength=(text,fontSize,fontFamily)=>{const font=`${fontSize}px ${fontFamily}`,textSpan=document.createElement("span");textSpan.id="textSpan",textSpan.style.display="inline-block",textSpan.style.visibility="hidden",textSpan.style.font=font;const rootNode=(0,getRootNode.Ay)();window.isApryseWebViewerWebComponent?rootNode.appendChild(textSpan):rootNode.getElementsByTagName("body")[0].appendChild(textSpan),textSpan.textContent=text;const signatureWidth=textSpan.getBoundingClientRect().width;return textSpan.remove(),signatureWidth},scaleFontSize=(text,fontFamily)=>{let currentFontSize,minFontSize=0,maxFontSize=48;for(;minFontSize<=maxFontSize;){currentFontSize=Math.floor((minFontSize+maxFontSize)/2);getSignatureLength(text,currentFontSize,fontFamily)>350?maxFontSize=currentFontSize-1:minFontSize=currentFontSize+1}return currentFontSize},resizeCanvas=(canvas,measurementReference,overrideMultiplier=0)=>{let{width,height}=measurementReference.current.getBoundingClientRect();width+=100,height+=100,canvas.style.width=`${width}px`,canvas.style.height=`${height}px`,canvas.width=width*Math.max(overrideMultiplier,CANVAS_MULTIPLIER),canvas.height=height*Math.max(overrideMultiplier,CANVAS_MULTIPLIER)},setFontInCanvas=({canvas,text,selectedFontFamily,fontColor,overrideMultiplier=0})=>{const ctx=canvas.getContext("2d"),fontSize=scaleFontSize(text,selectedFontFamily);ctx.fillStyle=fontColor,ctx.textAlign="center",ctx.textBaseline="middle",ctx.font=`${fontSize*Math.max(overrideMultiplier,CANVAS_MULTIPLIER)}px ${selectedFontFamily}`},drawTextInCanvas=(canvas,text)=>{const ctx=canvas.getContext("2d"),{width,height}=canvas;ctx.clearRect(0,0,width,height),ctx.fillText(text,width/2,height/2)},TextSignature_TextSignature=({isModalOpen,isTabPanelSelected,disableCreateButton,enableCreateButton,isInitialsModeEnabled=!1})=>{const fonts=(0,es.d4)((state=>selectors.A.getSignatureFonts(state))),textSignatureCanvasMultiplier=(0,es.d4)((state=>selectors.A.getTextSignatureQuality(state))),[fullSignature,setFullSiganture]=(0,react.useState)(""),[initials,setInitials]=(0,react.useState)(""),[isDefaultValue,setIsDefaultValue]=(0,react.useState)(!0),[fontColor,setFontColor]=(0,react.useState)(new window.Core.Annotations.Color(DEFAULT_FONT_COLOR)),[fontSize,setFontSize]=(0,react.useState)(48),inputRef=(0,react.useRef)(),fullSignatureHiddenCanvasRef=(0,react.useRef)(),initialsHiddenCanvasRef=(0,react.useRef)(),hiddenFullSignatureRef=(0,react.useRef)(),hiddenInitialsRef=(0,react.useRef)(),[t]=(0,useTranslation.B)(),[selectedFontFamily,setSelectedFontFamily]=(0,react.useState)(fonts[0]),forceUpdate=(()=>{const[,setIt]=(0,react.useState)(!1);return()=>setIt((it=>!it))})();(0,react.useEffect)((()=>{fullSignature?.length>0&&(!isInitialsModeEnabled||initials)?enableCreateButton():disableCreateButton()}),[initials,fullSignature,isInitialsModeEnabled]),(0,react.useEffect)((()=>{fonts.includes(selectedFontFamily)||setSelectedFontFamily(fonts[0])}),[selectedFontFamily,fonts]),(0,react.useEffect)((()=>{const initialsCanvas=initialsHiddenCanvasRef.current;isTabPanelSelected&&(resizeCanvas(initialsCanvas,hiddenInitialsRef),setFontInCanvas({canvas:initialsCanvas,text:initials,selectedFontFamily,fontColor}),drawTextInCanvas(initialsCanvas,initials),isModalOpen&&setInitialsInTool())}),[isTabPanelSelected,initials,fonts,fontColor,selectedFontFamily]),(0,react.useEffect)((()=>{const fullSignatureCanvas=fullSignatureHiddenCanvasRef.current;isTabPanelSelected&&(resizeCanvas(fullSignatureCanvas,hiddenFullSignatureRef,textSignatureCanvasMultiplier),setFontInCanvas({canvas:fullSignatureCanvas,text:fullSignature,selectedFontFamily,fontColor,overrideMultiplier:textSignatureCanvasMultiplier}),drawTextInCanvas(fullSignatureCanvas,fullSignature),isModalOpen&&setSignature())}),[isTabPanelSelected,fullSignature,fonts,fontColor,selectedFontFamily]),(0,react.useEffect)((()=>{if(setFontColor(fontColor),isModalOpen&&isTabPanelSelected){const currentUser=core.A.getDisplayAuthor(core.A.getCurrentUser());setFullSiganture(currentUser),setInitials(parseInitialsFromFullSignature(currentUser)),setSignature(),fullSignature?.length>0&&(!isInitialsModeEnabled||initials)&&enableCreateButton()}}),[isModalOpen,isTabPanelSelected]),(0,react.useEffect)((()=>{isTabPanelSelected&&(inputRef.current?.focus(),device.un?inputRef.current.setSelectionRange(0,9999):inputRef.current.select())}),[isTabPanelSelected]),(0,react.useEffect)((()=>{const onUpdateAnnotationPermission=()=>{if(isDefaultValue){const currentUser=core.A.getDisplayAuthor(core.A.getCurrentUser());setFullSiganture(currentUser),setInitials(parseInitialsFromFullSignature(currentUser)),enableCreateButton()}};return core.A.addEventListener("updateAnnotationPermission",onUpdateAnnotationPermission),()=>{core.A.removeEventListener("updateAnnotationPermission",onUpdateAnnotationPermission)}}),[isDefaultValue]);const setSignature=()=>{const signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),canvas=fullSignatureHiddenCanvasRef.current;if((fullSignature||"").trim()){const base64=helpers_cropImageFromCanvas(canvas);signatureToolArray.forEach((tool=>tool.setSignature(base64)))}else signatureToolArray.forEach((tool=>tool.setSignature(null)))},setInitialsInTool=()=>{const signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),canvas=initialsHiddenCanvasRef.current;if((initials||"").trim()){const base64=helpers_cropImageFromCanvas(canvas);signatureToolArray.forEach((tool=>tool.setInitials(base64)))}else signatureToolArray.forEach((tool=>tool.setInitials(null)))},handleDropdownSelectionChange=font=>{setSelectedFontFamily(font);const newFontSize=scaleFontSize(fullSignature,font);setFontSize(newFontSize)},isDisabled=!(isModalOpen&&isTabPanelSelected),initialsInputStyle=isInitialsModeEnabled?{}:{display:"none"};return(0,jsx_runtime.jsxs)("div",{className:"text-signature",children:[(0,jsx_runtime.jsxs)("div",{className:"signature-and-initials-container",children:[(0,jsx_runtime.jsxs)("div",{className:"signature-input full-signature",children:[(0,jsx_runtime.jsx)("label",{children:(0,jsx_runtime.jsx)("input",{className:"text-signature-input",ref:inputRef,"aria-label":t("option.signatureModal.typeSignature"),type:"text",value:fullSignature,onChange:e=>{setIsDefaultValue(!1);const value=e.target.value.replace(/^\s+/g,"");setSignature(),setFullSiganture(value),setInitials(parseInitialsFromFullSignature(value));const newFontSize=scaleFontSize(value,selectedFontFamily);setFontSize(newFontSize)},style:{fontFamily:selectedFontFamily||fonts,fontSize,color:fontColor.toHexString()},disabled:isDisabled})}),(0,jsx_runtime.jsxs)("div",{className:"signature-input-footer",children:[(0,jsx_runtime.jsx)("div",{className:"signature-prompt",children:t("option.signatureModal.typeSignature")}),(0,jsx_runtime.jsx)("button",{className:"footer-signature-clear","aria-label":t("action.clearSignature"),onClick:()=>{setFullSiganture(""),inputRef.current.focus()},disabled:isDisabled||0===fullSignature.length,children:t("action.clear")})]})]}),(0,jsx_runtime.jsxs)("div",{className:"signature-input initials",style:initialsInputStyle,children:[(0,jsx_runtime.jsx)("label",{children:(0,jsx_runtime.jsx)("input",{className:"text-signature-input",type:"text",value:initials,"aria-label":t("option.signatureModal.typeInitial"),onChange:e=>{setIsDefaultValue(!1);const initials=e.target.value.replace(/^\s+/g,"");setSignature(),setInitials(initials)},style:{fontFamily:selectedFontFamily||fonts,fontSize,color:fontColor.toHexString()},disabled:isDisabled})}),(0,jsx_runtime.jsxs)("div",{className:"signature-input-footer",children:[(0,jsx_runtime.jsx)("div",{className:"signature-prompt",children:t("option.signatureModal.typeInitial")}),(0,jsx_runtime.jsx)("button",{className:"footer-signature-clear","aria-label":t("action.clearInitial"),onClick:()=>setInitials(""),disabled:isDisabled||0===initials.length,children:t("action.clear")})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:classnames_default()({"text-signature-text":!0}),style:{fontFamily:selectedFontFamily,fontSize:72,color:fontColor.toHexString()},children:[(0,jsx_runtime.jsx)("div",{className:"text-container",ref:hiddenFullSignatureRef,children:fullSignature}),(0,jsx_runtime.jsx)("div",{className:"text-container",ref:hiddenInitialsRef,children:initials})]}),(0,jsx_runtime.jsx)("canvas",{ref:fullSignatureHiddenCanvasRef}),(0,jsx_runtime.jsx)("canvas",{ref:initialsHiddenCanvasRef}),(0,jsx_runtime.jsx)("div",{className:"colorpalette-clear-container",children:(0,jsx_runtime.jsxs)("div",{className:"signature-style-options",children:[""!==fullSignature||(!isInitialsModeEnabled||""!==initials)&&isInitialsModeEnabled?(0,jsx_runtime.jsx)(Dropdown.A,{id:"text-signature-font-dropdown",items:fonts.map((font=>({font,value:`${fullSignature} ${isInitialsModeEnabled?initials:""}`}))),getCustomItemStyle:item=>({fontFamily:item.font}),getKey:item=>item.font,translationPrefix:"option.signatureModal.textSignature",showLabelInList:!0,getDisplayValue:item=>item.value||item.font,onClickItem:handleDropdownSelectionChange,currentSelectionKey:selectedFontFamily||fonts[0],maxHeight:(0,device.Fr)()?80:null,dataElement:"text-signature-font-dropdown"}):(0,jsx_runtime.jsx)(Dropdown.A,{id:"text-signature-font-dropdown",disabled:!0,placeholder:t("option.signatureModal.fontStyle")}),(0,jsx_runtime.jsx)("div",{className:"placeholder-dropdown"}),(0,jsx_runtime.jsx)("div",{className:"divider"}),(0,jsx_runtime.jsx)(ColorPalette.A,{color:fontColor,property:"fontColor",onStyleChange:(property,value)=>((property,value)=>{setFontColor(value),forceUpdate()})(0,value),overridePalette2:[commonColors.zb.black,commonColors.R0[12],commonColors.R0[7]]})]})})]})};TextSignature_TextSignature.propTypes=TextSignature_propTypes;const SignatureModal_TextSignature_TextSignature=TextSignature_TextSignature;TextSignature_TextSignature.__docgenInfo={description:"",methods:[],displayName:"TextSignature",props:{isInitialsModeEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isModalOpen:{description:"",type:{name:"bool"},required:!1},isTabPanelSelected:{description:"",type:{name:"bool"},required:!1},disableCreateButton:{description:"",type:{name:"func"},required:!1},enableCreateButton:{description:"",type:{name:"func"},required:!1}}};const SignatureModal_TextSignature=SignatureModal_TextSignature_TextSignature;var i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js");__webpack_require__("./src/components/SignatureModal/ImageSignature/ImageSignature.scss");const ImageSignature_propTypes={isModalOpen:prop_types_default().bool,isTabPanelSelected:prop_types_default().bool,disableCreateButton:prop_types_default().func,enableCreateButton:prop_types_default().func,isInitialsModeEnabled:prop_types_default().bool},signatureType_FULL_SIGNATURE="fullSignature",signatureType_INITIALS="initials",acceptedFileTypes=["png","jpg","jpeg"];let acceptedFileSize=null;function readImageFile(file){return new Promise(((resolve,reject)=>{const fileReader=new FileReader;fileReader.onload=event=>{const imageSource=event.target.result;acceptedFileTypes.some((type=>-1!==imageSource.indexOf(`image/${type}`)))?resolve({imageSource,fileSize:file.size}):reject(i18next.A.t("message.imageSignatureAcceptedFileTypes",{acceptedFileTypes:acceptedFileTypes.join(", ")}))},fileReader.readAsDataURL(file)}))}const ImageSignature_ImageSignature=({isModalOpen,isTabPanelSelected,disableCreateButton,enableCreateButton,isInitialsModeEnabled=!1})=>{const[fullSignatureImage,setFullSignatureImage]=(0,react.useState)(null),[fullSignatureFileSize,setFullSignatureFileSize]=(0,react.useState)(null),[initialsImage,setInitialsImage]=(0,react.useState)(null),[initialsFileSize,setInitialsFileSize]=(0,react.useState)(null),[draggingSignatureType,setDraggingSignatureType]=(0,react.useState)(""),[fullSignatureErrorMessage,setFullSignatureErrorMessage]=(0,react.useState)(null),[initialsErrorMessage,setInitialsErrorMessage]=(0,react.useState)(null),fullSignatureInputRef=(0,react.useRef)(),initialsInputRef=(0,react.useRef)(),[t]=(0,useTranslation.B)();(0,react.useEffect)((()=>{const signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature");acceptedFileSize=signatureToolArray[0].ACCEPTED_FILE_SIZE,isModalOpen?isModalOpen&&isTabPanelSelected&&(signatureToolArray.forEach((signatureTool=>signatureTool.setSignature(fullSignatureImage,fullSignatureFileSize))),signatureToolArray.forEach((signatureTool=>signatureTool.setInitials(initialsImage,initialsFileSize))),!fullSignatureImage||isInitialsModeEnabled&&!initialsImage?disableCreateButton():enableCreateButton()):(setFullSignatureImage(null),setInitialsImage(null),setInitialsFileSize(null),setInitialsFileSize(null))}),[fullSignatureImage,initialsImage,isTabPanelSelected,isModalOpen,initialsFileSize,fullSignatureFileSize,isInitialsModeEnabled]);const handleFullSignatureFileChange=event=>{readFullSignatureFile(event.target.files[0])},handleInitialsFileChange=event=>{readInitialsFile(event.target.files[0])},handleDragEnter=(0,react.useCallback)(((event,signatureType)=>{event.preventDefault(),setDraggingSignatureType(signatureType)}),[]),handleDragOver=(0,react.useCallback)((event=>{event.preventDefault()}),[]),handleDragLeave=(0,react.useCallback)((event=>{event.preventDefault(),event.target.parentNode.contains(event.relatedTarget)||setDraggingSignatureType(null)}),[]),handleDragExit=(0,react.useCallback)((event=>{event.preventDefault(),setDraggingSignatureType(null)}),[]),handleFullSignatureFileDrop=event=>{event.preventDefault(),setDraggingSignatureType(null);const{files}=event.dataTransfer;files.length&&readFullSignatureFile(files[0])},readFullSignatureFile=async file=>{try{const result=await readImageFile(file),{imageSource,fileSize}=result;setFullSignatureErrorMessage(""),setFullSignatureImage(imageSource),setFullSignatureFileSize(fileSize)}catch(errorMessage){setFullSignatureErrorMessage(errorMessage)}},handleInitialsFileDrop=event=>{event.preventDefault(),setDraggingSignatureType(null);const{files}=event.dataTransfer;files.length&&readInitialsFile(files[0])},readInitialsFile=async file=>{try{const result=await readImageFile(file),{imageSource,fileSize}=result;setInitialsErrorMessage(""),setInitialsImage(imageSource),setInitialsFileSize(fileSize)}catch(errorMessage){setInitialsErrorMessage(errorMessage)}},handleFullSignatureDragEnter=(0,react.useCallback)((event=>{handleDragEnter(event,signatureType_FULL_SIGNATURE)}),[handleDragEnter]),handleFullSignatureDragLeave=(0,react.useCallback)((event=>{handleDragLeave(event,signatureType_FULL_SIGNATURE)}),[handleDragLeave]),handleInitialsDragEnter=(0,react.useCallback)((event=>{handleDragEnter(event,signatureType_INITIALS)}),[handleDragEnter]),handleInitialsDragLeave=(0,react.useCallback)((event=>{handleDragLeave(event,signatureType_INITIALS)}),[handleDragLeave]),renderPrompt=()=>(0,device.Fr)()?(0,jsx_runtime.jsx)("div",{className:"image-signature-separator",children:t("option.signatureModal.selectImage")}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"image-signature-dnd",children:t("option.signatureModal.dragAndDrop")}),(0,jsx_runtime.jsx)("div",{className:"image-signature-separator",children:t("option.signatureModal.or")})]}),hasLimit="number"==typeof acceptedFileSize&&acceptedFileSize>0,fullSignatureFileSizeCheck=!hasLimit||fullSignatureFileSize<acceptedFileSize,initialsFileSizeCheck=!hasLimit||initialsFileSize<acceptedFileSize,fullSignatureContainerClass=classnames_default()("image-signature-upload-container",{mobile:(0,device.Fr)(),dragging:draggingSignatureType===signatureType_FULL_SIGNATURE}),initialsContainerClass=classnames_default()("image-signature-upload-container",{mobile:(0,device.Fr)(),dragging:draggingSignatureType===signatureType_INITIALS}),initialsInputStyle=isInitialsModeEnabled?{}:{display:"none"};return(0,jsx_runtime.jsx)("div",{className:"image-signature",children:(0,jsx_runtime.jsxs)("div",{className:"signature-and-initials-container",children:[(0,jsx_runtime.jsx)("div",{className:"signature-input image full-signature",children:fullSignatureImage&&fullSignatureFileSizeCheck?(0,jsx_runtime.jsx)("img",{src:fullSignatureImage,alt:t("option.signatureModal.imageSignature"),style:{maxWidth:"100%",maxHeight:"100%"}}):(0,jsx_runtime.jsxs)("div",{className:fullSignatureContainerClass,onDragEnter:handleFullSignatureDragEnter,onDragLeave:handleFullSignatureDragLeave,onDragOver:handleDragOver,onDrop:handleFullSignatureFileDrop,onDragExit:handleDragExit,children:[renderPrompt(),(0,jsx_runtime.jsxs)("div",{className:"image-signature-upload",children:[(0,jsx_runtime.jsx)("input",{ref:fullSignatureInputRef,id:"upload",type:"file",accept:acceptedFileTypes.map((type=>`.${type}`)).join(","),onChange:handleFullSignatureFileChange,disabled:!(isModalOpen&&isTabPanelSelected)}),(0,jsx_runtime.jsx)("button",{onClick:()=>fullSignatureInputRef.current.click(),className:"pick-image-button",children:t("option.signatureModal.pickImage")})]}),fullSignatureErrorMessage&&(0,jsx_runtime.jsx)("div",{className:"image-signature-error",children:fullSignatureErrorMessage})]})}),(0,jsx_runtime.jsx)("div",{className:"signature-input image initials",style:initialsInputStyle,children:initialsImage&&initialsFileSizeCheck?(0,jsx_runtime.jsx)("img",{src:initialsImage,alt:t("option.signatureModal.imageInitial"),style:{maxWidth:"100%",maxHeight:"100%"}}):(0,jsx_runtime.jsxs)("div",{className:initialsContainerClass,onDragEnter:handleInitialsDragEnter,onDragLeave:handleInitialsDragLeave,onDragOver:handleDragOver,onDrop:handleInitialsFileDrop,onDragExit:handleDragExit,children:[renderPrompt(),(0,jsx_runtime.jsxs)("div",{className:"image-signature-upload",children:[(0,jsx_runtime.jsx)("input",{ref:initialsInputRef,id:"upload",type:"file",accept:acceptedFileTypes.map((type=>`.${type}`)).join(","),onChange:handleInitialsFileChange,disabled:!(isModalOpen&&isTabPanelSelected)}),(0,jsx_runtime.jsx)("button",{onClick:()=>initialsInputRef.current.click(),className:"pick-image-button",children:t("option.signatureModal.pickInitialsFile")})]}),initialsErrorMessage&&(0,jsx_runtime.jsx)("div",{className:"image-signature-error",children:initialsErrorMessage})]})})]})})};ImageSignature_ImageSignature.propTypes=ImageSignature_propTypes;const SignatureModal_ImageSignature_ImageSignature=ImageSignature_ImageSignature;ImageSignature_ImageSignature.__docgenInfo={description:"",methods:[],displayName:"ImageSignature",props:{isInitialsModeEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isModalOpen:{description:"",type:{name:"bool"},required:!1},isTabPanelSelected:{description:"",type:{name:"bool"},required:!1},disableCreateButton:{description:"",type:{name:"func"},required:!1},enableCreateButton:{description:"",type:{name:"func"},required:!1}}};const SignatureModal_ImageSignature=SignatureModal_ImageSignature_ImageSignature;var actions=__webpack_require__("./src/redux/actions/index.js"),defaultTool=(__webpack_require__("./src/components/SignatureModal/SavedSignatures/SavedSignatures.scss"),__webpack_require__("./src/constants/defaultTool.js")),Icon=__webpack_require__("./src/components/Icon/index.js");const SavedSignatures_SavedSignatures=({selectedIndex,setSelectedIndex})=>{const dispatch=(0,es.wA)(),{t}=(0,useTranslation.B)(),[displayedSignatures,selectedDisplayedSignatureIndex,isSignatureDeleteButtonDisabled,savedInitials,selectedDisplayedInitialsIndex,signatureMode,initialsOffset]=(0,es.d4)((state=>[selectors.A.getDisplayedSignatures(state),selectors.A.getSelectedDisplayedSignatureIndex(state),selectors.A.isElementDisabled(state,"defaultSignatureDeleteButton"),selectors.A.getSavedInitials(state),selectors.A.getSelectedDisplayedInitialsIndex(state),selectors.A.getSignatureMode(state),selectors.A.getInitialsOffset(state)])),signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),displayedIntials=new Array(initialsOffset).concat(savedInitials);return(0,jsx_runtime.jsx)("div",{className:classnames_default()("SavedSignatures",{empty:!displayedSignatures||displayedSignatures.length<1}),children:displayedSignatures.length?displayedSignatures.map(((signature,index)=>(0,jsx_runtime.jsxs)("div",{className:classnames_default()("signature-row",{active:selectedIndex===index,"no-initials":!displayedIntials?.[index]}),onClick:()=>setSelectedIndex(index),children:[(0,jsx_runtime.jsxs)("div",{className:"inputContainer",children:[(0,jsx_runtime.jsx)("input",{type:"radio",onChange:()=>setSelectedIndex(index),checked:index===selectedIndex}),(0,jsx_runtime.jsxs)("div",{className:"contentContainer",children:[(0,jsx_runtime.jsx)("div",{className:"imgContainer",children:(0,jsx_runtime.jsx)("img",{alt:t("option.toolsOverlay.signatureAltText"),src:displayedSignatures[index].imgSrc})}),displayedIntials?.[index]&&(0,jsx_runtime.jsx)("div",{className:"imgContainer",children:(0,jsx_runtime.jsx)("img",{alt:t("option.toolsOverlay.signatureAltText"),src:displayedIntials[index].imgSrc})}),!isSignatureDeleteButtonDisabled&&(0,jsx_runtime.jsx)("button",{className:"icon-button","data-element":"defaultSignatureDeleteButton",onClick:()=>(async index=>{const isFullSignature=signatureMode===signatureModes.A.FULL_SIGNATURE,initialsIndex=index-initialsOffset,skipInitial=initialsIndex<0;if(skipInitial)dispatch(actions.A.setInitialsOffset(initialsOffset-1));else if(signatureToolArray[0].deleteSavedInitials(initialsIndex),selectedDisplayedInitialsIndex===initialsIndex&&!skipInitial){dispatch(actions.A.setSelectedDisplayedInitialsIndex(0));for(const signatureTool of signatureToolArray)signatureTool.hidePreview();core.A.setToolMode(defaultTool.A)}if(signatureToolArray[0].deleteSavedSignature(index),selectedDisplayedSignatureIndex===index){dispatch(actions.A.setSelectedDisplayedSignatureIndex(0));for(const signatureTool of signatureToolArray)signatureTool.hidePreview();core.A.setToolMode(defaultTool.A)}else(isFullSignature?index<selectedDisplayedSignatureIndex:initialsIndex<selectedDisplayedInitialsIndex)&&dispatch(actions.A.setSelectedDisplayedSignatureIndex(selectedDisplayedSignatureIndex-1))})(index),children:(0,jsx_runtime.jsx)(Icon.A,{glyph:"icon-delete-line"})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"labelContainer",children:[(0,jsx_runtime.jsx)("div",{className:"signatureLabel",children:t("option.type.signature")}),displayedIntials?.[index]&&(0,jsx_runtime.jsx)("div",{className:"intialsLabel",children:t("option.type.initials")})]})]},index))):(0,jsx_runtime.jsx)("div",{className:"emptyListContainer",children:t("option.signatureModal.noSignatures")})})},SignatureModal_SavedSignatures_SavedSignatures=SavedSignatures_SavedSignatures;SavedSignatures_SavedSignatures.__docgenInfo={description:"",methods:[],displayName:"SavedSignatures"};const SignatureModal_SavedSignatures=SignatureModal_SavedSignatures_SavedSignatures;var dataElement=__webpack_require__("./src/constants/dataElement.js"),useDidUpdate=__webpack_require__("./src/hooks/useDidUpdate.js"),ModalWrapper=__webpack_require__("./src/components/ModalWrapper/index.js"),useFocusOnClose=__webpack_require__("./src/hooks/useFocusOnClose/index.js");__webpack_require__("./src/components/SignatureModal/SignatureModal.scss");const SignatureModal_SignatureModal=()=>{const[isDisabled,isOpen,activeToolName,signatureMode,activeDocumentViewerKey,isInitialsModeEnabled,isSavedTabDisabled,selectedTab,displayedSignatures,savedInitials]=(0,es.d4)((state=>[selectors.A.isElementDisabled(state,dataElement.A.SIGNATURE_MODAL),selectors.A.isElementOpen(state,dataElement.A.SIGNATURE_MODAL),selectors.A.getActiveToolName(state),selectors.A.getSignatureMode(state),selectors.A.getActiveDocumentViewerKey(state),selectors.A.getIsInitialsModeEnabled(state),selectors.A.isElementDisabled(state,dataElement.A.SAVED_SIGNATURES_TAB),selectors.A.getSelectedTab(state,dataElement.A.SIGNATURE_MODAL),selectors.A.getDisplayedSignatures(state),selectors.A.getSavedInitials(state)])),signatureToolArray=core.A.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),[createButtonDisabled,setCreateButtonDisabled]=(0,react.useState)(!0),[selectedIndex,setSelectedIndex]=(0,react.useState)(0),dispatch=(0,es.wA)(),[t]=(0,useTranslation.B)();(0,useDidUpdate.A)((()=>{"AnnotationCreateSignature"!==activeToolName&&dispatch(actions.A.closeElements([dataElement.A.SIGNATURE_MODAL,dataElement.A.SIGNATURE_OVERLAY]))}),[dispatch,activeToolName]),(0,react.useEffect)((()=>{isOpen&&dispatch(actions.A.closeElements([dataElement.A.PRINT_MODAL,dataElement.A.LOADING_MODAL,dataElement.A.PROGRESS_MODAL,dataElement.A.ERROR_MODAL]))}),[dispatch,isOpen]);const closeModal=()=>{for(const signatureTool of signatureToolArray)signatureTool.clearLocation(),signatureTool.setSignature(null),signatureTool.setInitials(null);dispatch(actions.A.closeElement(dataElement.A.SIGNATURE_MODAL))},createFullSignature=async()=>{signatureToolArray[0].saveSignatures(signatureToolArray[0].getFullSignatureAnnotation());for(let i=1;i<signatureToolArray.length;i++)await signatureToolArray[i].setSignature(signatureToolArray[0].getFullSignatureAnnotation());const signatureTool=signatureToolArray[activeDocumentViewerKey-1];if(!await signatureTool.isEmptySignature()&&(core.A.setToolMode("AnnotationCreateSignature"),signatureMode===signatureModes.A.FULL_SIGNATURE)){if(signatureTool.hasLocation())await signatureTool.addSignature();else for(const signatureTool of signatureToolArray)await signatureTool.showPreview();dispatch(actions.A.closeElement(dataElement.A.SIGNATURE_MODAL))}},createInitials=async()=>{signatureToolArray[0].saveInitials(signatureToolArray[0].getInitialsAnnotation());for(let i=1;i<signatureToolArray.length;i++)await signatureToolArray[i].saveInitials(signatureToolArray[0].getInitialsAnnotation());const signatureTool=signatureToolArray[activeDocumentViewerKey-1];if(!await signatureTool.isEmptyInitialsSignature()){if(core.A.setToolMode("AnnotationCreateSignature"),signatureMode===signatureModes.A.INITIALS)if(signatureTool.hasLocation())await signatureTool.addInitials();else for(const signatureTool of signatureToolArray)await signatureTool.showInitialsPreview();dispatch(actions.A.closeElement(dataElement.A.SIGNATURE_MODAL)),dispatch(actions.A.setSignatureMode(signatureModes.A.FULL_SIGNATURE))}},disableCreateButton=(0,react.useCallback)((()=>{setCreateButtonDisabled(!0)}),[createButtonDisabled]),enableCreateButton=(0,react.useCallback)((()=>{setCreateButtonDisabled(!1)}),[createButtonDisabled]),modalClass=classnames_default()({Modal:!0,SignatureModal:!0,open:isOpen,closed:!isOpen}),isSavedTabSelected="savedSignaturePanelButton"===selectedTab;return isDisabled?null:(0,jsx_runtime.jsx)("div",{className:modalClass,"data-element":dataElement.A.SIGNATURE_MODAL,children:(0,jsx_runtime.jsx)(ModalWrapper.A,{title:t("option.signatureModal.modalName"),closeHandler:closeModal,onCloseClick:closeModal,isOpen,swipeToClose:!0,children:(0,jsx_runtime.jsxs)("div",{className:classnames_default()("container",{"include-initials":isInitialsModeEnabled}),onMouseDown:e=>e.stopPropagation(),children:[(0,jsx_runtime.jsx)("div",{className:"swipe-indicator"}),(0,jsx_runtime.jsxs)(Tabs.tU,{id:"signatureModal",children:[(0,jsx_runtime.jsx)("div",{className:"tabs-header-container",children:(0,jsx_runtime.jsxs)("div",{className:"tab-list",children:[!isSavedTabDisabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"savedSignaturePanelButton",children:(0,jsx_runtime.jsx)("button",{className:"tab-options-button",children:t("option.type.saved")})}),(0,jsx_runtime.jsx)("div",{className:"tab-options-divider"})]}),(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"inkSignaturePanelButton",children:(0,jsx_runtime.jsx)("button",{className:"tab-options-button",children:t("action.draw")})}),(0,jsx_runtime.jsx)("div",{className:"tab-options-divider"}),(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"textSignaturePanelButton",children:(0,jsx_runtime.jsx)("button",{className:"tab-options-button",children:t("action.type")})}),(0,jsx_runtime.jsx)("div",{className:"tab-options-divider"}),(0,jsx_runtime.jsx)(Tabs.oz,{dataElement:"imageSignaturePanelButton",children:(0,jsx_runtime.jsx)("button",{className:"tab-options-button",children:t("action.upload")})})]})}),!isSavedTabDisabled&&(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"savedSignaturePanel",children:(0,jsx_runtime.jsx)(SignatureModal_SavedSignatures,{selectedIndex,setSelectedIndex})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"inkSignaturePanel",children:(0,jsx_runtime.jsx)(SignatureModal_InkSignature,{isModalOpen:isOpen,enableCreateButton,disableCreateButton,isInitialsModeEnabled})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"textSignaturePanel",children:(0,jsx_runtime.jsx)(SignatureModal_TextSignature,{isModalOpen:isOpen,enableCreateButton,disableCreateButton,isInitialsModeEnabled})}),(0,jsx_runtime.jsx)(Tabs.Kp,{dataElement:"imageSignaturePanel",children:(0,jsx_runtime.jsx)(SignatureModal_ImageSignature,{isModalOpen:isOpen,enableCreateButton,disableCreateButton,isInitialsModeEnabled})}),(0,jsx_runtime.jsx)("div",{className:"footer",children:(0,jsx_runtime.jsx)("button",{className:"signature-create",onClick:(0,useFocusOnClose.A)(isSavedTabSelected?()=>(async index=>{const isFullSignature=signatureMode===signatureModes.A.FULL_SIGNATURE;dispatch(actions.A[isFullSignature?"setSelectedDisplayedSignatureIndex":"setSelectedDisplayedInitialsIndex"](index));const{annotation}=isFullSignature?displayedSignatures[index]:savedInitials[index];core.A.setToolMode("AnnotationCreateSignature");for(const signatureTool of signatureToolArray)await signatureTool[isFullSignature?"setSignature":"setInitials"](annotation),signatureTool.hasLocation()?await signatureTool[isFullSignature?"addSignature":"addInitials"]():await signatureTool[isFullSignature?"showPreview":"showInitialsPreview"]();dispatch(actions.A.closeElement(dataElement.A.SIGNATURE_MODAL))})(selectedIndex):async()=>{createFullSignature(),isInitialsModeEnabled&&createInitials()}),disabled:isSavedTabSelected?!isSavedTabSelected||!displayedSignatures.length||!isOpen:!isOpen||createButtonDisabled,title:isInitialsModeEnabled?t("message.signatureRequired"):"",children:t(isSavedTabSelected?"action.apply":"action.create")})})]})]})})})},components_SignatureModal_SignatureModal=SignatureModal_SignatureModal;SignatureModal_SignatureModal.__docgenInfo={description:"",methods:[],displayName:"SignatureModal"}},"./src/components/SignatureModal/SignatureModal.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/SignatureModal.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/SignatureModal/TextSignature/TextSignature.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/SignatureModal/TextSignature/TextSignature.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}}}]);