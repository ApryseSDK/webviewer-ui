(function(){'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var h=0;return function(){return h<b.length?{done:!1,value:b[h++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,l){b!=Array.prototype&&b!=Object.prototype&&(b[h]=l.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.makeIterator=function(b){var h="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return h?h.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var h,l=[];!(h=b.next()).done;)l.push(h.value);return l};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.polyfill=function(b,h,l,r){if(h){l=$jscomp.global;b=b.split(".");for(r=0;r<b.length-1;r++){var d=b[r];d in l||(l[d]={});l=l[d]}b=b[b.length-1];r=l[b];h=h(r);h!=r&&null!=h&&$jscomp.defineProperty(l,b,{configurable:!0,writable:!0,value:h})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function h(){this.batch_=null}function l(a){return a instanceof d?a:new d(function(d,e){d(a)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;h.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};h.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var r=$jscomp.global.setTimeout;h.prototype.asyncExecuteFunction=function(a){r(a,
0)};h.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var d=0;d<a.length;++d){var e=a[d];a[d]=null;try{e()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};h.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{a(d.resolve,d.reject)}catch(e){d.reject(e)}};d.prototype.createResolveAndReject_=
function(){function a(a){return function(k){e||(e=!0,a.call(d,k))}}var d=this,e=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var m=null!=a;break a;case "function":m=!0;break a;default:m=!1}m?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};d.prototype.resolveToNonPromiseObj_=function(a){var d=
void 0;try{d=a.then}catch(e){this.reject_(e);return}"function"==typeof d?this.settleSameAsThenable_(d,a):this.fulfill_(a)};d.prototype.reject_=function(a){this.settle_(2,a)};d.prototype.fulfill_=function(a){this.settle_(1,a)};d.prototype.settle_=function(a,d){if(0!=this.state_)throw Error("Cannot settle("+a+", "+d+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=d;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)t.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var t=new h;d.prototype.settleSameAsPromise_=function(a){var d=this.createResolveAndReject_();a.callWhenSettled_(d.resolve,d.reject)};d.prototype.settleSameAsThenable_=function(a,d){var e=this.createResolveAndReject_();try{a.call(d,e.resolve,e.reject)}catch(k){e.reject(k)}};d.prototype.then=function(a,m){function e(a,e){return"function"==typeof a?function(e){try{k(a(e))}catch(w){n(w)}}:
e}var k,n,x=new d(function(a,e){k=a;n=e});this.callWhenSettled_(e(a,k),e(m,n));return x};d.prototype.catch=function(a){return this.then(void 0,a)};d.prototype.callWhenSettled_=function(a,d){function e(){switch(k.state_){case 1:a(k.result_);break;case 2:d(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?t.asyncExecute(e):this.onSettledCallbacks_.push(e)};d.resolve=l;d.reject=function(a){return new d(function(d,e){e(a)})};d.race=function(a){return new d(function(d,
e){for(var k=$jscomp.makeIterator(a),n=k.next();!n.done;n=k.next())l(n.value).callWhenSettled_(d,e)})};d.all=function(a){var m=$jscomp.makeIterator(a),e=m.next();return e.done?l([]):new d(function(a,d){function k(e){return function(k){q[e]=k;n--;0==n&&a(q)}}var q=[],n=0;do q.push(void 0),n++,l(e.value).callWhenSettled_(k(q.length-1),d),e=m.next();while(!e.done)})};return d},"es6","es3");
$jscomp.findInternal=function(b,h,l){b instanceof String&&(b=String(b));for(var r=b.length,d=0;d<r;d++){var t=b[d];if(h.call(l,t,d,b))return{i:d,v:t}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,l){return $jscomp.findInternal(this,b,l).v}},"es6","es3");
$jscomp.iteratorFromArray=function(b,h){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var l=0,r={next:function(){if(l<b.length){var d=l++;return{value:h(d,b[d]),done:!1}}r.next=function(){return{done:!0,value:void 0}};return r.next()}};r[Symbol.iterator]=function(){return r};return r};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
(function(b){function h(r){if(l[r])return l[r].exports;var d=l[r]={i:r,l:!1,exports:{}};b[r].call(d.exports,d,d.exports,h);d.l=!0;return d.exports}var l={};h.m=b;h.c=l;h.d=function(b,d,t){h.o(b,d)||Object.defineProperty(b,d,{enumerable:!0,get:t})};h.r=function(b){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(b,"__esModule",{value:!0})};h.t=function(b,
d){d&1&&(b=h(b));if(d&8||d&4&&"object"===typeof b&&b&&b.__esModule)return b;var t=Object.create(null);h.r(t);Object.defineProperty(t,"default",{enumerable:!0,value:b});if(d&2&&"string"!=typeof b)for(var a in b)h.d(t,a,function(a){return b[a]}.bind(null,a));return t};h.n=function(b){var d=b&&b.__esModule?function(){return b["default"]}:function(){return b};h.d(d,"a",d);return d};h.o=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};h.p="/core/pdf/";return h(h.s=13)})([function(b,h,l){l.d(h,
"b",function(){return a});l.d(h,"c",function(){return t});l.d(h,"a",function(){return m});b="undefined"===typeof window?self:window;var r=b._trnDebugMode||b._trnLogMode,d=b._logFiltersEnabled?b._logFiltersEnabled:{},t=function(a,k){k||(k=a,a="default");r&&d[a]&&console.warn(a+": "+k)},a=function(a,k){k||(k=a,a="default");r&&d[a]&&console.log(a+": "+k)},m=function(a){r&&console.error(a);throw Error(a);}},function(b,h,l){l.d(h,"a",function(){return w});l.d(h,"b",function(){return f});var r=l(0),d=l(11),
t="undefined"===typeof window?self:window,a=t.importScripts,m=function(c){if("string"===typeof c){for(var f=new Uint8Array(c.length),a=c.length,v=0;v<a;v++)f[v]=c.charCodeAt(v);return f}return c},e=function(c){if("string"!==typeof c){for(var f="",a=0,v=c.length,e;a<v;)e=c.subarray(a,a+1024),a+=1024,f+=String.fromCharCode.apply(null,e);return f}return c},k=!1,n=function(c,f){k||(a(t.basePath+"decode.min.js"),k=!0);c=self.BrotliDecode(m(c));return f?c:e(c)},x=!1,q=function(c,f){x||(a(t.basePath+"rawinflate.js",
t.basePath+"pako_inflate.min.js"),x=!0);var p=10;if("string"===typeof c){if(c.charCodeAt(3)&8){for(;0!==c.charCodeAt(p);++p);++p}}else if(c[3]&8){for(;0!==c[p];++p);++p}if(f)return c=m(c),c=c.subarray(p,c.length-8),t.pako.inflate(c,{windowBits:-15});c=e(c);c=c.substring(p,c.length-8);return d.a.inflate(c)},z=function(c,f){return f?c:e(c)},g=function(c){var f=!c.shouldOutputArray,a=new XMLHttpRequest;a.open("GET",c.url,c.isAsync);var v=f&&a.overrideMimeType;a.responseType=v?"text":"arraybuffer";v&&
a.overrideMimeType("text/plain; charset=x-user-defined");a.send();var k=function(){var p=Date.now();var k=v?a.responseText:new Uint8Array(a.response);Object(r.b)("worker","Result length is "+k.length);k.length<c.compressedMaximum?(k=c.decompressFunction(k,c.shouldOutputArray),Object(r.b)("worker","Decompressed length is "+k.length),console.warn("There may be some degradation of performance. Your server has not been configured to serve .gz. and .br. files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this.")):
f&&(k=e(k));Object(r.b)("worker",c.url+" Decompression took "+(Date.now()-p));return k};if(c.isAsync)var d=new Promise(function(f,p){a.onload=function(){200===this.status?f(k()):p("Download Failed "+c.url)};a.onerror=function(){p("Network error occurred "+c.url)}});else{if(200===a.status)return k();throw Error("Failed to load "+c.url);}return d},w=function(c){var f=c.lastIndexOf("/");-1===f&&(f=0);var a=c.slice(f).replace(".",".br.");return c.slice(0,f)+a},y=function(c,f){var p=c.lastIndexOf("/");
-1===p&&(p=0);var a=c.slice(p).replace(".",".gz.");f.url=c.slice(0,p)+a;f.decompressFunction=q;return g(f)},C=function(c,f){f.url=w(c);f.decompressFunction=n;return g(f)},u=function(c,f){f.url=c;f.decompressFunction=z;return g(f)},N=function(c,f,a,v){return c.catch(function(c){console.warn(c);return v(f,a)})},f=function(c,f,a,v){var p={};p.compressedMaximum=f;p.isAsync=a;p.shouldOutputArray=v;a:if(f=[C,y,u],p.isAsync){var e=f[0](c,p);for(a=1;a<f.length;++a)e=N(e,c,p,f[a])}else{for(a=0;a<f.length;++a)try{e=
f[a](c,p);break a}catch(L){console.warn(L.message)}throw Error("");}return e}},function(b,h,l){l.d(h,"c",function(){return a});l.d(h,"b",function(){return m});l.d(h,"a",function(){return e});var r="undefined"===typeof window?self:window;b=function(){var a=navigator.userAgent.toLowerCase();return(a=/(msie) ([\w.]+)/.exec(a)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(a))?parseInt(a[2],10):a}();(function(){var a=r.navigator.userAgent.match(/Chrome\/(.*?) /);return a?parseInt(a[1],10):a})();(function(){var a=
r.navigator.userAgent.match(/OPR/),e=r.navigator.userAgent.match(/Maxthon/),d=r.navigator.userAgent.match(/Edge/);return r.navigator.userAgent.match(/Chrome\/(.*?) /)&&!a&&!e&&!d})();navigator.userAgent.match(/Edge/i);var d=/^((?!chrome|android).)*safari/i.test(r.navigator.userAgent);r.navigator.userAgent.match(/(iPad|iPhone|iPod)/i);r.navigator.userAgent.match(/Firefox/);!b&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||
navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Touch/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Silk/i));navigator.userAgent.match(/(iPad|iPhone|iPod)/i);r.navigator.userAgent.indexOf("Android");var t=/Mac OS X 10_13_6.*\(KHTML, like Gecko\)$/.test(r.navigator.userAgent),a=function(){return d||t},m=!(!self.WebAssembly||!self.WebAssembly.validate),e=-1<r.navigator.userAgent.indexOf("Edge/16")||-1<r.navigator.userAgent.indexOf("MSAppHost")},function(b,h,l){b.exports=
function(){return function m(d,b,a){function e(n,q){if(!b[n]){if(!d[n]){if(k)return k(n,!0);q=Error("Cannot find module '"+n+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[n]={exports:{}};d[n][0].call(q.exports,function(a){return e(d[n][1][a]||a)},q,q.exports,m,d,b,a)}return b[n].exports}for(var k=!1,n=0;n<a.length;n++)e(a[n]);return e}({1:[function(d,b,a){var m={}.hasOwnProperty,e=function(a,e){function d(){this.constructor=a}for(var k in e)m.call(e,k)&&(a[k]=e[k]);d.prototype=e.prototype;a.prototype=
new d;a.__super__=e.prototype;return a};a=d("./PriorityQueue/AbstractPriorityQueue");d=d("./PriorityQueue/ArrayStrategy");a=function(a){function d(a){a||(a={});a.strategy||(a.strategy=BinaryHeapStrategy);a.comparator||(a.comparator=function(a,e){return(a||0)-(e||0)});d.__super__.constructor.call(this,a)}e(d,a);return d}(a);a.ArrayStrategy=d;b.exports=a},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3}],2:[function(d,b,a){b.exports=function(){function a(a){if(null==(null!=
a?a.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=a?a.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new a.strategy(a);this.length=0}a.prototype.queue=function(a){this.length++;this.priv.queue(a)};a.prototype.dequeue=function(a){if(!this.length)throw"Empty queue";this.length--;return this.priv.dequeue()};a.prototype.peek=function(a){if(!this.length)throw"Empty queue";return this.priv.peek()};a.prototype.remove=function(a){this.priv.remove(a)&&
--this.length};a.prototype.find=function(a){return 0<=this.priv.find(a)};a.prototype.removeAllMatching=function(a,d){a=this.priv.removeAllMatching(a,d);this.length-=a};return a}()},{}],3:[function(d,b,a){var m=function(a,d,n){var e;var k=0;for(e=a.length;k<e;){var b=k+e>>>1;0<=n(a[b],d)?k=b+1:e=b}return k};b.exports=function(){function a(a){var e;this.options=a;this.comparator=this.options.comparator;this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[];this.data.sort(this.comparator).reverse()}
a.prototype.queue=function(a){var e=m(this.data,a,this.comparator);this.data.splice(e,0,a)};a.prototype.dequeue=function(){return this.data.pop()};a.prototype.peek=function(){return this.data[this.data.length-1]};a.prototype.find=function(a){var e=m(this.data,a,this.comparator)-1;return 0<=e&&!this.comparator(this.data[e],a)?e:-1};a.prototype.remove=function(a){a=this.find(a);return 0<=a?(this.data.splice(a,1),!0):!1};a.prototype.removeAllMatching=function(a,e){for(var d=0,k=this.data.length-1;0<=
k;--k)if(a(this.data[k])){var n=this.data.splice(k,1)[0];e&&e(n);++d}return d};return a}()},{}]},{},[1])(1)}();!0},function(b,h,l){(function(b){function d(a,e){this._id=a;this._clearFn=e}var t="undefined"!==typeof b&&b||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;h.setTimeout=function(){return new d(a.call(setTimeout,t,arguments),clearTimeout)};h.setInterval=function(){return new d(a.call(setInterval,t,arguments),clearInterval)};h.clearTimeout=h.clearInterval=function(a){a&&
a.close()};d.prototype.unref=d.prototype.ref=function(){};d.prototype.close=function(){this._clearFn.call(t,this._id)};h.enroll=function(a,e){clearTimeout(a._idleTimeoutId);a._idleTimeout=e};h.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};h._unrefActive=h.active=function(a){clearTimeout(a._idleTimeoutId);var e=a._idleTimeout;0<=e&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},e))};l(17);h.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==
typeof b&&b.setImmediate||this&&this.setImmediate;h.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof b&&b.clearImmediate||this&&this.clearImmediate}).call(this,l(5))},function(b,h){h=function(){return this}();try{h=h||(new Function("return this"))()}catch(l){"object"===typeof window&&(h=window)}b.exports=h},function(b,h,l){l.d(h,"b",function(){return m});l.d(h,"a",function(){return k});var r=l(10),d=l(1),t=l(12),a=l(2);b="undefined"===typeof window?self:window;b.Uint8ClampedArray||
(b.Uint8ClampedArray=b.Uint8Array);"undefined"===typeof b.crypto&&(b.crypto={getRandomValues:function(a){for(var e=0;e<a.length;e++)a[e]=256*Math.random()}});var m=function(){return a.b&&!a.a&&!Object(a.c)()},e=function(a){var e=this;this.promise=a.then(function(a){e.response=a;e.status=200})};e.prototype={addEventListener:function(a,e){this.promise.then(e)}};var k=function(a,k,q){if(m()&&!q)Module.instantiateWasm=function(e,d){return Object(t.a)(Object(r.a)(),a+"Wasm.wasm",e,k["Wasm.wasm"]).then(function(a){d(a)})},
q=Object(d.b)(a+"Wasm.js.mem",k["Wasm.js.mem"],!1,!1);else{q=Object(d.b)((Module.asmjsPrefix?Module.asmjsPrefix:"")+a+".js.mem",k[".js.mem"],!1);var b=Object(d.b)((Module.memoryInitializerPrefixURL?Module.memoryInitializerPrefixURL:"")+a+".mem",k[".mem"],!0,!0);Module.memoryInitializerRequest=new e(b)}eval.call(self,q)}},function(b,h){function l(){throw Error("setTimeout has not been defined");}function r(){throw Error("clearTimeout has not been defined");}function d(a){if(n===setTimeout)return setTimeout(a,
0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(a,0);try{return n(a,0)}catch(C){try{return n.call(null,a,0)}catch(u){return n.call(this,a,0)}}}function t(a){if(x===clearTimeout)return clearTimeout(a);if((x===r||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(a);try{return x(a)}catch(C){try{return x.call(null,a)}catch(u){return x.call(this,a)}}}function a(){z&&g&&(z=!1,g.length?q=g.concat(q):w=-1,q.length&&m())}function m(){if(!z){var e=d(a);z=!0;for(var k=q.length;k;){g=q;for(q=
[];++w<k;)g&&g[w].run();w=-1;k=q.length}g=null;z=!1;t(e)}}function e(a,e){this.fun=a;this.array=e}function k(){}b=b.exports={};try{var n="function"===typeof setTimeout?setTimeout:l}catch(y){n=l}try{var x="function"===typeof clearTimeout?clearTimeout:r}catch(y){x=r}var q=[],z=!1,g,w=-1;b.nextTick=function(a){var k=Array(arguments.length-1);if(1<arguments.length)for(var g=1;g<arguments.length;g++)k[g-1]=arguments[g];q.push(new e(a,k));1!==q.length||z||d(m)};e.prototype.run=function(){this.fun.apply(null,
this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=k;b.addListener=k;b.once=k;b.off=k;b.removeListener=k;b.removeAllListeners=k;b.emit=k;b.prependListener=k;b.prependOnceListener=k;b.listeners=function(a){return[]};b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},function(b,h,l){(function(b){function d(a){"function"!==
typeof a&&(a=new Function(""+a));for(var f=Array(arguments.length-1),c=0;c<f.length;c++)f[c]=arguments[c+1];g[z]={callback:a,args:f};C(z);return z++}function t(a){delete g[a]}function a(e){if(w)setTimeout(a,0,e);else{var f=g[e];if(f){w=!0;try{var c=f.callback,p=f.args;switch(p.length){case 0:c();break;case 1:c(p[0]);break;case 2:c(p[0],p[1]);break;case 3:c(p[0],p[1],p[2]);break;default:c.apply(null,$jscomp.arrayFromIterable(p))}}finally{t(e),w=!1}}}}function m(){C=function(e){b.nextTick(function(){a(e)})}}
function e(){if(q.postMessage&&!q.importScripts){var a=!0,f=q.onmessage;q.onmessage=function(){a=!1};q.postMessage("","*");q.onmessage=f;return a}}function k(){var e="setImmediate$"+Math.random()+"$",f=function(c){c.source===q&&"string"===typeof c.data&&0===c.data.indexOf(e)&&a(+c.data.slice(e.length))};q.addEventListener?q.addEventListener("message",f,!1):q.attachEvent("onmessage",f);C=function(c){q.postMessage(e+c,"*")}}function n(){var e=y.documentElement;C=function(f){var c=y.createElement("script");
c.onreadystatechange=function(){a(f);c.onreadystatechange=null;e.removeChild(c);c=null};e.appendChild(c)}}function x(){C=function(e){setTimeout(a,0,e)}}var q="undefined"===typeof window?self:window,z=1,g={},w=!1,y=q.document,C,u=Object.getPrototypeOf&&Object.getPrototypeOf(q);u=u&&u.setTimeout?u:q;"[object process]"==={}.toString.call(q.process)?m():e()?k():y&&"onreadystatechange"in y.createElement("script")?n():x();u.setImmediate=d;u.clearImmediate=t;h.a={setImmediate:d,clearImmediate:t}}).call(this,
l(7))},function(b,h,l){var r=l(0);b=function(d,b){this.name=d;this.comObj=b;this.callbackIndex=1;this.postMessageTransfers=!0;this.callbacksCapabilities={};d=this.actionHandler={};this.actionHandlerAsync={};this.nextAsync=null;d.console_log=[function(a){Object(r.b)(a)}];d.console_error=[function(a){Object(r.a)(a)}];d.workerLoaded=[function(a){}];b.addEventListener("message",this.handleMessage.bind(this))};b.prototype={on:function(d,b,a){var m=this.actionHandler;m[d]&&Object(r.a)('There is already an actionName called "'+
d+'"');m[d]=[b,a]},replace:function(d,b,a){this.actionHandler[d]=[b,a]},onAsync:function(d,b,a){var m=this.actionHandlerAsync;m[d]&&Object(r.a)('There is already an actionName called "'+d+'"');m[d]=[b,a]},replaceAsync:function(d,b,a){var m=this.actionHandlerAsync,e=this.actionHandler;e[d]&&delete e[d];m[d]=[b,a]},onNextAsync:function(d){this.nextAsync=d},send:function(d,b){this.postMessage({action:d,data:b})},getNextId:function(){return this.callbackIndex++},sendWithPromise:function(d,b,a){var m=
this.getNextId();d={action:d,data:b,callbackId:m,priority:a};b=createPromiseCapability();this.callbacksCapabilities[m]=b;try{this.postMessage(d)}catch(e){b.reject(e)}return b.promise},sendWithPromiseReturnId:function(d,b,a){var m=this.getNextId();d={action:d,data:b,callbackId:m,priority:a};b=createPromiseCapability();this.callbacksCapabilities[m]=b;try{this.postMessage(d)}catch(e){b.reject(e)}return{promise:b.promise,callbackId:m}},sendWithPromiseWithId:function(d,b,a,m){b>this.callbackIndex&&Object(r.a)("Can't reuse callbackId "+
b+" lesser than callbackIndex "+this.callbackIndex);b in this.callbacksCapabilities&&Object(r.a)("Can't reuse callbackId "+b+". There is a capability waiting to be resolved. ");d={action:d,data:a,callbackId:b};a=createPromiseCapability();this.callbacksCapabilities[b]=a;try{this.postMessage(d)}catch(e){a.reject(e)}return a.promise},sendError:function(d,b){if(d.message||d.errorData){d.message&&d.message.message&&(d.message=d.message.message);var a=d.errorData;d={type:d.type?d.type:"JavascriptError",
message:d.message};a&&Object.keys(a).forEach(function(b){a.hasOwnProperty(b)&&(d[b]=a[b])})}this.postMessage({isReply:!0,callbackId:b,error:d})},getPromise:function(d){if(d in this.callbacksCapabilities)return this.callbacksCapabilities[d];Object(r.a)("Cannot get promise for callback "+d)},cancelPromise:function(d){if(d in this.callbacksCapabilities){var b=this.callbacksCapabilities[d];delete this.callbacksCapabilities[d];b.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",
data:{callbackId:d}})}else Object(r.c)("Cannot cancel callback "+d)},postMessage:function(d){if(this.postMessageTransfers){var b=this.getTransfersArray(d);this.comObj.postMessage(d,b)}else this.comObj.postMessage(d)},getObjectTransfers:function(d,b){var a=this;null!==d&&"object"===typeof d&&(d instanceof Uint8Array?b.push(d.buffer):d instanceof ArrayBuffer?b.push(d):Object.keys(d).forEach(function(m){d.hasOwnProperty(m)&&a.getObjectTransfers(d[m],b)}))},getTransfersArray:function(d){var b=[];this.getObjectTransfers(d,
b);return 0===b.length?void 0:b},handleMessage:function(d){var b=this,a=d.data,m=this.actionHandler,e=this.actionHandlerAsync;d=this.callbacksCapabilities;if(a.isReply)m=a.callbackId,m in d?(e=d[m],delete d[m],"error"in a?e.reject(a.error):e.resolve(a.data)):Object(r.c)("Cannot resolve callback "+m);else if(a.action in m){var k=m[a.action];a.callbackId?Promise.resolve().then(function(){return k[0].call(k[1],a.data)}).then(function(e){b.postMessage({isReply:!0,callbackId:a.callbackId,data:e})},function(e){b.sendError(e,
a.callbackId)}):k[0].call(k[1],a.data)}else a.action in e?(k=e[a.action],a.callbackId?k[0].call(k[1],a).then(function(e){b.postMessage({isReply:!0,callbackId:a.callbackId,data:e});b.nextAsync()},function(e){b.sendError(e,a.callbackId);b.nextAsync()}):k[0].call(k[1],a).then(function(){b.nextAsync()},function(){b.nextAsync()})):Object(r.a)("Unknown action from worker: "+a.action)}};h.a=b},function(b,h,l){function r(){return d}l.d(h,"a",function(){return r});var d=21},function(b,h,l){var r=[0,1,3,7,
15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],m=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=function(){this.list=this.next=null},n=
function(){this.n=this.b=this.e=0;this.t=null},x=function(a,e,d,b,q,u){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var g=Array(this.BMAX+1),f,c,p,B=Array(this.BMAX+1),v,y=new n,C=Array(this.BMAX);var m=Array(this.N_MAX);var w=Array(this.BMAX+1),z,x;var r=this.root=null;for(c=0;c<g.length;c++)g[c]=0;for(c=0;c<B.length;c++)B[c]=0;for(c=0;c<C.length;c++)C[c]=null;for(c=0;c<m.length;c++)m[c]=0;for(c=0;c<w.length;c++)w[c]=0;var l=256<e?a[256]:this.BMAX;var h=a;var t=0;c=e;do g[h[t]]++,
t++;while(0<--c);if(g[0]==e)this.root=null,this.status=this.m=0;else{for(p=1;p<=this.BMAX&&0==g[p];p++);var D=p;u<p&&(u=p);for(c=this.BMAX;0!=c&&0==g[c];c--);var J=c;u>c&&(u=c);for(z=1<<p;p<c;p++,z<<=1)if(0>(z-=g[p])){this.status=2;this.m=u;return}if(0>(z-=g[c]))this.status=2,this.m=u;else{g[c]+=z;w[1]=p=0;h=g;t=1;for(v=2;0<--c;)w[v++]=p+=h[t++];h=a;c=t=0;do 0!=(p=h[t++])&&(m[w[p]++]=c);while(++c<e);e=w[J];w[0]=c=0;h=m;t=0;m=-1;var G=B[0]=0;v=null;for(x=0;D<=J;D++)for(a=g[D];0<a--;){for(;D>G+B[1+
m];){G+=B[1+m];m++;x=(x=J-G)>u?u:x;if((f=1<<(p=D-G))>a+1)for(f-=a+1,v=D;++p<x&&!((f<<=1)<=g[++v]);)f-=g[v];G+p>l&&G<l&&(p=l-G);x=1<<p;B[1+m]=p;v=Array(x);for(f=0;f<x;f++)v[f]=new n;r=null==r?this.root=new k:r.next=new k;r.next=null;r.list=v;C[m]=v;0<m&&(w[m]=c,y.b=B[m],y.e=16+p,y.t=v,p=(c&(1<<G)-1)>>G-B[m],C[m-1][p].e=y.e,C[m-1][p].b=y.b,C[m-1][p].n=y.n,C[m-1][p].t=y.t)}y.b=D-G;t>=e?y.e=99:h[t]<d?(y.e=256>h[t]?16:15,y.n=h[t++]):(y.e=q[h[t]-d],y.n=b[h[t++]-d]);f=1<<D-G;for(p=c>>G;p<x;p+=f)v[p].e=y.e,
v[p].b=y.b,v[p].n=y.n,v[p].t=y.t;for(p=1<<D-1;0!=(c&p);p>>=1)c^=p;for(c^=p;(c&(1<<G)-1)!=w[m];)G-=B[m],m--}this.m=B[1];this.status=0!=z&&1!=J?1:0}}},q={Stream:function(a){this.zip_inflate_start();this.zip_inflate_data=a;this.zip_inflate_pos=0}};q.Stream.prototype={getBytes:function(a){for(var e,d=Array(1024),b=[],k=0;k<a&&0<(e=this.zip_inflate_internal(d,0,d.length));)b[b.length]=String.fromCharCode.apply(null,d.slice(0,e)),k+=e;return k?(this.zip_inflate_data=this.zip_inflate_data.slice(this.zip_inflate_pos),
this.zip_inflate_pos=0,b.join("")):""},zip_GET_BYTE:function(){return this.zip_inflate_data.length==this.zip_inflate_pos?-1:this.zip_inflate_data.charCodeAt(this.zip_inflate_pos++)&255},zip_NEEDBITS:function(a){for(;this.zip_bit_len<a;)this.zip_bit_buf|=this.zip_GET_BYTE()<<this.zip_bit_len,this.zip_bit_len+=8},zip_GETBITS:function(a){return this.zip_bit_buf&r[a]},zip_DUMPBITS:function(a){this.zip_bit_buf>>=a;this.zip_bit_len-=a},zip_inflate_codes:function(a,e,d){var b,k;if(0==d)return 0;for(k=0;;){this.zip_NEEDBITS(this.zip_bl);
var g=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];for(b=g.e;16<b;){if(99==b)return-1;this.zip_DUMPBITS(g.b);b-=16;this.zip_NEEDBITS(b);g=g.t[this.zip_GETBITS(b)];b=g.e}this.zip_DUMPBITS(g.b);if(16==b)this.zip_wp&=32767,a[e+k++]=this.zip_slide[this.zip_wp++]=g.n;else{if(15==b)break;this.zip_NEEDBITS(b);this.zip_copy_leng=g.n+this.zip_GETBITS(b);this.zip_DUMPBITS(b);this.zip_NEEDBITS(this.zip_bd);g=this.zip_td.list[this.zip_GETBITS(this.zip_bd)];for(b=g.e;16<b;){if(99==b)return-1;this.zip_DUMPBITS(g.b);
b-=16;this.zip_NEEDBITS(b);g=g.t[this.zip_GETBITS(b)];b=g.e}this.zip_DUMPBITS(g.b);this.zip_NEEDBITS(b);this.zip_copy_dist=this.zip_wp-g.n-this.zip_GETBITS(b);for(this.zip_DUMPBITS(b);0<this.zip_copy_leng&&k<d;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[e+k++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++]}if(k==d)return d}this.zip_method=-1;return k},zip_inflate_stored:function(a,e,b){var d=this.zip_bit_len&7;this.zip_DUMPBITS(d);this.zip_NEEDBITS(16);
d=this.zip_GETBITS(16);this.zip_DUMPBITS(16);this.zip_NEEDBITS(16);if(d!=(~this.zip_bit_buf&65535))return-1;this.zip_DUMPBITS(16);this.zip_copy_leng=d;for(d=0;0<this.zip_copy_leng&&d<b;)this.zip_copy_leng--,this.zip_wp&=32767,this.zip_NEEDBITS(8),a[e+d++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1);return d},zip_inflate_fixed:function(e,b,k){if(null==this.zip_fixed_tl){var g,q=Array(288);for(g=0;144>g;g++)q[g]=8;for(;256>g;g++)q[g]=
9;for(;280>g;g++)q[g]=7;for(;288>g;g++)q[g]=8;this.zip_fixed_bl=7;g=new x(q,288,257,d,t,this.zip_fixed_bl);if(0!=g.status)return alert("HufBuild error: "+g.status),-1;this.zip_fixed_tl=g.root;this.zip_fixed_bl=g.m;for(g=0;30>g;g++)q[g]=5;this.zip_fixed_bd=5;g=new x(q,30,0,a,m,this.zip_fixed_bd);if(1<g.status)return this.zip_fixed_tl=null,alert("HufBuild error: "+g.status),-1;this.zip_fixed_td=g.root;this.zip_fixed_bd=g.m}this.zip_tl=this.zip_fixed_tl;this.zip_td=this.zip_fixed_td;this.zip_bl=this.zip_fixed_bl;
this.zip_bd=this.zip_fixed_bd;return this.zip_inflate_codes(e,b,k)},zip_inflate_dynamic:function(b,k,q){var g,n,u,w=Array(316);for(g=0;g<w.length;g++)w[g]=0;this.zip_NEEDBITS(5);var f=257+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(5);var c=1+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(4);g=4+this.zip_GETBITS(4);this.zip_DUMPBITS(4);if(286<f||30<c)return-1;for(n=0;n<g;n++)this.zip_NEEDBITS(3),w[e[n]]=this.zip_GETBITS(3),this.zip_DUMPBITS(3);for(;19>n;n++)w[e[n]]=0;this.zip_bl=
7;n=new x(w,19,19,null,null,this.zip_bl);if(0!=n.status)return-1;this.zip_tl=n.root;this.zip_bl=n.m;var p=f+c;for(g=u=0;g<p;){this.zip_NEEDBITS(this.zip_bl);var B=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];n=B.b;this.zip_DUMPBITS(n);n=B.n;if(16>n)w[g++]=u=n;else if(16==n){this.zip_NEEDBITS(2);n=3+this.zip_GETBITS(2);this.zip_DUMPBITS(2);if(g+n>p)return-1;for(;0<n--;)w[g++]=u}else{17==n?(this.zip_NEEDBITS(3),n=3+this.zip_GETBITS(3),this.zip_DUMPBITS(3)):(this.zip_NEEDBITS(7),n=11+this.zip_GETBITS(7),
this.zip_DUMPBITS(7));if(g+n>p)return-1;for(;0<n--;)w[g++]=0;u=0}}this.zip_bl=9;n=new x(w,f,257,d,t,this.zip_bl);0==this.zip_bl&&(n.status=1);if(0!=n.status)return-1;this.zip_tl=n.root;this.zip_bl=n.m;for(g=0;g<c;g++)w[g]=w[g+f];this.zip_bd=6;n=new x(w,c,0,a,m,this.zip_bd);this.zip_td=n.root;this.zip_bd=n.m;return 0==this.zip_bd&&257<f||0!=n.status?-1:this.zip_inflate_codes(b,k,q)},zip_inflate_start:function(){null==this.zip_slide&&(this.zip_slide=Array(65536));this.zip_bit_len=this.zip_bit_buf=this.zip_wp=
0;this.zip_method=-1;this.zip_eof=!1;this.zip_copy_leng=this.zip_copy_dist=0;this.zip_fixed_tl=this.zip_tl=null},zip_inflate_internal:function(a,e,d){var b;for(b=0;b<d&&(!this.zip_eof||-1!=this.zip_method);){if(0<this.zip_copy_leng){if(0!=this.zip_method)for(;0<this.zip_copy_leng&&b<d;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[e+b++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++];else{for(;0<this.zip_copy_leng&&b<d;)this.zip_copy_leng--,this.zip_wp&=32767,
this.zip_NEEDBITS(8),a[e+b++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1)}if(b==d)break}if(-1==this.zip_method){if(this.zip_eof)break;this.zip_NEEDBITS(1);0!=this.zip_GETBITS(1)&&(this.zip_eof=!0);this.zip_DUMPBITS(1);this.zip_NEEDBITS(2);this.zip_method=this.zip_GETBITS(2);this.zip_DUMPBITS(2);this.zip_tl=null;this.zip_copy_leng=0}switch(this.zip_method){case 0:var g=this.zip_inflate_stored(a,e+b,d-b);break;case 1:g=null!=this.zip_tl?
this.zip_inflate_codes(a,e+b,d-b):this.zip_inflate_fixed(a,e+b,d-b);break;case 2:g=null!=this.zip_tl?this.zip_inflate_codes(a,e+b,d-b):this.zip_inflate_dynamic(a,e+b,d-b);break;default:g=-1}if(-1==g)return this.zip_eof?0:-1;b+=g}return b}};q.inflate=function(a){return(new q.Stream(a)).getBytes(4E9)};h.a=q},function(b,h,l){function r(a){return new Promise(function(b,d){var n=indexedDB.open(e,a);n.onerror=d.bind(null,"Error opening wasm cache database");n.onsuccess=function(){b(n.result)};n.onupgradeneeded=
function(a){var e=n.result;e.objectStoreNames.contains(k)&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),e.deleteObjectStore(k));console.log("Creating version "+a.newVersion+" wasm cache");e.createObjectStore(k)}})}function d(a,e){return new Promise(function(b,d){var g=a.transaction([k]).objectStore(k).get(e);g.onsuccess=function(a){g.result?b(g.result):d("Module "+e+" was not found in wasm cache")};g.onerror=d.bind(null,"Error getting wasm module "+e)})}function t(e,b,q,h){function g(a,
e){a=a.transaction([k],"readwrite").objectStore(k).put(e,b);a.onerror=function(f){console.log("Failed to store in wasm cache: "+f)};a.onsuccess=function(f){console.log("Successfully stored "+b+" in wasm cache")}}function n(e){l=l||Date.now();return e?(Object(a.b)("load","Try instantiateStreaming"),fetch(Object(m.a)(b)).then(function(a){return WebAssembly.instantiateStreaming(a,q)}).catch(function(e){Object(a.b)("load","instantiateStreaming Failed "+b+" message "+e.message);return n(!1)})):Object(m.b)(b,
h,!0,!0).then(function(e){x=Date.now();Object(a.b)("load","Request took "+(x-l)+" ms");return WebAssembly.instantiate(e,q)})}var x,l;return r(e).then(function(e){return d(e,b).then(function(e){Object(a.b)("Found "+b+" in wasm cache");return WebAssembly.instantiate(e,q)},function(b){Object(a.b)(b);return n(!!WebAssembly.instantiateStreaming).then(function(f){try{Object(a.b)("load","WASM compilation took "+(Date.now()-(x||l))+" ms"),g(e,f.module)}catch(c){}return f.instance})})},function(a){console.log(a);
return n().then(function(a){return a.instance})})}l.d(h,"a",function(){return t});var a=l(0),m=l(1),e="wasm-cache",k="wasm-cache"},function(b,h,l){b.exports=l(14)},function(b,h,l){l.r(h);l(2);l(15);l(16);l(19);l(20);l(21);l(22);l(23)},function(b,h,l){(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(b,d){void 0===b&&(b=0);void 0===d&&(d=this.byteLength);b=Math.floor(b);d=Math.floor(d);0>b&&(b+=this.byteLength);0>d&&(d+=this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);
d=Math.min(Math.max(0,d),this.byteLength);if(0>=d-b)return new ArrayBuffer(0);var h=new ArrayBuffer(d-b),a=new Uint8Array(h);b=new Uint8Array(this,b,d-b);a.set(b);return h})})(self)},function(b,h,l){(function(b,d){(function(d){function a(){for(var c=0;c<M.length;c++)M[c][0](M[c][1]);M=[];L=!1}function m(c,f){M.push([c,f]);L||(L=!0,A(a,0))}function e(c,f){function a(c){x(f,c)}function p(c){h(f,c)}try{c(a,p)}catch(E){p(E)}}function k(c){var f=c.owner,a=f.state_;f=f.data_;var e=c[a];c=c.then;if("function"===
typeof e){a=p;try{f=e(f)}catch(E){h(c,E)}}n(c,f)||(a===p&&x(c,f),a===B&&h(c,f))}function n(c,f){var a;try{if(c===f)throw new TypeError("A promises callback cannot return that same promise.");if(f&&("function"===typeof f||"object"===typeof f)){var p=f.then;if("function"===typeof p)return p.call(f,function(p){a||(a=!0,f!==p?x(c,p):q(c,p))},function(f){a||(a=!0,h(c,f))}),!0}}catch(E){return a||h(c,E),!0}return!1}function x(c,f){c!==f&&n(c,f)||q(c,f)}function q(a,p){a.state_===f&&(a.state_=c,a.data_=
p,m(w,a))}function h(a,p){a.state_===f&&(a.state_=c,a.data_=p,m(y,a))}function g(c){var f=c.then_;c.then_=void 0;for(c=0;c<f.length;c++)k(f[c])}function w(c){c.state_=p;g(c)}function y(c){c.state_=B;g(c)}function t(c){if("function"!==typeof c)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof t)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];e(c,this)}
d.createPromiseCapability=function(){var c={},f=new t(function(f,a){c.resolve=f;c.reject=a});c.promise=f;return c};var u=d.Promise,r=u&&"resolve"in u&&"reject"in u&&"all"in u&&"race"in u&&function(){var c;new u(function(f){c=f});return"function"===typeof c}();"undefined"!==typeof exports&&exports?(exports.Promise=r?u:t,exports.Polyfill=t):"function"===typeof define&&l(18)?define(function(){return r?u:t}):r||(d.Promise=t);var f="pending",c="sealed",p="fulfilled",B="rejected",v=function(){},A="undefined"!==
typeof b?b:setTimeout,M=[],L;t.prototype={constructor:t,state_:f,then_:null,data_:void 0,then:function(c,f){c={owner:this,then:new this.constructor(v),fulfilled:c,rejected:f};this.state_===p||this.state_===B?m(k,c):this.then_.push(c);return c.then},"catch":function(c){return this.then(null,c)}};t.all=function(c){if("[object Array]"!==Object.prototype.toString.call(c))throw new TypeError("You must pass an array to Promise.all().");return new this(function(f,a){function p(c){b++;return function(a){e[c]=
a;--b||f(e)}}for(var e=[],b=0,v=0,d;v<c.length;v++)(d=c[v])&&"function"===typeof d.then?d.then(p(v),a):e[v]=d;b||f(e)})};t.race=function(c){if("[object Array]"!==Object.prototype.toString.call(c))throw new TypeError("You must pass an array to Promise.race().");return new this(function(f,a){for(var p=0,e;p<c.length;p++)(e=c[p])&&"function"===typeof e.then?e.then(f,a):f(e)})};t.resolve=function(c){return c&&"object"===typeof c&&c.constructor===this?c:new this(function(f){f(c)})};t.reject=function(c){return new this(function(f,
a){a(c)})}})("undefined"!==typeof window?window:"undefined"!==typeof d?d:"undefined"!==typeof self?self:void 0)}).call(this,l(4).setImmediate,l(5))},function(b,h,l){(function(b,d){(function(b,a){function m(c){delete y[c]}function e(c){if(r)setTimeout(e,0,c);else{var f=y[c];if(f){r=!0;try{var b=f.callback,v=f.args;switch(v.length){case 0:b();break;case 1:b(v[0]);break;case 2:b(v[0],v[1]);break;case 3:b(v[0],v[1],v[2]);break;default:b.apply(a,v)}}finally{m(c),r=!1}}}}function k(){t=function(c){d.nextTick(function(){e(c)})}}
function n(){if(b.postMessage&&!b.importScripts){var c=!0,f=b.onmessage;b.onmessage=function(){c=!1};b.postMessage("","*");b.onmessage=f;return c}}function h(){var c="setImmediate$"+Math.random()+"$",f=function(f){f.source===b&&"string"===typeof f.data&&0===f.data.indexOf(c)&&e(+f.data.slice(c.length))};b.addEventListener?b.addEventListener("message",f,!1):b.attachEvent("onmessage",f);t=function(f){b.postMessage(c+f,"*")}}function q(){var c=new MessageChannel;c.port1.onmessage=function(c){e(c.data)};
t=function(f){c.port2.postMessage(f)}}function l(){var c=u.documentElement;t=function(f){var a=u.createElement("script");a.onreadystatechange=function(){e(f);a.onreadystatechange=null;c.removeChild(a);a=null};c.appendChild(a)}}function g(){t=function(c){setTimeout(e,0,c)}}if(!b.setImmediate){var w=1,y={},r=!1,u=b.document,t,f=Object.getPrototypeOf&&Object.getPrototypeOf(b);f=f&&f.setTimeout?f:b;"[object process]"==={}.toString.call(b.process)?k():n()?h():b.MessageChannel?q():u&&"onreadystatechange"in
u.createElement("script")?l():g();f.setImmediate=function(c){"function"!==typeof c&&(c=new Function(""+c));for(var f=Array(arguments.length-1),a=0;a<f.length;a++)f[a]=arguments[a+1];y[w]={callback:c,args:f};t(w);return w++};f.clearImmediate=m}})("undefined"===typeof self?"undefined"===typeof b?this:b:self)}).call(this,l(5),l(7))},function(b,h){b.exports={}},function(b,h,l){(function(b){var d=function(b,a){var d=function(b){b=this.catch(b);return{cancel:a,promise:b,then:e.bind(b),catch:d.bind(b)}},
e=function(b,n){b=this.then(b,n);return{cancel:a,promise:b,then:e.bind(b),catch:d.bind(b)}};return{cancel:a,promise:b,then:e.bind(b),catch:d.bind(b)}};b.CancellablePromise=function(b,a){var m=!1,e,k=new Promise(function(d,k){e=function(){m||(a(),k("cancelled"))};(new Promise(b)).then(function(a){m=!0;d(a)},function(a){m=!0;k(a)})});return d(k,e)};b.CancellablePromise.all=function(b){var a=Promise.all(b);return d(a,function(){b.forEach(function(a){a.cancel&&a.cancel()})})}})("undefined"===typeof self?
void 0:self)},function(b,h,l){(function(b,d){var h=l(0);(function(a){a.Module={TOTAL_MEMORY:50331648,noExitRuntime:!0,devicePixelRatio:1,cur_doc:null,cachePtrSize:0,hasBufOwnership:!0,loaded:!1,initCb:null,cachePtr:null,cleanupState:null,docs:{},postEvent:function(a,b,d){Module.workerMessageHandler.send("event",{docId:a,type:b,data:d})},postPagesUpdatedEvent:function(a,b,d){a={pageDimensions:Module.GetPageDimensions(a)};if(d)for(var e=0;e<d.length;++e)d[e]in a.pageDimensions?a.pageDimensions[d[e]].contentChanged=
!0:console.warn("Invalid Page Number "+d[e]);Module.postEvent(b,"pagesUpdated",a);return a},GetIndividualPageDimensions:function(a,b,d){a=Module.PageGetPageInfo(d);a.id=Module.PageGetId(d);return a},GetPageDimensionsRange:function(a,b,d){for(var e={},k=Module.PDFDocGetPageIterator(a,b);b<d&&Module.IteratorHasNext(k);++b){var q=Module.IteratorCurrent(k);e[b]=this.GetIndividualPageDimensions(a,b,q);Module.IteratorNext(k)}return e},GetPageDimensions:function(a){try{var b=Module.stackSave(),d=Module.GetPageCount(a);
if(0===d)throw"This document has no pages.";return Module.GetPageDimensionsRange(a,1,d+1)}finally{Module.stackRestore(b)}},loadDoc:function(a,b){"undefined"===typeof Module&&this._main();var e=null;try{var d=Module.stackSave();b=Module.CreateDoc(a,b);var m=Module.GetDoc(b);if(Module.PDFDocInitSecurityHandler(m))return{docId:b,pageDimensions:Module.GetPageDimensions(m)};e={type:"NeedsPassword",errorData:{docId:b},message:"This document requires a password"}}catch(q){e={type:"InvalidPDF",message:q}}finally{Module.stackRestore(d)}throw e;
},loadCanvas:function(a,b,d,n,h,q,l,g){return new Promise(function(e,k){var m=Module.GetDoc(a),u=b+1,w=function(){e(Module.RasterizePage(m,u,d,n,q,h,l,g))},f=Module.docs[a].chunkStorage;if(f){var c=Module.GetDownloadData(m).downloader,p=f.getRequiredChunkOffsetArrays(c,u);f.keepChunks(p.have);c=function(){var c=f.getChunks(p.missing);Module.loadPromise=c.then(function(){var c=Module.loadPromise.cancelled;Module.loadPromise=null;c||w()}).catch(function(c){"cancelled"!==c?k(c):Module.loadPromise=null})};
Module.loadPromise?Module.loadPromise.then(c,c):c()}else w()})},loadResources:function(a,b){Module.Initialize(b);Object(h.b)("worker","PDFNet initialized!");Module._TRN_PDFNetSetDefaultDiskCachingEnabled(!1);a=new Uint8Array(a);Module.PDFNetSetResourceData(a)},onRuntimeInitialized:function(){"undefined"===typeof Module&&(("undefined"!==typeof window?window:self).Module={});(function(m){m.PDFDocExportXFDF=function(a,b){a=Module.GetDoc(a);var e=Module.stackSave();try{var d=b?Module.PDFDocFDFExtract(a,
b):Module.PDFDocFDFExtract(a);var k=Module.FDFDocSaveAsXFDF(d);Module.stackRestore(e)}catch(z){throw Module.stackRestore(e),z;}return k};m.PageArrayToPageSet=function(a){var b=Module.stackSave();try{var e=Module.PageSetCreate();for(var d=0;d<a.length;++d)Module.PageSetAddPage(e,a[d]);Module.stackRestore(b)}catch(q){throw Module.stackRestore(b),q;}return e};m.cancelCurrent=function(){var a=Module.loadPromise;return a?(a.cancel(),a.cancelled=!0):(a=Module.cleanupState)?(b(a.timeout),a.cleanupArr.forEach(function(a){a()}),
Module.cleanupState=null,!0):!1};m.SetWorkerRestartCallback=function(a){Module.workerRestartCallback=a};m.XFDFMerge=function(a,b){if(b){var e=[];try{Object(h.b)("worker","Merge XFDF of length "+b.length);var d=Module.GetUStringFromJSString(b,!0);e.push(function(){Module.UStringDestroy(d)});var k=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_FDFDocCreateFromXFDF(d,k));var m=Module.getValue(k,"i8*");e.push(function(){Module.FDFDocDestroy(m)});REX(Module._TRN_PDFDocFDFUpdate(a,m))}finally{e.forEach(function(a){a()})}}};
m.MergeXFDF=function(a,b){return new Promise(function(e,d){var k=[];try{var n=Module.stackSave();k[k.length]=function(){Module.stackRestore(n)};var g=Module.GetDoc(a);Module.XFDFMerge(g,b);k.forEach(function(a){a()});e({})}catch(w){k.forEach(function(a){a()}),d(w)}})};m.CreateBufferFile=function(a,b){Module.MakeDev(a);var e=new ArrayBuffer(b);e=new Uint8Array(e);for(var d=0;d<b;++d)e[d]=255;Module.docs[a]={buffer:e}};m.ReadBufferFile=function(a,b){var e=Module.docs[a].buffer;b&&(b=new Uint8Array(e.buffer.slice(0)),
Module.docs[a].buffer=b);return e};m.RemoveBufferFile=function(a){Module.docs[a]=null};m.SaveHelper=function(a,b,d){d="undefined"===typeof d?2:d;Module.MakeDev(b);a=Module._TRN_PDFDocSave(a,Module.GetUStringFromJSString(b),d,0);Module.docs[b].sink=null;REX(a);return Module.docs[b].buffer.buffer};m.SaveDoc=function(b,d,n,m,q,h){return new Promise(function(e,k){var g=Module.GetDoc(b),w=[];try{g=Module.GetDoc(b);var u=Module.stackSave();w[w.length]=function(){Module.stackRestore(u)};Module.XFDFMerge(g,
d);for(var l=Module.PDFDocGetPageIterator(g,1);Module.IteratorHasNext(l);){var f=Module.IteratorCurrent(l);try{for(var c=Module.PageGetNumAnnots(f);0<c;){var p=Module.PageGetAnnot(f,--c);Module.AnnotHasAppearance(p)||Module.AnnotRefreshAppearance(p)}}catch(D){Module.ObjErase(f,"Annots")}Module.IteratorNext(l)}if(h){c=function(c){c=new Uint8Array(c);a.FS.writeFile("watermarkFile",c);c=Module.ImageCreateFromFile(g,Module.GetUStringFromJSString("watermarkFile"));a.FS.unlink("watermarkFile");return c};
var B=Module.ElementBuilderCreate();w.push(function(){Module.ElementBuilderDestroy(B)});var v=Module.ElementWriterCreate();w.push(function(){Module.ElementWriterDestroy(v)});try{if(!h.hasOwnProperty("default"))throw Error("Watermark dictionary has no 'default' key!");var A=c(h["default"]);l=Module.PDFDocGetPageIterator(g,1);for(p=-1;Module.IteratorHasNext(l);){f=Module.IteratorCurrent(l);Module.IteratorNext(l);p++;var r=p.toString();try{if(h.hasOwnProperty(r)){var x=h[r];if(x)var t=c(x);else continue}else t=
A;var z=Module.PageGetPageInfo(f),I=Module.ElementBuilderCreateImage(B,t,0,0,z.width,z.height);Module.ElementWriterBegin(v,f);Module.ElementWriterWritePlacedElement(v,I);Module.ElementWriterEnd(v)}catch(D){console.warn("Watermark for page "+r+"can not be added due to error: "+D)}}}catch(D){console.warn("Watermarks can not be added due to error: "+D)}}l=0;if(m){var F=Module.PDFDocGetRoot(g);(l=Module.ObjFindObj(F,"OpenAction"))&&Module.ObjPut(F,"__OpenActionBackup__",l);var E=Module.ObjPutDict(F,"OpenAction");
Module.ObjPutName(E,"Type","Action");Module.ObjPutName(E,"S","JavaScript");Module.ObjPutString(E,"JS","this.print()")}var H=Module.SaveHelper(g,b,q);m&&(l?Module.ObjPut(F,"OpenAction",Module.ObjFindObj(F,"__OpenActionBackup__")):Module.ObjErase(F,"OpenAction"));w.forEach(function(c){c()});if(n)e({fileData:H});else{var K=H.slice(0);e({fileData:K})}}catch(D){w.forEach(function(c){c()}),k(D)}})};m.SaveDocFromFixedElements=function(a,b,d){a=Module.PDFDocCreateFromLayoutEls(a);a=Module.CreateDoc({type:"ptr",
value:a});return Module.SaveDoc(a,b,!0,!1,d)};m.GetCurrentCanvasData=function(a){var b=Module.currentRenderData;if(!b)return null;a&&REX(Module._TRN_PDFRasterizerUpdateBuffer(b.rast));var d=Date.now();a=Module.ReadBufferFile("b",a);Object(h.b)("bufferTiming","Copy took "+(Date.now()-d));return{pageBuf:a.buffer,pageWidth:b.out_width,pageHeight:b.out_height}};m.RasterizePage=function(a,b,n,m,q,l,g,w){return new Promise(function(e,k){Module.currentRenderData={};var u=Module.currentRenderData;u.out_width=
parseInt(n,10);u.out_height=parseInt(m,10);var r=[];r.push(function(){Module.currentRenderData=null});try{var f=Module.stackSave();r[r.length]=function(){Module.stackRestore(f)};var c=Module.GetPage(a,b),p=Module.PageGetPageWidth(c),B=Module.PageGetPageHeight(c);u.stride=4*u.out_width;u.buf_size=u.out_width*u.out_height*4;Object(h.b)("Memory","Created rasterizer");u.rast=Module.PDFRasterizerCreate();r.push(function(){Object(h.b)("Memory","Destroyed rasterizer");Module._TRN_PDFRasterizerDestroy(u.rast)});
if(g){var v=Module.EMSCreateUpdatedLayersContext(a,g);0!==v&&(Module._TRN_PDFRasterizerSetOCGContext(u.rast,v),r.push(function(){Module._TRN_OCGContextDestroy(v)}))}var A=Module.PageGetRotation(c),y=1===l||3===l;A=(1===A||3===A)!==y;var x=Module.allocate(48,"i8",Module.ALLOC_STACK);if(q){q.x1=q[0];q.y1=q[1];q.x2=q[2];q.y2=q[3];var t=Module.PageGetDefaultMatrix(c,0),z=Module.Matrix2DInverse(t);q=Module.Matrix2DMultBBox(z,q);if(q.x2<q.x1){var C=q.x1;q.x1=q.x2;q.x2=C}q.y2<q.y1&&(C=q.y1,q.y1=q.y2,q.y2=
C);var F=u.out_width/(A?q.y2-q.y1:q.x2-q.x1);var E=Module.GetDefaultMatrixBox(c,q,l)}else E=Module.PageGetDefaultMatrix(c,l),F=u.out_width/(y?B:p);Module.Matrix2DSet(x,F,0,0,F,0,0);Module.Matrix2DConcat(x,E);Object(h.b)("Memory","Allocated buffer of "+u.buf_size);r.push(function(){Object(h.b)("Memory","Deallocated buffer of "+u.buf_size);Module._free(u.bufPtr)});var H=Module.allocate(4,"i8",Module.ALLOC_STACK),K=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerSetDrawAnnotations(u.rast,
0));Module.CreateBufferFile("b",u.buf_size);r.push(function(){Module.RemoveBufferFile("b")});if(10===w){REX(Module._TRN_PDFRasterizerSetOverprint(u.rast,1));var D=Module.PDFRasterizerRasterizeSeparations(u.rast,c,u.out_width,u.out_height,x,0,0);e({pageBuf:D,pageWidth:u.out_width,pageHeight:u.out_height})}else{REX(Module._TRN_PDFRasterizerSetOverprint(u.rast,w));REX(Module._TRN_PDFRasterizerGetChunkRendererPath(u.rast,c,Module.GetUStringFromJSString("b"),u.out_width,u.out_height,!0,x,0,0,0,H));var J=
Module.getValue(H,"i8*");r.splice(1,0,function(){REX(Module._TRN_ChunkRendererDestroy(J))})}var G=(new Date).getTime(),Q=function(){try{for(var c=0,a=(new Date).getTime(),f=!1;200>c;){REX(Module._TRN_ChunkRendererRenderNext(J,K));if(!Module.getValue(K,"i8*")){f=!0;break}c=(new Date).getTime()-a}if(f){var b=Module.GetCurrentCanvasData(!1);Object(h.b)("worker","Total Page Time "+((new Date).getTime()-G));r.forEach(function(c){c()});e(b)}else Module.cleanupState.timeout=d(Q,0)}catch(S){r.forEach(function(c){c()}),
k(S)}},T=d(Q,0);Module.cleanupState={cleanupArr:r,timeout:T};r.push(function(){Module.cleanupState=null})}catch(R){r.forEach(function(c){c()}),k(R)}})};m.GetDestinationVPosHPos=function(a){var b=0,d=0,e=!1,q=!1,m=Module.DestinationGetPage(a),g=Module.DestinationGetExplicitDestObj(a);m=Module.PageGetDefaultMatrix(m);m=Module.Matrix2DInverse(m);var h=Module.Matrix2DMult(m,{x:d,y:b});d=h.x;b=h.y;try{switch(Module.DestinationGetFitType(a)){case 2:case 6:var l=Module.ObjGetAt(g,2);Module.ObjIsNumber(l)&&
(b=Module.ObjGetNumber(l),e=!0);break;case 0:l=Module.ObjGetAt(g,2);Module.ObjIsNumber(l)&&(d=Module.ObjGetNumber(l),q=!0);l=Module.ObjGetAt(g,3);Module.ObjIsNumber(l)&&(b=Module.ObjGetNumber(l),e=!0);break;case 4:l=Module.ObjGetAt(g,2);Module.ObjIsNumber(l)&&(d=Module.ObjGetNumber(l),q=!0);l=Module.ObjGetAt(g,5);Module.ObjIsNumber(l)&&(b=Module.ObjGetNumber(l),e=!0);break;case 3:case 7:l=Module.ObjGetAt(g,2),Module.ObjIsNumber(l)&&(d=Module.ObjGetNumber(l),q=!0)}h=Module.Matrix2DMult(m,{x:d,y:b});
d=h.x;b=h.y;e||(b=0);q||(d=0)}catch(C){d=b=0}return{hpos:d,vpos:b}};m.FillBookmarkTree=function(a,b){for(var d=0;Module.BookmarkIsValid(a);a=Module.BookmarkGetNext(a),++d)try{var e=[];if(Module.BookmarkHasChildren(a)){var k=Module.BookmarkGetFirstChild(a);Module.FillBookmarkTree(k,e)}var m=Module.BookmarkGetTitle(a);e={children:e,name:m};var g=Module.BookmarkGetAction(a);if(Module.ActionIsValid(g)){var l=Module.ActionGetType(g);if(0===l){var h=Module.ActionGetDest(g);if(Module.DestinationIsValid(h)){var r=
Module.DestinationGetPage(h);if(Module.PageIsValid(r)){var u=Module.PageGetIndex(r);if(0<u){e.pageNumber=u;var t=Module.GetDestinationVPosHPos(h);e.verticalOffset=t.vpos;e.horizontalOffset=t.hpos}}}}else if(5===l){var f=Module.ObjFindObj(g,"URI");f&&(e.url=Module.ObjGetAsPDFText(f))}}b[b.length]=e}catch(c){}};m.LoadBookmarks=function(a){a=Module.GetDoc(a);var b=[],d=Module.stackSave();try{var e=Module.PDFDocGetFirstBookmark(a);Module.BookmarkIsValid(e)&&Module.FillBookmarkTree(e,b)}catch(q){}Module.stackRestore(d);
return{bookmarks:b}};m.UpdatePassword=function(a,b){try{var d=Module.stackSave(),e=Module.GetDoc(a);return Module.PDFDocInitStdSecurityHandler(e,b)?(e in downloadDataMap&&REX(Module._TRN_PDFDocDownloaderInitialize(e,downloadDataMap[e].downloader)),{success:!0,pageDimensions:Module.GetPageDimensions(e)}):{success:!1}}finally{Module.stackRestore(d)}};m.GetTextData=function(a,b){return new Promise(function(d,e){var k=b+1,m=Module.GetDoc(a),g=[];try{var l=Module.stackSave();g[g.length]=function(){Module.stackRestore(l)};
var h=Module.GetPage(m,k),n=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCreate(n));var u=Module.getValue(n,"i8*");g[g.length]=function(){Module._TRN_TextExtractorDestroy(u)};REX(Module._TRN_TextExtractorBegin(u,h,0,1));var r=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetDefaultMatrix(h,!0,1,0,r));var f=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorGetQuads(u,r,0,f));var c=Module.getValue(f,"i8*"),p=Module._malloc(8*c);g[g.length]=
function(){Module._free(p)};REX(Module._TRN_TextExtractorGetQuads(u,r,p,f));var B=Module.GetJSDoubleArrFromCore(p,c),v=Module.allocate(4,"i8",Module.ALLOC_STACK),A=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_UStringCreate(A));g[g.length]=function(){Module._TRN_UStringDestroy(t)};var t=Module.getValue(A,"i8*");REX(Module._TRN_TextExtractorGetAsTextWithOffsets(u,t,0,v));var x=Module.GetJSStringFromUString(t),P=Module.getValue(v,"i8*"),O=Module._malloc(4*P);g[g.length]=function(){Module._free(O)};
REX(Module._TRN_TextExtractorGetAsTextWithOffsets(u,t,O,v));var I=Module.GetJSIntArrayFromCore(O,P),F=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCmptSemanticInfo(u,r,0,F));var E=Module.getValue(F,"i8*"),H=Module._malloc(8*E);g[g.length]=function(){Module._free(H)};REX(Module._TRN_TextExtractorCmptSemanticInfo(u,r,H,F));var K=Module.GetJSDoubleArrFromCore(H,E);g.forEach(function(c){c()});d({str:x,quads:B,offsets:I,struct:K})}catch(D){g.forEach(function(c){c()}),e(D)}})};
m.InsertBlankPages=function(a,b,d,m){return new Promise(function(e,k){var g=[],q=Module.GetDoc(a);try{var l=Module.stackSave();g[g.length]=function(){Module.stackRestore(l)};for(var h=b.length-1;0<=h;--h){var n=Module.PDFDocGetPageIterator(q,b[h]),r=Module.PDFDocPageCreate(q,d,m);Module.PDFDocPageInsert(q,n,r)}var f=Module.postPagesUpdatedEvent(q,a);g.forEach(function(c){c()});e(f)}catch(c){g.forEach(function(c){c()}),k(c)}})};m.InsertPages=function(a,b,d,m,q){return new Promise(function(e,g){var k=
[],h=Module.GetDoc(a);try{var l=Module.stackSave();k[k.length]=function(){Module.stackRestore(l)};if(b instanceof ArrayBuffer){var n=Module.CreateDoc(b);var r=Module.GetDoc(n);k[k.length]=function(){Module.DeleteDoc(n)}}else r=Module.GetDoc(b);for(var f=d.length,c=Module.PageSetCreate(),p=0;p<f;++p)Module.PageSetAddPage(c,d[p]);Module.PDFDocInsertPages(h,m,r,c,q);var B=Module.postPagesUpdatedEvent(h,a);k.forEach(function(c){c()});e(B)}catch(v){k.forEach(function(c){c()}),g(v)}})};m.MovePages=function(a,
b,d){return new Promise(function(e,k){var q=[],g=Module.GetDoc(a);try{var h=Module.stackSave();q[q.length]=function(){Module.stackRestore(h)};for(var m=b.length,l=Module.PageSetCreate(),n=0;n<m;++n)Module.PageSetAddPage(l,b[n]);Module.PDFDocMovePages(g,d,l);var r=Module.postPagesUpdatedEvent(g,a);q.forEach(function(a){a()});e(r)}catch(f){q.forEach(function(c){c()}),k(f)}})};m.RemovePages=function(a,b){return new Promise(function(d,e){var k=Module.GetDoc(a),h=[];try{var g=Module.stackSave();h[h.length]=
function(){Module.stackRestore(g)};for(var m=b.length-1;0<=m;--m){var l=Module.PDFDocGetPageIterator(k,b[m]);Module.IteratorHasNext(l)&&Module.PDFDocPageRemove(k,l)}var n=Module.postPagesUpdatedEvent(k,a);h.forEach(function(a){a()});d(n)}catch(u){h.forEach(function(a){a()}),e(u)}})};m.RotatePages=function(a,b,d){return new Promise(function(e,k){var q=Module.GetDoc(a),g=[];try{var h=Module.stackSave();g[g.length]=function(){Module.stackRestore(h)};var m=b.length,l=0,n=Module.PDFDocGetPageIterator(q,
b[0]),r=[];g.push(function(){Module._TRN_IteratorDestroy(n)});for(var f=b[0];Module.IteratorHasNext(n)&&l<b[m-1];++f){if(f===b[l]){var c=Module.IteratorCurrent(n),p=(Module.PageGetRotation(c)+d)%4;Module.PageSetRotation(c,p);r.push(f);l++}Module.IteratorNext(n)}var B=Module.postPagesUpdatedEvent(q,a,r);g.forEach(function(c){c()});e(B)}catch(v){g.forEach(function(c){c()}),k(v)}})};m.ExtractPages=function(a,b,d,h){return new Promise(function(e,k){var g=[];try{var q=Module.GetDoc(a),l=Module.stackSave();
g[g.length]=function(){Module.stackRestore(l)};var m=function(a){g.forEach(function(c){c()});k(a)};Module.XFDFMerge(q,d);var n=Module.CreateEmptyDoc();g[g.length]=function(){Module.DeleteDoc(n)};var r=Module.InsertPages(n,a,b,1,!0).then(function(){return Module.SaveDoc(n,void 0,!0,!1,void 0,h)}).then(function(a){g.forEach(function(c){c()});return a}).catch(m);e(r)}catch(f){m(f)}})};m.CropPages=function(a,b,d,h,q,m){return new Promise(function(e,k){var g=Module.GetDoc(a),l=[];try{var n=Module.stackSave();
l[l.length]=function(){Module.stackRestore(n)};var r=b.length,f=0,c=Module.PDFDocGetPageIterator(g,b[0]);l.push(function(){Module._TRN_IteratorDestroy(c)});for(var p=[],B=b[0];Module.IteratorHasNext(c)&&f<b[r-1];++B){if(B===b[f]){var v=Module.IteratorCurrent(c),A=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetCropBox(v,A));var w=Module.PageGetRotation(v),t=Module.getValue(A,"double"),x=Module.getValue(A+8,"double"),z=Module.getValue(A+16,"double"),I=Module.getValue(A+24,"double");
0===w%4?(Module.setValue(A,t+q,"double"),Module.setValue(A+8,x+h,"double"),Module.setValue(A+16,z-m,"double"),Module.setValue(A+24,I-d,"double")):1===w%4?(Module.setValue(A,t+d,"double"),Module.setValue(A+8,x+q,"double"),Module.setValue(A+16,z-h,"double"),Module.setValue(A+24,I-m,"double")):2===w%4?(Module.setValue(A,t+m,"double"),Module.setValue(A+8,x+d,"double"),Module.setValue(A+16,z-q,"double"),Module.setValue(A+24,I-h,"double")):3===w%4&&(Module.setValue(A,t+h,"double"),Module.setValue(A+8,x+
m,"double"),Module.setValue(A+16,z-d,"double"),Module.setValue(A+24,I-q,"double"));Module.setValue(A+32,0,"double");REX(Module._TRN_PageSetCropBox(v,A));p.push(B);f++}Module.IteratorNext(c)}var F=Module.postPagesUpdatedEvent(g,a,p);l.forEach(function(c){c()});e(F)}catch(E){l.forEach(function(c){c()}),k(E)}})}})("undefined"===typeof self?this.Module:self.Module);this.loaded=!0;Module.initCb&&Module.initCb()}}})(self)}).call(this,l(4).clearImmediate,l(4).setImmediate)},function(b,h,l){(function(b){var d=
l(0),h="undefined"!==typeof window?window:self;(function(a){a.currentFileString="/current";var l=0,e=0,k={},n=null;Module.chunkMax=200;var r=function(a,c,b,d){var f=new XMLHttpRequest;return CancellablePromise(function(p,e){f.open("GET",a,!0);f.responseType="arraybuffer";f.onerror=function(){e("Network error occurred")};f.onload=function(){if(206===this.status&&f.response.byteLength===b){var c=new Int8Array(f.response);p(c)}else e("Download Failed")};var v=["bytes=",c,"-",c+b-1].join("");f.setRequestHeader("Range",
v);d&&Object.keys(d).forEach(function(c){f.setRequestHeader(c,d[c])});f.send()},function(){f.abort()})},q=function(a){this.file=a;this.position=0;this.length=a.size;this.reader=new FileReaderSync};q.prototype={read:function(a,c,b){b=this.position+b<=this.length?b:this.length-this.position;a=a.subarray(c,c+b);c=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(this.position,this.position+b)));a.set(c);this.position+=b;return b},seek:function(a){this.position=a},close:function(){this.reader=
this.file=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var t=function(a){this.data=a;this.position=0;this.length=this.data.length};t.prototype={read:function(a,c,b){b=this.position+b<=this.length?b:this.length-this.position;a=a.subarray(c,c+b);c=this.data.subarray(this.position,this.position+b);a.set(c);this.position+=b;return b},write:function(a,c,b){b=this.position+b<=this.length?b:this.length-this.position;a=a.subarray(c,c+b);this.data.subarray(this.position,
this.position+b).set(a);this.position+=b;return b},seek:function(a){this.position=a},close:function(){this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var g=function(a,c,b,d){"object"===typeof a?(this.lruList=a.lruList,this.chunkMap=a.chunkMap,this.length=a.length,this.url=a.url,this.customHeaders=a.customHeaders):(this.lruList=[],this.chunkMap={},this.chunkMap[c]=d,this.length=c,this.url=a,this.customHeaders=b)};g.prototype={lruUpdate:function(a){var c=
this.lruList.lastIndexOf(a);0<=c&&this.lruList.splice(c,1);this.lruList.push(a)},getChunk:function(a){var c=this;if(this.chunkMap[a])this.lruUpdate(a);else{var f=Math.min(a+524288,this.length)-1,b=new XMLHttpRequest;b.open("GET",this.url,!1);b.responseType="arraybuffer";b.setRequestHeader("Range",["bytes=",a,"-",f].join(""));this.customHeaders&&Object.keys(this.customHeaders).forEach(function(a){b.setRequestHeader(a,c.customHeaders[a])});b.send();if(200===b.status||206===b.status)this.writeChunk(new Int8Array(b.response),
a);else throw Error("Failed to load data from");}return this.chunkMap[a]},hadChunk:function(a){return a in this.chunkMap},hasChunk:function(a){return this.chunkMap[a]},getCacheData:function(){return this.chunkMap[this.length]},getRequiredChunkOffsetArrays:function(a,c){var f={have:[],downloading:[],missing:[]};try{var b=Module.stackSave();var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderGetRequiredChunksSize(a,c,d));var e=Module.getValue(d,"i8*");if(e){var g=Module._malloc(4*
e);REX(Module._TRN_DownloaderGetRequiredChunks(a,c,g,e));for(a=0;a<e;++a){var k=Module.getValue(g+4*a,"i8*");this.hasChunk(k)?f.have.push(k):this.hadChunk(k)?f.missing.push(k):f.downloading.push(k)}}}finally{g&&Module._free(g),Module.stackRestore(b)}return f},keepVisibleChunks:function(a,c){for(var f=c.length,b=Module.chunkMax/2,d=0,e=0;e<f;++e){var g=this.getRequiredChunkOffsetArrays(a,c[e]),k=g.have,h=k.length;d+=h;if(d>b){this.keepChunks(k.slice(0,h-d+b));break}this.keepChunks(g.have)}},getChunkAsync:function(a){var c=
this,f=a+524288,b=524288;f>this.length&&(b-=f-this.length);return r(this.url,a,b,this.customHeaders).then(function(f){c.writeChunk(f,a)})},getChunks:function(a){for(var c=a.length,f=Array(c),b=0;b<c;++b)f[b]=this.getChunkAsync(a[b]);return CancellablePromise.all(f)},keepChunks:function(a){for(var c=a.length,f=0;f<c;++f)this.lruUpdate(a[f])},writeChunk:function(a,c,b){b=b||0;var f=this.chunkMap[c],d=a.length,p=this.lruList.length>=Module.chunkMax&&!f;524288!==d||a.buffer.byteLength!==d?(p?(f=this.lruList.shift(),
p=this.chunkMap[f],524288>p.length&&(p=new Int8Array(524288)),this.chunkMap[f]=null):p=f?this.chunkMap[c]:new Int8Array(524288),p.subarray(b,b+d).set(a),a=p):p&&(f=this.lruList.shift(),this.chunkMap[f]=null);this.lruUpdate(c);this.chunkMap[c]=a}};var w=function(a){this.chunkStorage=a;this.position=0;this.length=this.chunkStorage.length};w.prototype={read:function(a,c,b){var f=this.position+b<=this.length,d=f?b:this.length-this.position;if(this.position<this.length){var p;for(p=0;p<d;){var e=this.position%
524288;var g=this.position-e;var k=d-p;if(this.chunkStorage.hadChunk(g)){g=this.chunkStorage.getChunk(g);var h=a.subarray(c+p,c+p+k);e=g.subarray(e,e+k);h.set(e);e=e.length;p+=e;this.position+=e}else for(this.position+=k;p<d;++p)h[p]=0}}if(!f){h=c+d;if(b-=d)c=this.chunkStorage.getCacheData(),b>c.length&&(b=c.length),f=this.position-this.length,h=a.subarray(h,h+b),e=c.subarray(f,f+b),h.set(e);this.position+=b;return d+b}return d},write:function(a,c,b){var f=this.position+b<=this.length,d=this.position+
b<=this.length?b:this.length-this.position,e=a.subarray(c,c+d),p=this.position%524288;this.chunkStorage.writeChunk(e,this.position-p,p);this.position+=d;if(!f){e=c+d;if(b-=d)c=this.chunkStorage.getCacheData(),b>c.length&&(b=c.length),f=this.position-this.length,e=a.subarray(e,e+b),c.subarray(f,f+b).set(e);this.position+=b;return d+b}return d},seek:function(a){this.position=a},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};
var y=function(a){this.docId=a;this.length=0;this.data=new Int8Array(8192);this.position=0};y.prototype={seek:function(a){this.position=a},close:function(){var a=new Int8Array(this.data.buffer.slice(0,this.length));Module.ChangeDocBackend(this.docId,{ptr:Module.GetDoc(this.docId),buffer:a});this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length},read:function(a,c,b){var f=this.data.length;b=b+c<f?b:f-c;a=a.subarray(c,c+b);c=this.data.subarray(this.position,
this.position+b);a.set(c);this.position+=b;return b},write:function(a,c,b){for(var f=this.position+b,d=this.data.length;f>d;){d=Math.max(d*(16777216<d?1.5:2),f);var e=new Int8Array(d);e.set(this.data.subarray(0,this.length),0);this.data=e}a=a.subarray(c,c+b);this.data.set(a,this.position);this.position+=b;this.position>this.length&&(this.length=this.position);return b}};var C={IsSink:function(a){return 66===(a.flags&255)},open:function(a){var c=a.path.slice(1);this.IsSink(a)?(a.provider=new y(c),
Module.docs[c].sink=a.provider):a.provider=Module.docs[c].sink?new t(Module.docs[c].sink.data):Module.docs[c].chunkStorage?new w(Module.docs[c].chunkStorage):Module.docs[c].buffer?new t(Module.docs[c].buffer):new q(Module.docs[c].file)},close:function(a){a.provider.close()},read:function(a,c,b,d,e){return a.provider.read(c,b,d)},llseek:function(a,c,b){a=a.provider;1===b?c+=a.getPos():2===b&&(c=a.getTotalSize()+c);if(0>c)throw new FS.ErrnoError(h.ERRNO_CODES.EINVAL);a.seek(c);return c},write:function(a,
c,b,d,e){return d?a.provider.write(c,b,d):0}};h.THROW=function(a){throw{type:"InvalidPDF",message:a};};var u=function(f){return"Exception: \n\t Message: "+a.GetJSStringFromCString(Module._TRN_GetMessage(f))+"\n\t Filename: "+a.GetJSStringFromCString(Module._TRN_GetFileName(f))+"\n\t Function: "+a.GetJSStringFromCString(Module._TRN_GetFunction(f))+"\n\t Linenumber: "+a.GetJSStringFromCString(Module._TRN_GetLineNum(f))};a.GetErrToString=u;h.REX=function(a){a&&THROW(u(a))};a.Initialize=function(a){var c=
Module.stackSave();a=a?Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_STACK):0;REX(Module._TRN_PDFNetInitialize(a));Module.stackRestore(c)};a.GetDoc=function(a){if(a in Module.docs)return Module.docs[a].ptr;throw{type:"InvalidDocReference",message:"Unable to access Document id="+a+". The document appears to be invalid or was deleted."};};a.clearDocBackend=function(){null!==Module.cachePtr?(Module.hasBufOwnership&&Module._free(Module.cachePtr),Module.cachePtr=null):Module.docs[a.currentFileString]&&
delete Module.docs[a.currentFileString]};a.MakeDev=function(a){if(!k[a]){var c=FS.makedev(3,5);FS.registerDevice(c,C);FS.mkdev(a,511,c);k[a]=!0}};a.CreateDocFileBackend=function(a,c){Module.MakeDev(c);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.docs[c]={file:a};a=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(a,b));b=Module.getValue(b,"i8*");Module.docs[c].ptr=b};a.InsertImageIntoDoc=function(a,c,b){var f=[];try{var d=Module.ElementBuilderCreate();
f.push(function(){Module.ElementBuilderDestroy(d)});var e=Module.ElementWriterCreate();f.push(function(){Module.ElementWriterDestroy(e)});if(b){var p=b.width;var g=b.height}else p=Module.ImageGetImageWidth(c),g=Module.ImageGetImageHeight(c),b=p/g,1<b?(p=612,g=parseInt(p/b,10)):(g=792,p=parseInt(g*b,10));var k=Module.ElementBuilderCreateImage(d,c,0,0,p,g),h=Module.PDFDocPageCreate(a,p,g);Module.ElementWriterBegin(e,h);Module.ElementWriterWritePlacedElement(e,k);Module.ElementWriterEnd(e);Module.PDFDocPagePushBack(a,
h)}finally{f.forEach(function(a){a()})}};var N=function(a,c,b){"object"===typeof a?(this.m_pages=a.m_pages,this.m_has_named_dests=a.m_has_named_dests,this.m_finished_download=a.m_finished_download,this.m_has_outline=a.m_has_outline,this.m_current_page=a.m_current_page,this.m_id=a.m_id,this.size=a.size,this.timeout=a.timeout,this.eventPageArray=a.eventPageArray,this.requirePageCallbacks=a.requirePageCallbacks):(this.m_pages=[],this.m_has_outline=this.m_finished_download=this.m_has_named_dests=!1,this.m_current_page=
1,this.m_id=b,this.size=a,this.timeout=null,this.eventPageArray=[],this.requirePageCallbacks={});this.downloadUserData=Module.createDownloadUserData(c,b)};N.prototype={getJSUrl:function(){return Module.extractDownloadUserData(this.downloadUserData).url},getDocId:function(){return Module.extractDownloadUserData(this.downloadUserData).docId},destroyUserData:function(){this.m_id in Module.customHeadersMap&&delete Module.customHeadersMap[this.m_id];Module.destroyDownloadUserData(this.downloadUserData)}};
a.createDownloadUserData=function(a,c){a=Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_NORMAL);var b=Module.allocate(8,"i8",Module.ALLOC_NORMAL);Module.setValue(b,a,"i8*");Module.setValue(b+4,parseInt(c,10),"i32");return this.downloadUserData=b};a.extractDownloadUserData=function(b){var c=Module.getValue(b,"i8*");c=a.GetJSStringFromCString(c);b=Module.getValue(b+4,"i32").toString();return{url:c,docId:b}};a.destroyDownloadUserData=function(a){Module._free(Module.getValue(a,"i8*"));
Module._free(a)};h.downloadDataMap={};Module.customHeadersMap={};a.GetDownloadData=function(a){if(a in downloadDataMap)return downloadDataMap[a]};a.DownloaderHint=function(a,c){var b=this,f=Module.GetDoc(a),d=downloadDataMap[f];c.currentPage&&(d.m_current_page=c.currentPage);if(c.visiblePages){var e=c.visiblePages;for(c=0;c<e.length;++c)++e[c];Object.keys(this.requirePageCallbacks).forEach(function(a){b.requirePageCallbacks.hasOwnProperty(a)&&e.push(parseInt(a,10))});(c=Module.docs[a].chunkStorage)&&
c.keepVisibleChunks(d.downloader,e);d=e.length;a=Module.allocate(4*d,"i8",Module.ALLOC_STACK);for(c=0;c<d;++c)Module.setValue(a+4*c,e[c],"i32");REX(Module._TRN_PDFDocDownloadPages(f,a,d,1,0))}};a.RequirePage=function(a,c){return new Promise(function(b,f){f=Module.GetDoc(a);var d=downloadDataMap[f];d&&!d.m_pages[c]?(c in d.requirePageCallbacks?d.requirePageCallbacks[c].push(b):d.requirePageCallbacks[c]=[b],b=Module.allocate(4,"i8",Module.ALLOC_STACK),Module.setValue(b,c,"i32"),Module._TRN_PDFDocDownloadPages(f,
b,1,0,0)):b()})};a.IsLinearizationValid=function(a){a=Module.GetDoc(a);if(a=downloadDataMap[a]){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderIsLinearizationValid(a.downloader,c));return 0!==Module.getValue(c,"i8")}return!1};a.ShouldRunRender=function(a,c){a=Module.GetDoc(a);return(a=downloadDataMap[a])?a.m_pages[c]:!0};a.createCallbacksStruct=function(a){if(!n){var c=function(a){return function(c){var f=arguments;c in downloadDataMap?a.apply(this,f):b(function(){c in
downloadDataMap&&a.apply(this,f)},0)}};n={downloadProc:Module.addFunction(function(a,c,b,f,d){f=Module.extractDownloadUserData(f);var e=f.docId;r(f.url,c,b,Module.customHeadersMap[e]).then(function(f){e in Module.docs&&Module.docs[e].chunkStorage&&Module.docs[e].chunkStorage.writeChunk(f,c);Module._TRN_DownloadComplete(0,c,b,a)})}),notifyUpdatePage:Module.addFunction(c(function(a,c,b,f){var d=downloadDataMap[a];d.m_pages[c]=!0;var e=d.eventPageArray;if(c in d.requirePageCallbacks)for(b=d.requirePageCallbacks[c],
f=0;f<b.length;++f)b[f]();d.timeout?e.push(c):(e=d.eventPageArray=[c],d.timeout=setTimeout(function(){Module.postPagesUpdatedEvent(a,d.m_id,e);d.timeout=null},100))})),notifyUpdateOutline:Module.addFunction(c(function(a,c){a=downloadDataMap[a];a.m_has_outline||(a.m_has_outline=!0,Module.postEvent(a.m_id,"bookmarksUpdated",{}))})),notifyUpdateNamedDests:Module.addFunction(c(function(a,c){a=downloadDataMap[a];a.m_has_named_dests||(a.m_has_named_dests=!0)})),notifyUpdateThumb:Module.addFunction(c(function(a,
c){})),notifyFinishedDownload:Module.addFunction(c(function(a,c){a=downloadDataMap[a];a.m_finished_download||(a.m_finished_download=!0,Module.postEvent(a.m_id,"documentComplete",{}))})),notifyDocumentError:Module.addFunction(function(a,c){}),getCurrentPage:Module.addFunction(function(a,c){return downloadDataMap[a].m_current_page})}}c=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(c,n.downloadProc,"i8*");Module.setValue(c+4,a,"i8*");Module.setValue(c+8,n.notifyUpdatePage,"i8*");Module.setValue(c+
12,n.notifyUpdateOutline,"i8*");Module.setValue(c+16,n.notifyUpdateNamedDests,"i8*");Module.setValue(c+20,n.notifyUpdateThumb,"i8*");Module.setValue(c+24,n.notifyFinishedDownload,"i8*");Module.setValue(c+28,n.notifyDocumentError,"i8*");Module.setValue(c+32,n.getCurrentPage,"i8*");Module.setValue(c+36,0,"i8*");return c};a.CreateDocDownloaderBackend=function(a,c,b){var f=a.url,d=a.size,e=a.customHeaders;e&&(Module.customHeadersMap[b]=e);var p=a.downloadData?new N(a.downloadData,f,b,e):new N(a.size,
f,b,e);var k=Module.createCallbacksStruct(p.downloadUserData),h=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.MakeDev(b);a.chunkStorage?f=new g(a.chunkStorage):(a=new Int8Array(new ArrayBuffer(Math.ceil((a.size+524288-1)/524288/8))),f=new g(f,d,e,a));Module.docs[b]={chunkStorage:f};REX(Module._TRN_DownloaderCreate(k,d,Module.GetUStringFromJSString(b),h));p.downloader=Module.getValue(h,"i8*");if(d=Module._TRN_PDFDocCreateFromFilter(p.downloader,c))Module._TRN_FilterDestroy(p.downloader),REX(d);
c=Module.getValue(c,"i8*");Module.docs[b].ptr=c;Module.PDFDocInitSecurityHandler(c)&&REX(Module._TRN_PDFDocDownloaderInitialize(c,p.downloader));downloadDataMap[c]=p};a.CreateDocBackend=function(b,c){var f=b.value,d=b.extension,e=b.type,g=Module.allocate(4,"i8",Module.ALLOC_STACK),k=Module.stackSave();try{if(f)if("ptr"===e)Module.docs[c]={ptr:f};else if(e=d&&"pdf"!==d,"object"===typeof f&&f.url)a.CreateDocDownloaderBackend(f,g,c);else{var h=f instanceof ArrayBuffer,q=h?"buffer":"file";if(h&&(f=new Uint8Array(f),
10485760>f.length+l&&!e)){l+=f.length;var m=f.length,n=Module._malloc(f.length);Module.HEAPU8.set(f,n);REX(Module._TRN_PDFDocCreateFromBuffer(n,m,g));var r=Module.getValue(g,"i8*");Module.docs[c]={ptr:r,bufPtr:n,bufPtrSize:m,ownership:!0};Module.docs[c].extension=d;return}Module.MakeDev(c);h={};h[q]=f;Module.docs[c]=h;if(e){if(b.pageSizes&&b.pageSizes.length)var u=b.pageSizes[0];else b.defaultPageSize&&(u=b.defaultPageSize);var w=Module.GetUStringFromJSString(c);REX(Module._TRN_PDFDocCreate(g));r=
Module.getValue(g,"i8*");var t=Module.ImageCreateFromFile(r,w);Module.InsertImageIntoDoc(r,t,u)}else{var y=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(y,g));r=Module.getValue(g,"i8*")}Module.docs[c].extension=d;Module.docs[c].ptr=r}else REX(Module._TRN_PDFDocCreate(g)),r=Module.getValue(g,"i8*"),Module.docs[c]={ptr:r},Module.docs[c].extension=d}finally{Module.stackRestore(k)}};a.ChangeDocBackend=function(a,c){var b=Module.docs[a];
b?(b.bufPtr&&b.ownership&&(Module._free(b.bufPtr),l-=b.bufPtrSize),delete Module.docs[a]):Object(d.c)("Trying to delete document "+a+" that does not exist.");Module.docs[a]=c};a.DeleteDoc=function(a){var c=Module.docs[a];c?(c.ptr&&(c.ptr in downloadDataMap&&(clearTimeout(downloadDataMap[c.ptr].timeout),downloadDataMap[c.ptr].destroyUserData(),delete downloadDataMap[c.ptr]),Module.PDFDocDestroy(c.ptr)),c.bufPtr&&c.ownership&&(Module._free(c.bufPtr),l-=c.bufPtrSize),delete Module.docs[a]):Object(d.c)("Trying to delete document "+
a+" that does not exist.")};a.CreateDoc=function(b,c){if("id"===b.type)return Module.docPtrStringToIdMap[b.value];if(!c){do c=(++e).toString();while(c in Module.docs)}Module.hasBufOwnership=!0;a.CreateDocBackend(b,c);return c};a.CreateEmptyDoc=function(){var a=(++e).toString(),c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreate(c));c=Module.getValue(c,"i8*");Module.docs[a]={ptr:c};return a};a.PDFDocCreateFromLayoutEls=function(a){var c=new Uint8Array(a);a=Module._malloc(c.length);
var b=Module.stackSave(),f=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.HEAPU8.set(c,a);c=Module._TRN_PDFDocCreateFromLayoutEls(a,c.length,f);f=Module.getValue(f,"i8*");Module._free(a);Module.stackRestore(b);REX(c);return f};a.GetPageCount=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageCount(a,c));return Module.getValue(c,"i8*")};a.GetPage=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPage(a,c,b));a=Module.getValue(b,
"i8*");Module.PageIsValid(a)||THROW("Trying to access page that doesn't exist at index "+c);return a};a.PageGetPageWidth=function(a){var c=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageWidth(a,1,c));return Module.getValue(c,"double")};a.PageGetPageHeight=function(a){var c=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageHeight(a,1,c));return Module.getValue(c,"double")};a.PageGetDefaultMatrix=function(a,c){var b=Module.allocate(48,"i8",Module.ALLOC_STACK);
c||(c=0);REX(Module._TRN_PageGetDefaultMatrix(a,!0,1,c,b));return b};a.GetMatrixAsArray=function(a){for(var c=[],b=0;6>b;++b)c[b]=Module.getValue(a+8*b,"double");return c};a.PageGetPageInfo=function(a){var c=Module.allocate(48,"i8",Module.ALLOC_STACK),b=Module.allocate(8,"i8",Module.ALLOC_STACK),f=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageInfo(a,!0,1,0,b,f,c,d));return{rotation:Module.getValue(d,"i8*"),width:Module.getValue(b,
"double"),height:Module.getValue(f,"double"),matrix:Module.GetMatrixAsArray(c)}};a.GetUStringFromJSString=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK),f=2*(a.length+1),d=Module.allocate(f,"i8",c?Module.ALLOC_NORMAL:Module.ALLOC_STACK);Module.stringToUTF16(a,d,f);a=Module._TRN_UStringCreateFromString(d,b);c&&Module._free(d);REX(a);return Module.getValue(b,"i8*")};a.GetJSStringFromUString=function(a){var c=Module.allocate(4,"i16*",Module.ALLOC_STACK);REX(Module._TRN_UStringCStr(a,
c));return Module.UTF16ToString(Module.getValue(c,"i16*"))};a.GetJSStringFromCString=function(a){return Module.UTF8ToString(a)};a.PDFNetSetResourceData=function(a){Module.res_ptr=Module._malloc(a.length);Module.HEAPU8.set(a,Module.res_ptr);REX(Module._TRN_PDFNetSetResourceData(Module.res_ptr,a.length));Module.res_ptr_size=a.length};a.PDFDocDestroy=function(a){REX(Module._TRN_PDFDocDestroy(a))};a.VectorGetSize=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_VectorGetSize(a,
c));return Module.getValue(c,"i32")};a.VectorGetAt=function(a,c){var b=Module.allocate(1,"i8*",Module.ALLOC_STACK);REX(Module._TRN_VectorGetAt(a,c,b));return Module.getValue(b,"i8*")};a.VectorDestroy=function(a){REX(Module._TRN_VectorDestroy(a))};a.PDFRasterizerCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerCreate(0,a));return Module.getValue(a,"i8*")};a.ExtractSeparationData=function(a){var c=Module.getValue(a,"i8*"),b=Module.getValue(a+4,"i32"),f=
Module.getValue(a+8,"i8*"),d=Module.HEAPU8[a+12],e=Module.HEAPU8[a+13],g=Module.HEAPU8[a+14];a=Module.HEAPU8[a+15];var k=new Uint8Array(b);k.set(Module.HEAPU8.subarray(c,c+b));c=Module.GetJSStringFromUString(f);return{color:[d,e,g,a],data:k.buffer,name:c}};a.PDFRasterizerRasterizeSeparations=function(a,c,b,d,e,g,k){var f=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerRasterizeSeparations(a,c,b,d,e,g,k,f));a=Module.getValue(f,"i8*");c=Module.VectorGetSize(a);b=Array(c);for(d=
0;d<c;++d)e=Module.VectorGetAt(a,d),b[d]=Module.ExtractSeparationData(e);Module.VectorDestroy(a);return b};a.PageGetRotation=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,c));return Module.getValue(c,"i8*")};a.PageGetId=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetSDFObj(a,c));c=Module.getValue(c,"i8*");a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetObjNum(c,a));a=Module.getValue(a,"i32");var b=
Module.allocate(2,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetGenNum(c,b));b=Module.getValue(b,"i16");return a+"-"+b};a.PageSetRotation=function(a,c){REX(Module._TRN_PageSetRotation(a,c))};a.GetDefaultMatrixBox=function(a,c,b){var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,d));a=(Module.getValue(d,"i32")+b)%4;b=Module.allocate(48,"i8",Module.ALLOC_STACK);switch(a){case 0:return REX(Module._TRN_Matrix2DSet(b,1,0,0,-1,-c.x1,c.y2)),b;case 1:return REX(Module._TRN_Matrix2DSet(b,
0,1,1,0,-c.y1,-c.x1)),b;case 2:return REX(Module._TRN_Matrix2DSet(b,-1,0,0,1,c.x2,-c.y1)),b;case 3:return REX(Module._TRN_Matrix2DSet(b,0,-1,-1,0,c.y2,c.x2)),b}throw Error("Yikes, we don't support that rotation type");};a.Matrix2DMultBBox=function(a,c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,c.x1,"double");Module.setValue(d,c.y1,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x1=Module.getValue(b,"double");c.y1=Module.getValue(d,
"double");Module.setValue(b,c.x2,"double");Module.setValue(d,c.y2,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x2=Module.getValue(b,"double");c.y2=Module.getValue(d,"double");return c};a.Matrix2DMult=function(a,c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,c.x,"double");Module.setValue(d,c.y,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x=Module.getValue(b,"double");c.y=Module.getValue(d,"double");return c};a.Matrix2DConcat=
function(a,c){var b=Module.getValue(c,"double"),d=Module.getValue(c+8,"double"),f=Module.getValue(c+16,"double"),e=Module.getValue(c+24,"double"),g=Module.getValue(c+32,"double");c=Module.getValue(c+40,"double");REX(Module._TRN_Matrix2DConcat(a,b,d,f,e,g,c))};a.Matrix2DSet=function(a,c,b,d,e,g,k){REX(Module._TRN_Matrix2DSet(a,c,b,d,e,g,k))};a.IteratorHasNext=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorHasNext(a,c));return 0!==Module.getValue(c,"i8")};a.IteratorCurrent=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorCurrent(a,c));return Module.getValue(Module.getValue(c,"i8*"),"i8*")};a.IteratorNext=function(a){REX(Module._TRN_IteratorNext(a))};a.PageGetNumAnnots=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetNumAnnots(a,c));return Module.getValue(c,"i32")};a.PageGetAnnot=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetAnnot(a,c,b));return Module.getValue(b,
"i8*")};a.PageAnnotRemove=function(a,c){REX(Module._TRN_PageAnnotRemoveByIndex(a,c))};a.AnnotGetType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetType(a,c));return Module.getValue(c,"i32")};a.AnnotHasAppearance=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetAppearance(a,0,0,c));return 0!==Module.getValue(c,"i8*")};a.AnnotRefreshAppearance=function(a){REX(Module._TRN_AnnotRefreshAppearance(a))};a.ObjErase=function(a,c){c=
Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjEraseFromKey(a,c))};a.GetJSDoubleArrFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"double"),a+=8;return b};a.GetJSIntArrayFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"i32"),a+=4;return b};a.BookmarkIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.BookmarkGetNext=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetNext(a,c));return Module.getValue(c,"i8*")};a.BookmarkGetFirstChild=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetFirstChild(a,c));return Module.getValue(c,"i8*")};a.BookmarkHasChildren=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkHasChildren(a,c));return 0!==Module.getValue(c,"i8")};a.BookmarkGetAction=function(a){var c=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetAction(a,c));return Module.getValue(c,"i8*")};a.BookmarkGetTitle=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetTitle(a,c));a=Module.getValue(c,"i8*");return Module.GetJSStringFromUString(a)};a.ActionIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.ActionGetType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_ActionGetType(a,c));return Module.getValue(c,"i32")};a.ActionGetDest=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetDest(a,c));return Module.getValue(c,"i8*")};a.DestinationIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.DestinationGetPage=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetPage(a,c));return Module.getValue(c,
"i8*")};a.PageIsValid=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageIsValid(a,c));return 0!==Module.getValue(c,"i8")};a.PageGetIndex=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetIndex(a,c));return Module.getValue(c,"i32")};a.ObjGetAsPDFText=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAsPDFText(a,c));a=Module.getValue(c,"i8*");return Module.GetJSStringFromUString(a)};a.ObjFindObj=function(a,
c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjFindObj(a,c,b));return Module.getValue(b,"i8*")};a.PDFDocGetFirstBookmark=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetFirstBookmark(a,c));return Module.getValue(c,"i8*")};a.DestinationGetExplicitDestObj=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetExplicitDestObj(a,c));
return Module.getValue(c,"i8*")};a.DestinationGetFitType=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetFitType(a,c));return Module.getValue(c,"i32")};a.ObjIsNumber=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjIsNumber(a,c));return 0!==Module.getValue(c,"i8")};a.ObjGetNumber=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetNumber(a,c));return Module.getValue(c,"double")};a.PDFDocGetRoot=
function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetRoot(a,c));return Module.getValue(c,"i8*")};a.ObjPutName=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutName(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjPutDict=function(a,c){c=Module.allocate(Module.intArrayFromString(c),"i8",
Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutDict(a,c,b));return Module.getValue(b,"i8*")};a.ObjPutString=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutString(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjPut=function(a,c,b){c=Module.allocate(Module.intArrayFromString(c),
"i8",Module.ALLOC_STACK);var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPut(a,c,b,d));return Module.getValue(d,"i8*")};a.ObjGetAt=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAt(a,c,b));return Module.getValue(b,"i8*")};a.Matrix2DInverse=function(a){var c=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_Matrix2DInverse(a,c));return c};a.PDFDocInitSecurityHandler=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitSecurityHandler(a,
0,c));return 0!==Module.getValue(c,"i8")};a.PDFDocInitStdSecurityHandler=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.intArrayFromString(c);var d=Module.allocate(c,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitStdSecurityHandler(a,d,c.length-1,b));return 0!==Module.getValue(b,"i8")};a.PDFDocInsertPages=function(a,c,b,d,e){REX(Module._TRN_PDFDocInsertPageSet(a,c,b,d,e?1:0,0))};a.PDFDocMovePages=function(a,c,b){REX(Module._TRN_PDFDocMovePageSet(a,c,a,b,0,0))};a.PDFDocGetPageIterator=
function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageIterator(a,c,b));return Module.getValue(b,"i8*")};a.PDFDocPageRemove=function(a,c){REX(Module._TRN_PDFDocPageRemove(a,c))};a.PDFDocPageCreate=function(a,c,b){var d=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(d,0,"double");Module.setValue(d+8,0,"double");Module.setValue(d+16,c,"double");Module.setValue(d+24,b,"double");Module.setValue(d+32,0,"double");c=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PDFDocPageCreate(a,d,c));return Module.getValue(c,"i8*")};a.PDFDocPageInsert=function(a,c,b){REX(Module._TRN_PDFDocPageInsert(a,c,b))};a.PageSetCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreate(a));return Module.getValue(a,"i8*")};a.PageSetCreateRange=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreateRange(b,a,c));return Module.getValue(b,"i8*")};a.PageSetAddPage=function(a,c){REX(Module._TRN_PageSetAddPage(a,
c))};a.ElementBuilderCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreate(a));return Module.getValue(a,"i8*")};a.ElementBuilderDestroy=function(a){REX(Module._TRN_ElementBuilderDestroy(a))};a.ElementBuilderCreateImage=function(a,c,b,d,e,g){var f=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreateImageScaled(a,c,b,d,e,g,f));return Module.getValue(f,"i8*")};a.ElementWriterCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_ElementWriterCreate(a));return Module.getValue(a,"i8*")};a.ElementWriterDestroy=function(a){REX(Module._TRN_ElementWriterDestroy(a))};a.ElementWriterBegin=function(a,c){REX(Module._TRN_ElementWriterBeginOnPage(a,c,1))};a.ElementWriterWritePlacedElement=function(a,c){REX(Module._TRN_ElementWriterWritePlacedElement(a,c))};a.ElementWriterEnd=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterEnd(a,c))};a.ImageGetImageWidth=function(a){var c=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageWidth(a,c));return Module.getValue(c,"i32")};a.ImageGetImageHeight=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageHeight(a,c));return Module.getValue(c,"i32")};a.ImageCreateFromMemory2=function(a,c,b){var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromMemory2(a,c,b,0,d));return Module.getValue(d,"i8*")};a.ImageCreateFromFile=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_ImageCreateFromFile(a,c,0,b));return Module.getValue(b,"i8*")};a.PDFDocPagePushBack=function(a,c){REX(Module._TRN_PDFDocPagePushBack(a,c))};a.PDFDocHasOC=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocHasOC(a,c));return 0!==Module.getValue(c,"i8")};a.PDFDocGetOCGConfig=function(a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetOCGConfig(a,c));return Module.getValue(c,"i8*")};a.OCGContextCreate=function(a){var c=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_OCGContextCreateFromConfig(a,c));return Module.getValue(c,"i8*")};a.UStringDestroy=function(a){REX(Module._TRN_UStringDestroy(a))};a.FDFDocDestroy=function(a){REX(Module._TRN_FDFDocDestroy(a))}})(h.Module)}).call(this,l(4).setImmediate)},function(b,h,l){(function(b){b.SetupPDFNetFunctions=function(d){Module._IB_=[];for(var h=function(a){if("object"===typeof a&&null!==a)if("undefined"!==typeof a.byteLength){var b=Module._IB_.length;Module._IB_[b]=new Uint8Array(a);
a={handle:b,isArrayBufferRef:!0}}else Object.keys(a).forEach(function(b){a.hasOwnProperty(b)&&(a[b]=h(a[b]))});return a},a=function(b){"object"===typeof b&&null!==b&&(b.buffer?b=b.buffer.slice(b.byteOffset,b.byteOffset+b.length):b.isArrayBufferRef?b=Module._IB_[b.handle].buffer:Object.keys(b).forEach(function(d){b.hasOwnProperty(d)&&(b[d]=a(b[d]))}));return b},l=Module._TRN_EMSCreateSharedWorkerInstance(),e,k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(l),n=function(b,d){return new Promise(function(e,
g){b=h(b);var k=b.docId;k=k?Module.GetDoc(k):0;(k=Module.EMSCallSharedFunction(l,d,k))?g({type:"InvalidPDF",message:Module.GetErrToString(k)}):(g=Module.EMSGetLastResponse(l),g=a(g),e(g))})};e=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)e=Module.GetJSStringFromCString(e),b.queue.onAsync(e,n);Module._TRN_EMSFunctionIteratorDestroy(k);if(Module._TRN_EMSCreatePDFNetWorkerInstance){var r={};k=function(a,b){d.on(a,b);r[a]=!0};Module.docPtrStringToIdMap={};var q=function(a){if(a in Module.docPtrStringToIdMap)return Module.docPtrStringToIdMap[a];
throw Error("Couldn't find document "+a);};b.queue.onAsync("PDFDoc.RequirePage",function(a){return Module.RequirePage(q(a.docId),a.pageNum)});k("pdfDocCreateFromBuffer",function(a){a=Module.CreateDoc({type:"array",value:a.buf});var b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=a;return b});k("PDFDoc.destroy",function(a){a=q(a.auto_dealloc_obj);Module.DeleteDoc(a)});k("PDFDoc.saveMemoryBuffer",function(a){var b=q(a.doc);return Module.SaveHelper(Module.GetDoc(b),b,a.flags).slice(0)});
k("pdfDocCreate",function(){var a=Module.CreateDoc({type:"new"}),b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=a;return b});k("GetPDFDoc",function(a){a=a.docId;var b=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[b]=a;return b});k("ExtractPDFNetLayersContext",function(a){var b=a.layers;a=Module.GetDoc(a.docId);var d=0;b?d=Module.EMSCreateUpdatedLayersContext(a,b):Module.PDFDocHasOC(a)&&(b=Module.PDFDocGetOCGConfig(a),d=Module.OCGContextCreate(b));return d.toString(16)});
var z=Module._TRN_EMSCreatePDFNetWorkerInstance();k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(z);for(n=function(b){return new Promise(function(d,e){b=h(b);var g=Module.EMSCallPDFNetFunction(z,b);g?e(Module.GetErrToString(g)):(e=Module.EMSGetLastResponse(z),e=a(e),d(e))})};e=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)if(e=Module.GetJSStringFromCString(e),!r[e])d.onAsync(e,n);Module._TRN_EMSFunctionIteratorDestroy(k)}}})(self)},function(b,h,l){var r=l(0);b=l(3);var d=l.n(b),t=l(8),
a=l(9),m=l(6);(function(b){function e(a){var b={};decodeURIComponent(a.slice(1)).split("&").forEach(function(a){a=a.split("=",2);b[a[0]]=a[1]});return b}var h=null;b.basePath="../";var l=function(){var a=b.pdfWorkerPath||"";b.workerBasePath&&(b.basePath=b.workerBasePath);var d=e(b.location.search),g="true"===d.isfull,h=g?"full/":"lean/";d.pdfWorkerPath&&(a=d.pdfWorkerPath,b.basePath="../",Object(m.b)()||(a=""));b.basePath=d.externalPath?d.externalPath:b.basePath+"external/";Object(m.a)(a+h+"PDFNetC",
{"Wasm.wasm":4E6,"Wasm.js.mem":1E5,".js.mem":6E6,".mem":g?2E6:3E5})};self.shouldResize||l();b.EmscriptenPDFManager=function(){};b.EmscriptenPDFManager.prototype={OnInitialized:function(a){Module.loaded?a():(Module.initCb=function(){a()},Object(r.b)("worker","PDFNet is not initialized yet!"))},NewDoc:function(a,b){return new Promise(function(d,e){try{d(Module.loadDoc(a,b))}catch(y){e(y)}})},Initialize:function(a,d,e,h){a&&(Module.TOTAL_MEMORY=a);Module.memoryInitializerPrefixURL=d;Module.asmjsPrefix=
e;b.basePath=h;l()},shouldRunRender:function(a){return Module.ShouldRunRender(a.docId,a.pageIndex+1)}};(function(a){function e(a){var c=a.data,d=a.action;var e="GetCanvas"===d||"GetCanvasPartial"===d?m.shouldRunRender(c):!0;if(e){h=a;var f=a.asyncCallCapability;Object(r.b)("Memory","Worker running command: "+d);n.actionMap[d](c,a).then(function(a){f.resolve(a)},function(a){f.reject(a)})}else b.deferredQueue.queue(a),l()}function g(a){a.asyncCallCapability=createPromiseCapability();h?n.queue(a):e(a);
return a.asyncCallCapability.promise}function k(d){self.shouldResize&&m.Initialize(d.options.workerHeapSize,d.options.pdfResourcePath,d.options.pdfAsmPath,d.options.parentUrl);Module.chunkMax=d.options.chunkMax;if(d.array instanceof Uint8Array){var e=255===d.array[0];a.postMessageTransfers=e;"response"in new XMLHttpRequest?m.OnInitialized(function(){b.SetupPDFNetFunctions(a);c();a.send("test",{supportTypedArray:!0,supportTransfers:e})}):a.send("test",!1)}else a.send("test",!1)}function l(){t.a.setImmediate(function(){if(!h||
"BeginOperation"!==h.action)if(n.length){if(!h||99999!==h.priority){var a=n.dequeue();e(a)}}else h=null})}var m=new b.EmscriptenPDFManager,n,q=!1,f=!1;Module.workerMessageHandler=a;var c=function(){q?f||(a.send("workerLoaded",{}),f=!0):q=!0};m.OnInitialized(c);(function(){b.queue=n=new d.a({strategy:d.a.ArrayStrategy,comparator:function(a,b){return a.priority===b.priority?a.callbackId-b.callbackId:b.priority-a.priority}});b.deferredQueue=new d.a({strategy:d.a.ArrayStrategy,comparator:function(a,b){return a.priority===
b.priority?a.callbackId-b.callbackId:b.priority-a.priority}});n.actionMap={};n.onAsync=function(b,c){a.onAsync(b,g);n.actionMap[b]=c}})();a.on("test",k);a.on("InitWorker",k);var p=function(a){h&&a(h)&&(Module.cancelCurrent(),h=null);n.removeAllMatching(a,function(a){a.asyncCallCapability.reject({type:"Cancelled",message:"Operation was cancelled due to document deletion."})})},x=function(a){p(function(b){return b.data&&b.data.docId===a})};a.on("UpdatePassword",function(a){return Module.UpdatePassword(a.docId,
a.password)});a.on("LoadRes",function(a){Module.loadResources(a.array,a.l);return{}});a.on("DownloaderHint",function(a){Module.DownloaderHint(a.docId,a.hint)});a.on("IsLinearized",function(a){return Module.IsLinearizationValid(a.docId)});a.onNextAsync(l);n.onAsync("NewDoc",function(a){return m.NewDoc(a)});n.onAsync("GetCanvas",function(a){Object(r.b)("workerdetails","Run GetCanvas PageIdx: "+a.pageIndex+" Width: "+a.width);Object(r.b)("Memory","loadCanvas with potential memory usage "+a.width*a.height*
8);return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,null,a.layers,a.overprintMode)});n.onAsync("GetCanvasPartial",function(a){Object(r.b)("Memory","GetCanvasPartial with potential memory usage "+a.width*a.height*8);return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,a.bbox,a.layers,a.overprintMode)});n.onAsync("LoadText",function(a){return Module.GetTextData(a.docId,a.pageIndex)});n.onAsync("SaveDoc",function(a){return Module.SaveDoc(a.docId,a.xfdfString,
a.finishedWithDocument,a.printDocument,a.flags,a.watermarks)});n.onAsync("SaveDocFromFixedElements",function(a){return Module.SaveDocFromFixedElements(a.bytes,a.xfdfString,a.flags,a.watermarks)});n.onAsync("MergeXFDF",function(a){return Module.MergeXFDF(a.docId,a.xfdf)});n.onAsync("InsertPages",function(a){return Module.InsertPages(a.docId,a.doc,a.pageArray,a.destPos,a.insertBookmarks)});n.onAsync("MovePages",function(a){return Module.MovePages(a.docId,a.pageArray,a.destPos)});n.onAsync("RemovePages",
function(a){return Module.RemovePages(a.docId,a.pageArray)});n.onAsync("RotatePages",function(a){return Module.RotatePages(a.docId,a.pageArray,a.rotation)});n.onAsync("ExtractPages",function(a){return Module.ExtractPages(a.docId,a.pageArray,a.xfdfString,a.watermarks)});n.onAsync("CropPages",function(a){return Module.CropPages(a.docId,a.pageArray,a.topMargin,a.botMargin,a.leftMargin,a.rightMargin)});n.onAsync("InsertBlankPages",function(a){return Module.InsertBlankPages(a.docId,a.pageArray,a.width,
a.height)});n.onAsync("BeginOperation",function(){return Promise.resolve()});n.onAsync("RequirePage",function(a,b){return Module.RequirePage(a.docId,a.pageNum)});a.on("FinishOperation",function(){if("BeginOperation"===h.action)a.onNextAsync(l),Module.cancelCurrent(),h=null;else throw{message:"Operation has not started."};});a.on("DeleteDocument",function(a){a=a.docId;x(a);Module.DeleteDoc(a)});a.on("LoadBookmarks",function(a){return Module.LoadBookmarks(a.docId)});a.on("GetCanvasProgressive",function(a){if(h&&
h.callbackId===a.callbackId){Object(r.b)("worker","Progressive request in progress");var c=Module.GetCurrentCanvasData(!0)}else{if(n.find({priority:0,callbackId:a.callbackId}))throw Object(r.b)("worker","Progressive request Queued"),{type:"Queued",message:"Rendering has not started yet."};if(b.deferredQueue.find({priority:0,callbackId:a.callbackId}))throw Object(r.b)("worker","Progressive request Deferred"),{type:"Queued",message:"Rendering has not started yet."};}if(!c)throw Object(r.b)("worker",
"Progressive request invalid (render already complete)"),{type:"Unavailable",message:"Rendering is complete or was cancelled."};return c});a.on("actionCancel",function(a){h&&h.callbackId===a.callbackId?(Object(r.b)("workerdetails","Cancelled Current Operation"),Module.cancelCurrent()&&l()):(Object(r.b)("workerdetails","Cancelled queued operation"),n.remove({priority:0,callbackId:a.callbackId}),b.deferredQueue.remove({priority:0,callbackId:a.callbackId}))})})(new a.a("worker_processor",self))})("undefined"===
typeof window?self:window)}]);}).call(this || window)
